// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/launch-bc2c66d5dd0b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-02-27T12:07:06Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN29958f5199984bd5b6434818162d5ca7",stage:"production"},dataElements:{pr_att_modelName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.modelName;return""==s&&(s="not set"),s}catch(e){return"not set"}}}},"AAM-dilMarketList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["bmw.de"]}catch(t){var e={from:"AA",type:"DE",name:"AAM-dilMarketList"};_satellite.logger.error(t,e)}}}},perfTime_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.query):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_query : "+e),"na"}}}},setProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){for(var s=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&s.push(e[a]);return s}function t(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}return function(s){var a=["new vehicle","used vehicle","service","search","after sales","other"];try{var o,n=_satellite.getVar("snapshotDL"),i="",r=(n.get("product"),{});for(var c in n.get("product"))isNaN(+c)||(r[n.get("product."+c+".productInfo.productID")]=c,"vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")),"new vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")),"used vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")));var d={product:{}};for(var c in n.get("product"))isNaN(+c)||(d.product[n.get("product."+c+".productInfo.productID")]={},d.product[n.get("product."+c+".productInfo.productID")]=n.get("product."+c));var l=Object.keys(d.product);for(var u in n.get("cart"),d.cart={},n.get("cart.item"))isNaN(+u)||"datalayer field missing"!=n.get("cart.item."+u+".productInfo.productID")&&"datalayer field empty"!=n.get("cart.item."+u+".productInfo.productID")&&(d.cart[n.get("cart.item."+u+".productInfo.productID")]={},d.cart[n.get("cart.item."+u+".productInfo.productID")]=n.get("cart.item."+u));var b=Object.keys(d.cart);for(var m in n.get("transaction"),d.transaction={},n.get("transaction.-1.item"))isNaN(+u)||"datalayer field missing"!=n.get("transaction.-1.item."+m+".productInfo.productID")&&"datalayer field empty"!=n.get("transaction.-1.item."+m+".productInfo.productID")&&(d.transaction[n.get("transaction.-1.item."+m+".productInfo.productID")]={},d.transaction[n.get("transaction.-1.item."+m+".productInfo.productID")]=n.get("transaction.-1.item."+m));var f=Object.keys(d.transaction);if(n.get("product").length>0)for(var p in n.get("product"))if(!isNaN(+p)){var g=_satellite.getVar("productBuilder"),v=n.get("product."+p+".category.productType"),h=n.get("product."+p+".productInfo.productID",n.get("product."+p+".attributes.mmdr"));g.id=h,a.indexOf(v)>-1?g.category=v:g.category="datalayer field missing","Visualizer Interactions"!=n.get("event.-1.eventInfo.eventAction")&&"visualizer_start"!=n.get("event.-1.eventInfo.eventAction")&&"open layer"!=n.get("event.-1.eventInfo.eventAction")&&"item added"!=n.get("event.-1.eventInfo.eventAction")&&"component load"!=n.get("event.-1.eventInfo.eventAction")||"visualizer"!=n.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||(g.category="after sales",v="after sales");var P=+(((d.cart[h]||"").price||"").voucherDiscount||"0"),y=+(((d.cart[h]||"").price||"").priceWithTax||"0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),C=+n.get("transaction.-1.total.priceWithTax","0"),w=n.get("product."+p+".attributes.mmdr",n.get("product."+p+".attributes.internalCode")),R=n.get("product."+p+".attributes.mmdrVG",n.get("product."+p+".attributes.internalCode")),x=n.get("product."+p+".attributes.modelCode");if(eVar10="G26E"==w||"G26E"==R||"71AW"==x||"31AW"==x?"G26E":"G70E"==w||"G70E"==R?"G70E":n.get("product."+p+".attributes.mmdr",n.get("product."+p+".attributes.internalCode")),"vehicle"==v||"new vehicle"==v||"used vehicle"==v){var I=t(n.get("product."+p+".attributes.fuelType"));g.merchEvars={eVar10:eVar10,eVar44:n.get("product."+p+".attributes.productionYear"),eVar45:n.get("product."+p+".attributes.yearOfRegistration"),eVar46:n.get("product."+p+".attributes.vehicleStatus",n.get("product."+p+".attributes.vehicleSelection")),eVar47:n.get("product."+p+".productInfo.color"),eVar48:n.get("product."+p+".attributes.modelCode"),eVar49:n.get("product."+p+".attributes.gearing"),eVar50:n.get("product."+p+".attributes.series"),eVar51:n.get("product."+p+".attributes.bodyType"),eVar52:n.get("product."+p+".productInfo.productName",n.get("product."+p+".attributes.modelName")),eVar53:"model_navigation_hp"==n.get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"new car":n.get("product."+p+".category.primaryCategory"),eVar54:n.get("product."+p+".category.subCategory1"),eVar55:n.get("product."+p+".category.subCategory2"),eVar56:I,eVar57:n.get("product."+p+".attributes.hybridVersion"),eVar58:n.get("product."+p+".attributes.motorization",n.get("product."+p+".attributes.engine")),eVar59:n.get("product."+p+".attributes.configID",n.get("product."+p+".attributes.configLink")),eVar60:n.get("product."+p+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+p+".attributes.modelName"),eVar66:window.location.href.indexOf("/dcs/")>-1?n.get("product."+p+".attributes.salesModel"):n.get("product."+p+".attributes.trimLevel"),eVar69:n.get("product."+p+".attributes.modelCodeAG"),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod"),eVar35:n.get("dealer."+p+".dealerInfo.dealerOutletBuno")};var E=["event801="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+p+".attributes.fin.term","0"),"event806="+ +n.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")];g.events=E,g.quantity=(d.cart[h]||"").quantity||"0",g.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")}else"Related Service / Finance"==v||"service"==v?(I=t(n.get("product."+o+".attributes.fuelType",n.get("product."+p+".attributes.fuelType"))),g.merchEvars={eVar52:n.get("product."+p+".productInfo.productName"),eVar53:n.get("product."+p+".category.primaryCategory"),eVar54:n.get("product."+p+".category.subCategory1"),eVar55:n.get("product."+p+".category.subCategory2"),eVar84:n.get("product."+p+".attributes.fin.downPayment"),eVar85:n.get("product."+p+".attributes.fin.mileage"),eVar86:n.get("product."+p+".attributes.fin.monthlyPayment"),eVar87:n.get("product."+p+".attributes.fin.term"),eVar10:n.get("product."+o+".attributes.mmdr",n.get("product."+o+".attributes.internalCode",n.get("product."+p+".attributes.mmdr",n.get("product."+p+".attributes.internalCode")))),eVar44:n.get("product."+o+".attributes.productionYear",n.get("product."+p+".attributes.productionYear")),eVar45:n.get("product."+o+".attributes.yearOfRegistration",n.get("product."+p+".attributes.yearOfRegistration")),eVar46:n.get("product."+o+".attributes.vehicleStatus",n.get("product."+o+".attributes.vehicleSelection",n.get("product."+p+".attributes.vehicleStatus",n.get("product."+p+".attributes.vehicleSelection")))),eVar47:n.get("product."+o+".productInfo.color",n.get("product."+p+".productInfo.color")),eVar48:n.get("product."+o+".attributes.modelCode",n.get("product."+p+".attributes.modelCode")),eVar49:n.get("product."+o+".attributes.gearing",n.get("product."+p+".attributes.gearing")),eVar50:n.get("product."+o+".attributes.series",n.get("product."+p+".attributes.series")),eVar51:n.get("product."+o+".attributes.bodyType",n.get("product."+p+".attributes.bodyType")),eVar56:I,eVar57:n.get("product."+o+".attributes.hybridVersion",n.get("product."+p+".attributes.hybridVersion")),eVar58:n.get("product."+o+".attributes.motorization",n.get("product."+o+".attributes.engine",n.get("product."+p+".attributes.motorization",n.get("product."+p+".attributes.engine")))),eVar59:n.get("product."+o+".attributes.configID",n.get("product."+o+".attributes.configLink",n.get("product."+p+".attributes.configID",n.get("product."+p+".attributes.configLink")))),eVar60:n.get("product."+o+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+o+".attributes.modelName",n.get("product."+p+".attributes.modelName")),eVar66:n.get("product."+o+".attributes.trimLevel",n.get("product."+p+".attributes.trimLevel")),eVar69:n.get("product."+o+".attributes.modelCodeAG",n.get("product."+p+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event801="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+p+".attributes.fin.term","0"),"event806="+ +n.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],g.events=E,g.quantity=(d.cart[h]||"").quantity||"0",g.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(I=t(n.get("product."+o+".attributes.fuelType",n.get("product."+p+".attributes.fuelType"))),g.merchEvars={eVar52:n.get("product."+p+".productInfo.productName"),eVar53:n.get("product."+p+".category.primaryCategory"),eVar54:n.get("product."+p+".category.subCategory1"),eVar55:n.get("product."+p+".category.subCategory2"),eVar10:n.get("product."+o+".attributes.mmdr",n.get("product."+o+".attributes.internalCode",n.get("product."+p+".attributes.mmdr",n.get("product."+p+".attributes.internalCode")))),eVar44:n.get("product."+o+".attributes.productionYear",n.get("product."+p+".attributes.productionYear")),eVar45:n.get("product."+o+".attributes.yearOfRegistration",n.get("product."+p+".attributes.yearOfRegistration")),eVar46:n.get("product."+o+".attributes.vehicleStatus",n.get("product."+o+".attributes.vehicleSelection",n.get("product."+p+".attributes.vehicleStatus",n.get("product."+p+".attributes.vehicleSelection")))),eVar47:n.get("product."+o+".productInfo.color",n.get("product."+p+".productInfo.color")),eVar48:n.get("product."+o+".attributes.modelCode",n.get("product."+p+".attributes.modelCode")),eVar49:n.get("product."+o+".attributes.gearing",n.get("product."+p+".attributes.gearing")),eVar50:n.get("product."+o+".attributes.series",n.get("product."+p+".attributes.series")),eVar51:n.get("product."+o+".attributes.bodyType",n.get("product."+p+".attributes.bodyType")),eVar56:I,eVar57:n.get("product."+o+".attributes.hybridVersion",n.get("product."+p+".attributes.hybridVersion")),eVar58:n.get("product."+o+".attributes.motorization",n.get("product."+o+".attributes.engine",n.get("product."+p+".attributes.motorization",n.get("product."+p+".attributes.engine")))),eVar59:n.get("product."+o+".attributes.configID",n.get("product."+o+".attributes.configLink",n.get("product."+p+".attributes.configID",n.get("product."+p+".attributes.configLink")))),eVar60:n.get("product."+o+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+o+".attributes.modelName",n.get("product."+p+".attributes.modelName")),eVar66:n.get("product."+o+".attributes.trimLevel",n.get("product."+p+".attributes.trimLevel")),eVar69:n.get("product."+o+".attributes.modelCodeAG",n.get("product."+p+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event801="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+p+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+p+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+p+".attributes.fin.term","0"),"event806="+ +n.get("product."+p+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],g.events=E,g.quantity=(d.cart[h]||"").quantity||"0",g.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858"));"new car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"new bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"preorder car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="new vehicle"),"used car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"used bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="used vehicle"),"oneshop"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory configurator"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"service request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"ride and style"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"online appointment scheduler"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="after sales"),"rental car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"rental bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="other"),i+=g.toString()+","}var T=e(b,l);if(T&&T.length>0){var A={};for(var c in T)if(!isNaN(+c))for(var u in n.get("cart.item"))isNaN(+u)||T[c]==n.get("cart.item."+u+".productInfo.productID")&&(A[T[c]]=u);for(var p in T)isNaN(+p)||(g=_satellite.getVar("productBuilder"),v=n.get("cart.item."+A[T[p]]+".category.productType"),h=n.get("cart.item."+A[T[p]]+".productInfo.productID"),g.id=h,a.indexOf(v)>-1?g.category=v:g.category="datalayer field missing",P=+n.get("cart.item."+A[T[p]]+".price.voucherDiscount","0"),y=+n.get("cart.item."+A[T[p]]+".price.priceWithTax","0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),C=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v||"Related Service / Finance"==v||"service"==v?(I=t(n.get("product."+r[h]+".attributes.fuelType")),g.merchEvars={eVar52:n.get("cart.item."+A[T[p]]+".productInfo.productName"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:I,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+A[T[p]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+A[T[p]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event831="+n.get("cart.item."+A[T[p]]+".price.basePrice","0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+n.get("cart.item."+A[T[p]]+".price.taxRate","0"),"event835="+n.get("cart.item."+A[T[p]]+".price.taxRate","0"),"event836="+n.get("cart.item."+A[T[p]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+A[T[p]]+".quantity","0")],g.events=E,g.quantity=n.get("cart.item."+A[T[p]]+".quantity","0"),g.price=n.get("cart.item."+A[T[p]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(I=t(n.get("product."+r[h]+".attributes.fuelType")),g.merchEvars={eVar52:n.get("cart.item."+A[T[p]]+".productInfo.productName"),eVar53:n.get("cart.item."+A[T[p]]+".category.primaryCategory"),eVar54:n.get("cart.item."+A[T[p]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:I,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+A[T[p]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+A[T[p]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event831="+n.get("cart.item."+A[T[p]]+".price.basePrice","0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+n.get("cart.item."+A[T[p]]+".price.taxRate","0"),"event835="+n.get("cart.item."+A[T[p]]+".price.taxRate","0"),"event836="+n.get("cart.item."+A[T[p]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+A[T[p]]+".quantity","0")],g.events=E,g.quantity=n.get("cart.item."+A[T[p]]+".quantity","0"),g.price=n.get("cart.item."+A[T[p]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),"new car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"new bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"preorder car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="new vehicle"),"used car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"used bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="used vehicle"),"oneshop"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory configurator"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"service request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"ride and style"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"online appointment scheduler"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="after sales"),"rental car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"rental bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="other"),i+=g.toString()+",")}var L=e(f,l);if(L&&L.length>0){var k={};for(var c in L)if(!isNaN(+c))for(var u in n.get("transaction.-1.item"))isNaN(+u)||L[c]==n.get("transaction.-1.item."+u+".productInfo.productID")&&(k[L[c]]=u);for(var p in L)isNaN(+p)||(g=_satellite.getVar("productBuilder"),v=n.get("transaction.-1.item."+k[L[p]]+".category.productType"),h=n.get("transaction.-1.item."+k[L[p]]+".productInfo.productID"),g.id=h,a.indexOf(v)>-1?g.category=v:g.category="datalayer field missing",P=+n.get("transaction.-1.item."+k[L[p]]+".price.voucherDiscount","0"),y=+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),j=+n.get("transaction.-1.total.voucherDiscount","0"),C=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v?(I=t(n.get("product."+r[h]+".attributes.fuelType")),g.merchEvars={eVar52:n.get("transaction.-1.item."+k[L[p]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+k[L[p]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+k[L[p]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:I,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+k[L[p]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+k[L[p]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event831="+n.get("transaction.-1.item."+k[L[p]]+".price.basePrice","0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+k[L[p]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+k[L[p]]+".quantity","0")],g.events=E,g.quantity=n.get("transaction.-1.item."+k[L[p]]+".quantity","0"),g.price=n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Related Service / Finance"==v||"service"==v?(I=t(n.get("product."+r[h]+".attributes.fuelType")),g.merchEvars={eVar52:n.get("transaction.-1.item."+k[L[p]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+k[L[p]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+k[L[p]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:I,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+k[L[p]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+k[L[p]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event831="+n.get("transaction.-1.item."+k[L[p]]+".price.basePrice","0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+k[L[p]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0")],g.events=E,g.quantity=n.get("transaction.-1.item."+k[L[p]]+".quantity","0"),g.price=n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(I=t(n.get("product."+r[h]+".attributes.fuelType")),g.merchEvars={eVar52:n.get("transaction.-1.item."+k[L[p]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+k[L[p]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+k[L[p]]+".category.subCategory1"),eVar10:n.get("product."+r[h]+".attributes.mmdr",n.get("product."+r[h]+".attributes.internalCode")),eVar44:n.get("product."+r[h]+".attributes.productionYear"),eVar45:n.get("product."+r[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+r[h]+".attributes.vehicleStatus",n.get("product."+r[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+r[h]+".productInfo.color"),eVar48:n.get("product."+r[h]+".attributes.modelCode"),eVar49:n.get("product."+r[h]+".attributes.gearing"),eVar50:n.get("product."+r[h]+".attributes.series"),eVar51:n.get("product."+r[h]+".attributes.bodyType"),eVar56:I,eVar57:n.get("product."+r[h]+".attributes.hybridVersion"),eVar58:n.get("product."+r[h]+".attributes.motorization",n.get("product."+r[h]+".attributes.engine")),
eVar59:n.get("product."+r[h]+".attributes.configID",n.get("product."+r[h]+".attributes.configLink")),eVar60:n.get("product."+r[h]+".productInfo.manufacturer"),eVar65:n.get("product."+r[h]+".attributes.modelName"),eVar66:n.get("product."+r[h]+".attributes.trimLevel"),eVar69:n.get("product."+r[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+k[L[p]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+k[L[p]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},E=["event831="+n.get("transaction.-1.item."+k[L[p]]+".price.basePrice","0"),"event832="+(P<0?+ +y*P/y:P),"event833="+(P<0?+y*P:P),"event834="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+k[L[p]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+k[L[p]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0")],g.events=E,g.quantity=n.get("transaction.-1.item."+k[L[p]]+".quantity","0"),g.price=n.get("transaction.-1.item."+k[L[p]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),"new car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"new bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"preorder car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="new vehicle"),"used car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"used bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"finance"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="used vehicle"),"oneshop"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"con options"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory configurator"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"accessory request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"service request"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"owned bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"ride and style"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"online appointment scheduler"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="after sales"),"rental car"!=n.get("product."+p+".category.primaryCategory").toLowerCase()&&"rental bike"!=n.get("product."+p+".category.primaryCategory").toLowerCase()||(g.category="other"),i+=g.toString()+",")}null!=s.products?s.products+=i.slice(0,-1):s.products=i.slice(0,-1),"undefined"!=s.products&&(s.linkTrackVars+="products,"),s.events=s.apl(s.events,"event841="+n.get("cart.price.basePrice",n.get("transaction.-1.total.basePrice","0")),",",1),"datalayer field empty"!=n.get("transaction.-1.total.taxRate")&&"datalayer field missing"!=n.get("transaction.-1.total.taxRate")?(s.events=s.apl(s.events,"event842="+((j<0?+ +C*j/C:j)||"0"),",",1),s.events=s.apl(s.events,"event843="+((j<0?+C*j:j)||"0"),",",1)):(s.events=s.apl(s.events,"event842="+((P<0?+ +y*P/y:P)||"0"),",",1),s.events=s.apl(s.events,"event843="+((P<0?+y*P:P)||"0"),",",1)),s.events=s.apl(s.events,"event844="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),s.events=s.apl(s.events,"event845="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),s.events=s.apl(s.events,"event846="+n.get("cart.price.priceWithTax",n.get("transaction.-1.total.priceWithTax","0")),",",1),s.events=s.apl(s.events,"event847="+n.get("cart.price.shipping",n.get("transaction.-1.total.shipping","0")),",",1),s.events=s.apl(s.events,"event848="+n.get("cart.price.cartTotal",n.get("transaction.-1.total.transactionTotal","0")),",",1),s.eVar120=n.get("cart.cartID"),s.eVar122=n.get("page.attributes.currencyCode",n.get("transaction.-1.total.currency",n.get("cart.price.currency"))),s.eVar123=n.get("transaction.-1.attributes.paymentMethod"),s.eVar125=n.get("transaction.-1.transactionID"),s.linkTrackVars+="eVar120,eVar122,eVar123,eVar125,"}catch(e){var _={from:"AA",type:"DE",name:"setProductString"};_satellite.logger.error(e,_)}}}}},ev_eve_eventName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventName}catch(e){}}}},"AA-languageAndMarketWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.com.al":"en-AL","bmw.dz":"fr-DZ","bmw.co.ao":"pt-AO","bmw.am":"en-AM","bmw.com.au":"en-AU","bmw.at":"de-AT","bmw.az":"ru-AZ","bmw.bs":"en-BS","bmw.bb":"en-BB","bmw.by":"ru-BY","bmw.bm":"en-BM","bmw.com.bo":"es-BO","bmw.ba":"hr-BA","bmw.com.br":"pt-BR","bmw.com.bn":"en-BN","bmw.bg":"bg-BG","bmw.com.ky":"en-KY","bmw.cl":"es-CL","bmw.com.cn":"zh-CN","bmw.com.co":"es-CO","bmw.co.cr":"es-CR","bmw.com.cy":"en-CY","bmw.cz":"cs-CZ","bmw.dk":"da-DK","bmw.com.do":"es-DO","bmw.com.ec":"es-EC","bmw-eg.com":"en-EG","bmw.com.sv":"es-SV","bmw.ee":"et-EE","bmw.fi":"fi-FI","bmw.fr":"fr-FR","bmw.com.ge":"en-GE","bmw.de":"de-DE","bmw-ghana.com":"en-GH","bmw.gr":"el-GR","bmw-antilles.fr":"fr-GP","bmw.com.gt":"es-GT","bmw.ht":"en-HT","bmw.hn":"es-HN","bmwhk.com":"en-HK","bmw.hu":"hu-HU","bmw.is":"en-IS","bmw.in":"en-IN","bmw.co.id":"en-ID","bmw-iraq.com":"en-IQ","bmw.ie":"en-IE","bmw.co.il":"iw-IL","bmw.it":"it-IT","bmwjamaica.com":"en-JM","bmw.co.jp":"ja-JP","bmw.kz":"ru-KZ","bmw.co.ke":"en-KE","bmw.co.kr":"ko-KR","bmw-lao.la":"en-LA","bmw.re":"fr-RE","bmw.lv":"lv-LV","bmw-lebanon.com":"en-LB","bmw.ly":"en-LY","bmw.lt":"lt-LT","bmw.com.mo":"en-MO","bmw.com.mk":"mk-MK","bmw.com.my":"en-MY","bmw.com.mt":"en-MT","bmw.mu":"en-MU","bmw.com.mx":"es-MX","bmw.md":"ro-MD","bmw-voli.me":"sr-ME","bmw.ma":"fr-MA","bmwmyanmar.com":"en-MM","bmw.nl":"nl-NL","bmw.nc":"fr-NC","bmw.co.nz":"en-NZ","bmw.com.ni":"es-NI","bmw-nigeria.com":"en-NG","bmw.no":"no-NO","bmw-pakistan.com":"en-PK","bmw.com.pa":"es-PA","bmw.com.py":"es-PY","bmw.com.pe":"es-PE","bmw.com.ph":"en-PH","bmw.pl":"pl-PL","bmw.pt":"pt-PT","bmw.ro":"ro-RO","bmw.ru":"ru-RU","bmw.lc":"en-LC","bmw.rs":"sr-RS","bmw.com.sg":"en-SG","bmw.sk":"sk-SK","bmw.si":"sl-SI","bmw.co.za":"en-ZA","bmw.es":"es-ES","bmw.lk":"en-LK","bmw.sr":"en-SR","bmw.se":"sv-SE","bmw-tahiti.com":"fr-PF","bmw.com.tw":"zh-TW","bmw.tt":"en-TT","bmw-tunisia.com":"fr-TN","bmw.com.tr":"tr-TR","bmw.ua":"uk-UA","bmw.co.uk":"en-GB","bmw.com.uy":"es-UY","bmw.vn":"vi-VN","bmw-m.com":"en-HQ","bmw.uz":"ru-UZ","bmw.com/en-au":"en-AU"},s=["en","nl","fr","pt","de","ru","es","hr","bg","zh","cs","da","et","fi","el","hu","iw","it","ja","ko","lv","lt","mk","ro","sr","nl","no","pl","ro","sk","sl","sv","th","tr","uk","vi"],a={"bmw.com.al":"AL","bmw.ca":"CA","bmw.be":"BE","bmw.dz":"DZ","bmw.co.ao":"AO","bmw.am":"AM","bmw.com.au":"AU","bmw.at":"AT","bmw.az":"AZ","bmw.bs":"BS","bmw.bb":"BB","bmw.by":"BY","bmw.bm":"BM","bmw.com.bo":"BO","bmw.ba":"BA","bmw.com.br":"BR","bmw.com.bn":"BN","bmw.bg":"BG","bmw.com.ky":"KY","bmw.cl":"CL","bmw.com.cn":"CN","bmw.com.co":"CO","bmw.co.cr":"CR","bmw.com.cy":"CY","bmw.cz":"CZ","bmw.dk":"DK","bmw.com.do":"DO","bmw.com.ec":"EC","bmw-eg.com":"EG","bmw.com.sv":"SV","bmw.ee":"EE","bmw.fi":"FI","bmw.fr":"FR","bmw.com.ge":"GE","bmw.de":"DE","bmw-ghana.com":"GH","bmw.gr":"GR","bmw-antilles.fr":"GP","bmw.com.gt":"GT","bmw.ht":"HT","bmw.hn":"HN","bmwhk.com":"HK","bmw.hu":"HU","bmw.is":"IS","bmw.in":"IN","bmw.co.id":"ID","bmw-iraq.com":"IQ","bmw.ie":"IE","bmw.co.il":"IL","bmw.it":"IT","bmwjamaica.com":"JM","bmw.co.jp":"JP","bmw.kz":"KZ","bmw.co.ke":"KE","bmw.co.kr":"KR","bmw-lao.la":"LA","bmw.re":"RE","bmw.lv":"LV","bmw-lebanon.com":"LB","bmw.ly":"LY","bmw.lt":"LT","bmw.lu":"LU","bmw.com.mo":"MO","bmw.com.mk":"MK","bmw.com.my":"MY","bmw.com.mt":"MT","bmw.mu":"MU","bmw.com.mx":"MX","bmw.md":"MD","bmw-voli.me":"ME","bmw.ma":"MA","bmwmyanmar.com":"MM","bmw.nl":"NL","bmw.nc":"NC","bmw.co.nz":"NZ","bmw.com.ni":"NI","bmw-nigeria.com":"NG","bmw.no":"NO","bmw-pakistan.com":"PK","bmw.com.pa":"PA","bmw.com.py":"PY","bmw.com.pe":"PE","bmw.com.ph":"PH","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.lc":"LC","bmw.rs":"RS","bmw.com.sg":"SG","bmw.sk":"SK","bmw.si":"SI","bmw.co.za":"ZA","bmw.es":"ES","bmw.lk":"LK","bmw.sr":"SR","bmw.se":"SE","bmw.ch":"CH","bmw-tahiti.com":"PF","bmw.com.tw":"TW","bmw.co.th":"TH","bmw.tt":"TT","bmw-tunisia.com":"TN","bmw.com.tr":"TR","bmw.ua":"UA","bmw.co.uk":"GB","bmw.com.uy":"UY","bmw.vn":"VN","bmw-m.com":"HQ","bmw.uz":"UZ","bmw.com/en-au":"AU"};if(window.location.href.indexOf("bmw-bahrain.com/en/")>-1)return"en-BH";if(window.location.href.indexOf("bmw-bahrain.com/ar/")>-1)return"ar-BH";if(window.location.href.indexOf("bmw-dubai.com/en/")>-1)return"en-AE";if(window.location.href.indexOf("bmw-dubai.com/ar/")>-1)return"ar-AE";if(window.location.href.indexOf("bmw-jordan.com/en/")>-1)return"en-JO";if(window.location.href.indexOf("bmw-jordan.com/ar/")>-1)return"ar-JO";if(window.location.href.indexOf("bmw-kuwait.com/en/")>-1)return"en-KW";if(window.location.href.indexOf("bmw-kuwait.com/ar/")>-1)return"ar-KW";if(window.location.href.indexOf("bmw-me.com/en/")>-1)return"en-MP";if(window.location.href.indexOf("bmw-me.com/ar/")>-1)return"ar-MP";if(window.location.href.indexOf("bmw-oman.com/en/")>-1)return"en-OM";if(window.location.href.indexOf("bmw-oman.com/ar/")>-1)return"ar-OM";if(window.location.href.indexOf("bmw.ps/en/")>-1)return"en-PS";if(window.location.href.indexOf("bmw.ps/ar/")>-1)return"ar-PS";if(window.location.href.indexOf("bmw-qatar.com/en/")>-1)return"en-QA";if(window.location.href.indexOf("bmw-qatar.com/ar/")>-1)return"ar-QA";if(window.location.href.indexOf("bmw-saudiarabia.com/en/")>-1)return"en-SA";if(window.location.href.indexOf("bmw-saudiarabia.com/ar/")>-1)return"ar-SA";if(window.location.href.indexOf("bmw-yemen.com/en/")>-1)return"en-YE";if(window.location.href.indexOf("bmw-yemen.com/ar/")>-1)return"ar-YE";if("bmw.ca"!=e&&"bmw.be"!=e&&"bmw.ch"!=e&&"bmw.lu"!=e&&"bmw.co.th"!=e)return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()];for(var o=0;o<s.length;o++)if(window.location.href.indexOf("/"+s[o]+"/")>-1||window.location.href.indexOf("."+s[o]+".")>-1||window.location.href.indexOf("/"+s[o]+"_")>-1||window.location.href.indexOf("/"+s[o]+"-")>-1)return s[o]+"-"+a[e]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},"BEV Score":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}function t(e,t){return 100*e/t}var s,a=100*e("visitor_aa_hits").sDur/60,o=e("visitor_aa_hits").sc?e("visitor_aa_hits").sc.bev||"0":0,n=100*o/60,i=100*o,r=t(n,a);"bmw.de"==_satellite.getVar("topLevelDomain")||"bmw.co.uk"==_satellite.getVar("topLevelDomain")?r<10?s="BEV - Low":r>=10&&r<75&&n<5?s="BEV - Medium":r>=10&&r<75&&n>=5?s="BEV - High":r>=75&&n<2?s="BEV - Medium":r>=75&&n>=2&&(s="BEV - High"):"bmw.fr"==_satellite.getVar("topLevelDomain")?r<51&&i<22.86?s="BEV - Low":r>=51&&i<22.86||r>=51&&i>=22.86&&i<=203.38||r<58&&i>203.38?s="BEV - Medium":r>=58&&i>203.38&&(s="BEV - High"):"bmw.es"==_satellite.getVar("topLevelDomain")?r<59&&i<23?s="BEV - Low":r>=59&&i<23||r>=59&&i>=23&&i<=215?s="BEV - Medium":i>215&&(s="BEV - High"):"bmw.it"==_satellite.getVar("topLevelDomain")?r<38&&i<18?s="BEV - Low":r>=38&&i<18||r>=38&&i>=18&&i<=237?s="BEV - Medium":i>237&&(s="BEV - High"):"bmw.nl"==_satellite.getVar("topLevelDomain")?r<53&&i<23?s="BEV - Low":r>=53&&i<23||r>=53&&i>=23&&i<=240?s="BEV - Medium":i>240&&(s="BEV - High"):"bmw.se"!=_satellite.getVar("topLevelDomain")&&"bmw.be"!=_satellite.getVar("topLevelDomain")&&"bmw.lu"!=_satellite.getVar("topLevelDomain")&&"bmw.at"!=_satellite.getVar("topLevelDomain")&&"bmw.pt"!=_satellite.getVar("topLevelDomain")||(r<10?s="BEV - Low":r>=10&&r<75&&i<300?s="BEV - Medium":r>=10&&r<75&&i>=300?s="BEV - High":r>=75&&i<120?s="BEV - Medium":r>=75&&i>=120&&(s="BEV - High"));var c="";return"BEV - Low"==s?c="B1":"BEV - Medium"==s?c="B2":"BEV - High"==s&&(c="B3"),c}catch(d){_satellite.logger.error("Error in bev score function - ",d)}}}},setDefaultVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.destinationUrl",location.href),o=new Date,n=_satellite.getVar("smartPreviousValueManager"),i=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");t.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop27=s.get("page.pageInstanceId",s.get("pageInstanceId")).split("/").slice(6).join("/"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp",Math.round(o.getTime()))),t.prop13="bmw",t.prop15=o.getHours()+":"+o.getMinutes()+":"+o.getSeconds(),t.prop14=o.getUTCHours()+":"+o.getUTCMinutes()+":"+o.getUTCSeconds(),t.eVar80=o.toISOString().slice(0,10).replace(":","-"),t.eVar81=Math.floor((o.getTime()-15778368e5)/864e5),t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.eVar7=s.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=t.eVar7.indexOf("-")>-1?t.eVar7.split("-")[0]:t.eVar7,t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.eVar18=s.get("page.pageInfo.pageTitle",document.title),t.prop50="page title",t.prop19="digital > new car stock locator"===i||"virtual page"===i?"central new\xa0car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName;try{var r=t.Util.cookieRead("gcdmToken");r&&(t.prop40="logged-in"),""==r&&(t.prop40="not logged-in")}catch(e){}t.campaign=t.eVar61=t.eVar62=_satellite.getVar("campaign"),t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),"bmw.com.cn"==_satellite.getVar("topLevelDomain")?t.eVar64=_satellite.getVar("AA-localCampaignVariable"):t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),t.server=location.host,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.pageType="error"==s.get("page.category.pageType")?"errorPage":s.get("page.category.pageType"),s.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),t.eVar4=a,a.length>255&&(t.eVar5=a.substring(255,a.length)),n.update("url",t.eVar4),t.eVar14=n.get("url"),t.eVar29=n.get("pathName"),t.prop31=n.get("pagePrimaryCategory"),_satellite.logger.log("khubruy prop31",t.prop31),t.prop32=n.get("pageSubCategory01"),t.prop33=n.get("pageName"),t.prop3=s.get("page.category.primaryCategory"),t.prop20=window.location.host.replace("www.","")+window.location.pathname,n.update("previousComponentPrimaryCategory",t.prop19),t.prop4=s.get("page.category.subCategory01"),n.update("pageSubCategory01",t.prop4),n.update("jcrPath",s.get("pageInstanceId",window.location.pathname)),t.eVar28=n.get("componentSubcategory1"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar132=window.navigator.userAgent,t.eVar135=s.get("page.pageInfo.envWork",s.get("page.pageInfo.devEnv")),t.eVar6=document.referrer.split("/")[2],n.update("pathName",t.eVar12),t.eVar120=s.get("cart.cartID"),t.eVar122=s.get("cart.item-1.price.currency",s.get("cart.price.currency",s.get("transaction.item-1.price.currency",s.get("transaction.total.currency.currency",s.get("product.-1.attributes.currency"))))),t.eVar123=s.get("transaction.attributes.paymentMethod"),t.eVar125=s.get("transaction.transactionID"),""!=t.linkTrackVars&&null!=t.linkTrackVars?t.linkTrackVars+=",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop20,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,eVar80,eVar81,":t.linkTrackVars="prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop20,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,eVar80,eVar81,"}catch(e){var c={from:"AA",type:"DE",name:"setDefaultVariables"};_satellite.logger.error(e,c)}}}}},isTargetPersonalizationAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").TargetPersonalization;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetPersonalizationAllowed"};_satellite.logger.error(e,s)}}}},perfTime_hash:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.hash):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_hash : "+e),"na"}}}},"AA-AEMpageDL":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){"use strict";class e{constructor(t,s){this.data={},this.defaultv=s,"object"==typeof t&&t instanceof e==0?Array.isArray(t)&&t.length>0?t.forEach((function(e){this.data=Object.assign(this.data,JSON.parse(JSON.stringify(e)))})):this.data=Object.assign({},JSON.parse(JSON.stringify(t))):"object"==typeof t&&t instanceof e==1&&(this.data=Object.assign({},JSON.parse(JSON.stringify(t.data))))}get(e,t){if(void 0===e||""==e)return this.data;if("string"==typeof e){for(var s=e.split("."),a=this.data,o=0;o<s.length&&null!=a;o++)a=Array.isArray(a)&&Math.abs(parseInt(s[o]))<=a.length?parseInt(s[o])<0?a[a.length-Math.abs(parseInt(s[o]))]:a[parseInt(s[o])]:Array.isArray(a)&&Math.abs(parseInt(s[o]))>a.length?t||this.defaultv||void 0:a[s[o]];return a||t||this.defaultv||void 0}}assign(e,t){if(void 0===t&&(t={}),void 0!==e&&""!=e&&"string"==typeof e)for(var s=e.split("."),a=this.data,o=0;o<s.length&&null!=a;o++)if("string"==typeof s[o]&&1==isNaN(s[o]))if(Object(a).hasOwnProperty(s[o]))o==s.length-1?Array.isArray(a[s[o]])?a[s[o]].push(t):a[s[o]]=t:("string"==typeof a[s[o]]&&(a[s[o]]={}),a=a[s[o]]);else if(o==s.length-1){if("object"!=typeof a)return;a[s[o]]=t}else isNaN(s[o+1])?a[s[o]]={}:a[s[o]]=[],a=a[s[o]];else"string"==typeof s[o]&&0==isNaN(s[o])&&(Array.isArray(a)&&Math.abs(s[o])<a.length?o==s.length-1?a[s[o]]=t:a=a[s[o]]:Array.isArray(a)&&s[o]>=a.length&&(o==s.length-1?a.push(t):(a.push({}),a=a[a.length-1])));else"object"==typeof e&&(this.data=Object.assign(this.data,e));return this.data}merge(e,t){if(void 0===t||""==t)return this.data=Object.assign(this.data,JSON.parse(JSON.stringify(e))),this.data;for(var s=t.split("."),a=this.data,o=0;o<s.length&&null!=a;o++)a=Array.isArray(a)&&Math.abs(parseInt(s[o]))<=a.length?parseInt(s[o])<0?a[a.length-Math.abs(parseInt(s[o]))]:a[parseInt(s[o])]:Array.isArray(a)&&Math.abs(parseInt(s[o]))>a.length?this.defaultv||void 0:a[s[o]];if(void 0!==a||a!=this.defaultv){if(Array.isArray(a)&&Array.isArray(e))e.forEach((function(e){a.push(e)}));else{var n=Object.assign(a,JSON.parse(JSON.stringify(e)));this.data=this.assign(t,n)}return this.data}}remove(e,t){if(void 0===t&&(t=!1),""==e||void 0===e)this.clear();else for(var s=e.split("."),a=this.data,o=0;o<s.length&&null!=a;o++)if("string"==typeof s[o]&&1==isNaN(s[o])){if(!Object(a).hasOwnProperty(s[o]))return this.data;o==s.length-1?"object"==typeof a[s[o]]||t?delete a[s[o]]:a[s[o]]=void 0:a=a[s[o]]}else if("string"==typeof s[o]&&0==isNaN(s[o])){if(!(Array.isArray(a)&&Math.abs(s[o])<a.length))return this.data;if(o==s.length-1)return a.splice(s[o],1),this.data;a=a[s[o]]}}clear(){this.data={}}}window.pageInfo=window.pageInfo||new e({},"datalayer field empty"),pageInfo.assign("pageInstanceId",_satellite.getVar("snapshotDL").get("pageInstanceId")),pageInfo.assign("pageType",_satellite.getVar("snapshotDL").get("page.category.pageType")),pageInfo.assign("pageVersion",_satellite.getVar("snapshotDL").get("page.pageInfo.version")),pageInfo.assign("sysEnv",_satellite.getVar("snapshotDL").get("page.pageInfo.devEnv")),pageInfo.assign("vehicleBodyType",_satellite.getVar("snapshotDL").get("product.0.attributes.bodyType")),pageInfo.assign("vehicleMmdrVG",_satellite.getVar("snapshotDL").get("product.0.attributes.mmdr")),pageInfo.assign("userLoginStatus",_satellite.getVar("snapshotDL").get("user.0.segment.logged")),"undefined"!=pageInfo.data&&console.log("\ud83e\udd13 \ud83d\udce5%cAEM page data layer: dynamic parameters received from AEM page%c \ud83e\udde9","color:darkblue; font-size:12px; font-weight:bold; background:yellow","");let t=pageInfo.data.pageInstanceId;const s=t.split("/");let a=s.length,o=s[2],n=s[3].slice(6),i=s[5].slice(0,2),r=s[6],c=s[7]||"datalayer field empty",d=s[8]||"datalayer field empty",l=s[9]||"datalayer field empty",u=s[a-1];return 7===a&&(r="homepage",c="content",u="homepage"),"all-models"===r&&(r="showroom"),"showroom"==r&&8===a&&(r="series overview"),1==n.length>2&&(n="global"),"UK"===n&&(n="GB"),console.log("\ud83e\udd13 \u2702\ufe0f %cAEM page data layer: values defined based on pageInstanceId%c \ud83e\udde9","color:darkblue; font-size:12px; font-weight:bold; background:yellow",""),window.AEMpageDL=window.AEMpageDL||new e({},"datalayer field empty"),"datalayer field missing"!==t?(AEMpageDL.assign("page.category.pageType",pageInfo.data.pageType.toLowerCase()),AEMpageDL.assign("page.category.primaryCategory",r.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory1",c.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory2",d.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.category.subCategory3",l.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.pageInfo.author","aem page template"),AEMpageDL.assign("page.pageInfo.destinationURL",window.location.href),AEMpageDL.assign("page.pageInfo.geoRegion",n.toUpperCase()),AEMpageDL.assign("page.pageInfo.language",i.toLowerCase()),AEMpageDL.assign("page.pageInfo.pageID",pageInfo.data.pageInstanceId.toLowerCase()),AEMpageDL.assign("page.pageInfo.pageName",u.replaceAll("-"," ").toLowerCase()),AEMpageDL.assign("page.pageInfo.referringURL",document.referrer),AEMpageDL.assign("page.pageInfo.sysEnv",pageInfo.data.sysEnv.toLowerCase()),AEMpageDL.assign("page.pageInfo.variant","real page"),AEMpageDL.assign("page.pageInfo.version","fusion: "+pageInfo.data.pageVersion),AEMpageDL.assign("page.attributes.brand",o.toLowerCase()),AEMpageDL.assign("page.attributes.pageTitle",document.title.toLowerCase()),AEMpageDL.assign("page.attributes.timeStamp",Date.now()),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : page object built%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : page instance ID missing%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),"showroom"==r&&"undefined"!==pageInfo.data.vehicleMmdrVG?(AEMpageDL.assign("product.0.attributes.bodyType",pageInfo.data.vehicleBodyType),AEMpageDL.assign("product.0.attributes.mmdr",pageInfo.data.vehicleMmdrVG),AEMpageDL.assign("product.0.category.productType","new vehicle"),AEMpageDL.assign("product.0.category.primaryCategory","new car"),AEMpageDL.assign("product.0.category.subCategroy1","showroom"),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : some product information received%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : no product data available%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),"datalayer field missing"!==pageInfo.data.userLoginStatus?(AEMpageDL.assign("user.0.profile.0.attributes.loggedInStatus",pageInfo.data.userLoginStatus.toLowerCase()),console.log("\ud83e\udd13 \u2714\ufe0f %cAEM page data layer : user login status received%c \ud83e\udde9","color:darkgreen; font-size:12px; font-weight:bold; background:yellow","")):console.log("\ud83d\ude22 \u274c %cAEM page data layer : user login status unknown%c \ud83e\udde9","color:red; font-size:12px; font-weight:bold; background:yellow",""),AEMpageDL.data}}},"AA-reportSuite":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AA-reportSuite"))return e.get("AA-reportSuite");var t,s="bmwgroup.group.global.test",a="bmwgroup.group.global.all",o={"bmw.co.za":"bmwgroup.bmw.za.market","myaccount.co.za":"bmwgroup.bmw.za.market","bmw.tj":"bmwgroup.bmw.tj.market","bmw.com.ar":"bmwgroup.bmw.ar.market","bmw.at":"bmwgroup.bmw.at.market","bmw.com.au":"bmwgroup.bmw.au.market","bmw.be":"bmwgroup.bmw.be.market","bmw.bg":"bmwgroup.bmw.bg.market","bmw.com.br":"bmwgroup.bmw.br.market","bmw.ca":"bmwgroup.bmw.ca.market","bmw.ch":"bmwgroup.bmw.ch.market","bmw.com.cn":"bmwgroup.bmw.cn.market","bmw.cz":"bmwgroup.bmw.cz.market","bmw.de":"bmwgroup.bmw.de.market","bmw.dk":"bmwgroup.bmw.dk.market","bmw.es":"bmwgroup.bmw.es.market","bmw.fi":"bmwgroup.bmw.fi.market","bmw.fr":"bmwgroup.bmw.fr.market","bmw.co.uk":"bmwgroup.bmw.uk.market","bmw.gr":"bmwgroup.bmw.gr.market","bmw.hu":"bmwgroup.bmw.hu.market","bmw.co.id":"bmwgroup.bmw.id.market","bmw.ie":"bmwgroup.bmw.ie.market","bmw.in":"bmwgroup.bmw.in.market","bmw.is":"bmwgroup.bmw.is.market","bmw.it":"bmwgroup.bmw.ita.market","bmw.co.jp":"bmwgroup.bmw.jp.market","bmw.co.kr":"bmwgroup.bmw.kr.market","bmw.lu":"bmwgroup.bmw.lu.market","bmw.com.mx":"bmwgroup.bmw.mx.market","bmw.com.my":"bmwgroup.bmw.my.market","bmw.nl":"bmwgroup.bmw.nl.market","bmw.no":"bmwgroup.bmw.no.market","bmw.co.nz":"bmwgroup.bmw.nz.market","bmw.pl":"bmwgroup.bmw.pl.market","bmw.pt":"bmwgroup.bmw.pt.market","bmw.ro":"bmwgroup.bmw.ro.market","bmw.ru":"bmwgroup.bmw.ru.market","bmw.se":"bmwgroup.bmw.se.market","bmw.si":"bmwgroup.bmw.si.market","bmw.sk":"bmwgroup.bmw.sk.market","bmw.co.th":"bmwgroup.bmw.th.market","bmw.com.sg":"bmwgroup.bmw.sg.market","bmw.com/en-au":"bmwgroup.bmw.au.market","mini.de":"bmwgroup.mini.de.market","mini.fr":"bmwgroup.mini.fr.market","mini.it":"bmwgroup.mini.it.market","mini.ch":"bmwgroup.mini.ch.market","mini.at":"bmwgroup.mini.at.market","mini.be":"bmwgroup.mini.be.market","mini.lu":"bmwgroup.mini.lu.market","bmw-welt.com":"bmw.hq.bmwwelt.com","bmwexcellenceclub.co.za":"bmwgroup.bmw.za.market"};try{const e=_satellite.getVar("topLevelDomain");t=o[e]||o[e+"/"+location.pathname.split("/")[1].toLowerCase()]||o[e+"/"+location.pathname.split("/")[2].toLowerCase()]}catch(e){}var n=function(){var e=new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname),t="staging"===_satellite.buildInfo.environment||"development"===_satellite.buildInfo.environment;return e||t},i=n()?s:a+","+t;return"www.bmw-welt.com"==window.location.hostname&&(i=n()?s:a),i.indexOf("undefined")>-1&&(i=s),e.set("AA-reportSuite",i),i}catch(e){var r={from:"AA",type:"DE",name:"AA-reportSuite"};_satellite.logger.error(e,r)}}}},"DL-Std":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){const e=new URL(location);return{utm:Array.from(e.searchParams.entries()).filter((([e,t])=>e.startsWith("utm_"))).reduce(((e,[t,s])=>(e[t.split("_").pop()]=s,e)),{})}}}},Usabilla_vs_IgnitionOne:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2)<"20"?"Usabilla":"IgnitionOne"}catch(e){_satellite.logger.error("Error In: Usabilla_vs_IgnitionOne"+e)}}}},"geoRegion copy":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwjamaica.com")>-1)return"JM";if(t.indexOf("bmwhk.com")>-1)return"HK";if(t.indexOf("bmw-eg.com")>-1)return"EG";if(t.indexOf("bmwusa.com")>-1)return"US";var s=t.split("."),a=s[s.length-1];return a=a.toUpperCase()}catch(e){}}}},smartPreviousValueManager:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e="bmwdtm_hq_previouspage_meta";function t(){var t=_satellite.getVar("KIT-helpers").cache;this.init=function(s){var a=t.get(e);if(!a){for(var o in a={},s)s.hasOwnProperty(o)&&(a[o]={value:s[o],valueAfterVirtualPageLoad:void 0});t.set(e,a)}},this.update=function(s,a){var o=t.get(e);o[s]=o[s]||{value:void 0},o[s].valueAfterVirtualPageLoad&&(o[s].value=o[s].valueAfterVirtualPageLoad),o[s].valueAfterVirtualPageLoad=a,t.set(e,o)},this.get=function(s){var a=t.get(e);return"object"==typeof a[s]?a[s].value:void 0},this.saveDeferredObject=function(s){t.set(e+"_deferred",s)},this.getDeferredObject=function(){return t.get(e+"_deferred")||{}}}function s(){_satellite.cookie,this.get=function(t){var s={};try{s=JSON.parse(window.decodeURIComponent(_satellite.cookie.get(e)||"{}"))}catch(e){}return t?s[t]:s},this.update=function(t,s){var a=this.get();if(a[t]=s,!1===epaas.api.setPersistence(e,window.encodeURIComponent(JSON.stringify(a)))||"false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1},this.saveDeferredObject=function(e){for(var t in e)e.hasOwnProperty(t)&&this.update(t,e[t])}}function a(e,t){t.init(e.get()),this.update=function(s,a,o){if(o&&t.update(s,a),!1===e.update(s,a)){var n=t.getDeferredObject();n[s]=a,t.saveDeferredObject(n)}},this.get=function(e){return t.get(e)},this.saveDeferredObject=function(){e.saveDeferredObject(t.getDeferredObject())}}return new a(new s,new t)}catch(n){var o={from:"AA",type:"DE",name:"smartPreviousValueManager"};_satellite.logger.error(n,o)}}}},fusionEventMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e,t,s){try{s=s||"datalayer field missing";for(var a=["","na","not set","n/a","not available"],o=(t=t||"").split("."),n=e,i=0;i<o.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(o[i])?n[n.length-Math.abs(parseInt(o[i]))]:n[o[i]];return"string"==typeof n&&a.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||s}catch(e){console.error("Error:",e)}}return function(s){try{
var a=e.message,o=e.fullState,n=t(a,"eventInfo.reference.linkedComponent"),i=t(o,"component")[n],r=t(o,"page.pageInfo.pageName"),c=t(o,"page.category.subCategory1"),d=t(a,"eventInfo.eventAction"),l=t(a,"eventInfo.eventName"),u=t(a,"eventInfo.type"),b=t(a,"eventInfo.effect"),m=t(a,"eventInfo.attributes.media.totalLength"),f=t(a,"eventInfo.attributes.media.currentTime"),p=t(i,"category.primaryCategory"),g=t(i,"componentInfo.componentName"),v=(t(a,"eventInfo.category.primaryCategory"),t(a,"eventInfo.category.subCategory1")),h=t(a,"eventInfo.category.subCategory2"),P=(t(a,"eventInfo.category.subCategory3"),{rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]}),y=P[c.toLowerCase()],j=P[u.toLowerCase()],C=P[v.toLowerCase()],w=P[h.toLowerCase()];b.indexOf("form started")>-1||"Form Start"==l||"Form Start"==r?(s.events=s.apl(s.events,"event3,event4",","),null!=w&&(s.events=s.apl(s.events,w[0])),null!=j&&(s.events=s.apl(s.events,j[0])),null!=y&&(s.events=s.apl(s.events,y[0])),null!=C&&(s.events=s.apl(s.events,C[0]))):"nsc > form finished"==b||b.indexOf("form finished")>-1||"Form Success"==l||"Form Start"==r?(s.events=s.apl(s.events,"event15, event16",","),null!=w&&(s.events=s.apl(s.events,w[1])),null!=j&&(s.events=s.apl(sevents,j[1])),null!=y&&(s.events=s.apl(s.events,y[1])),null!=C&&(s.events=s.apl(s.events,C[1]))):b.indexOf("form start intention")>-1||"First Interaction"==l||b.indexOf("form first interaction")>-1?s.events=s.apl(s.events,"event5,event6",","):b.indexOf("form step")>-1||"Form Step"==l||"Form Step"==r?s.events=s.apl(s.events,"event7,event8",","):b.indexOf("form interaction")>-1?s.events=s.apl(s.events,"event9,event10",","):b.indexOf("form finish intention")>-1&&(s.events=s.apl(s.events,"event13,event14",",")),"media started"==d?s.events=s.apl(s.events,"event351",""):"media milestone reached"==d?(s.events=s.apl(s.events,"event357="+m,","),s.events=s.apl(s.events,"evant358="+f,","),b.indexOf("10%")>-1&&(s.events=s.apl(s.events,"event352","")),b.indexOf("25%")>-1&&(s.events=s.apl(s.events,"event353","")),b.indexOf("50%")>-1&&(s.events=s.apl(s.events,"event354","")),b.indexOf("70%")>-1&&(s.events=s.apl(s.events,"event355","")),b.indexOf("950%")>-1&&(s.events=s.apl(s.events,"event356",""))):"media finished"==d&&(s.events=s.apl(s.events,"event359",""));var R={"e-mail":["event901"],download:["event903"],share:["event905"],call:["event913"],print:["event915"]}[d.toLowerCase()];null!=R&&(s.events=s.apl(s.events,R[0])),"configurations"==p&&"visualizer"==g&&("user started configuration"==b&&(s.events=s.apl(s.events,"event311,event312","")),"interaction"==l&&(s.events=s.apl(s.events,"event313,event314","")),"user finished configuration"==b&&(s.events=s.apl(s.events,"event315,event316",""))),s.linkTrackEvents=s.apl(s.linkTrackEvents,s.events)}catch(e){var x={from:"AA",type:"DE",name:"fusionEventMapping"};_satellite.logger.error(e,x)}}}}},GlobalDE:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){var t=_satellite.getVar("snapshotDL"),s={eventName:-1==t.get("event.-1.eventInfo.eventName").indexOf("nsc >")?"nsc > "+t.get("event.-1.eventInfo.eventName"):t.get("event.-1.eventInfo.eventName"),eventAction:t.get("event.-1.eventInfo.eventAction"),eventPoints:t.get("event.-1.eventInfo.eventPoints"),eventTimestamp:t.get("event.-1.eventInfo.timeStamp"),eventCause:t.get("event.-1.eventInfo.cause"),eventType:t.get("event.-1.category.eventType"),eventPrimarycategory:t.get("event.-1.category.primaryCategory"),eventSubcategory01:t.get("event.-1.category.subCategory01"),eventElement:t.get("event.-1.eventInfo.element"),pageInstanceId:t.get("pageInstanceId"),productMmdr:t.get("product.-1.attributes.mmdr"),productModelname:t.get("product.-1.attributes.modelName"),productManufacturer:t.get("product.-1.productInfo.manufacturer"),productBodytype:t.get("product.-1.attributes.bodyType"),pageSubcategory02:t.get("page.category.subCategory02")};e.prototype.getelement=function(e){return s[e]}};return new e}catch(e){var t={from:"AA",type:"DE",name:"GlobalDE"};_satellite.logger.error(e,t)}}}},pa_pag_referringUrl:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.referringUrl;return e=e.toLowerCase()}catch(e){}}}},"AT-AffinityParams":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return!0;return!1},t=function(e,t){var s=function(){try{var e;return(e=adobeDataLayer.getState("product"))?e=Object.values(e)[0].attributes.bodyType:(e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer"))&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.bodyType||void 0}catch(e){}},a=function(){try{var e;return(e=adobeDataLayer.getState("product"))?e=Object.values(e)[0].attributes.mmdr:(e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer"))&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.mmdr||void 0}catch(e){}},o=function(e,t){var s=e.match(t);if(s)return s[6]?"Z":s[7]?"BMW i":(s[3]||s[5]||s[4]).toUpperCase()},n=function(e,t){if(e.match(t))return"M"},i=function(e,t){if(e.match(t))return"true"},r=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return t[s[a]]},c=t.listOfExceptions&&r(e,t.listOfExceptions)||{};return{"car-body-type":c["car-body-type"]||s(),"car-series":c["car-series"]||o(e,t.seriesRegex),"car-variant":c["car-variant"]||n(e,t.variantRegex),"is-electric":c["is-electric"]||i(e,t.electricRegex),"car-model":c["car-model"]||a()}},s={"bmw.co.uk":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/all-models\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/,listOfExceptions:{}},"bmw.it":{seriesRegex:/gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/gamma\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid|#ibrida-plug-in/,listOfExceptions:{"mondo-bmw/bmw-i/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"m/bmw-z4-m40i/2021/panoramica-bmw-z4.html":{"car-series":"Z"},"gamma/Versioni-Serie-8/":{"car-series":"8"},"/all-models/2-series/activetourer/2021/bmw-2-series-active-tourer-highlights.html":{"car-series":"2"}}},"bmw.fr":{seriesRegex:/tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/tous-les-modeles\/(m-).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e|#hybride-rechargeable/,listOfExceptions:{"x-series/X4/2018/apercu.html":{"car-series":"X4"},"/bmw-concept/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"tous-les-modeles/modeles-serie-8":{"car-series":"8"}}},"bmw.ru":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/^$/,listOfExceptions:{}},"bmw.de":{seriesRegex:/neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i(\d|x|\/)))/,variantRegex:/neufahrzeuge\/m\//,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet|#plug-in-hybrid/,listOfExceptions:{"/neufahrzeuge/m/m-240i-convertible/":{"car-series":"2","car-variant":"M"},"/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html":{"car-series":"BMW i"},"/topics/faszination-bmw(.*)elektromobilitaet/":{"is-electric":"true"}}},"bmw.es":{seriesRegex:/coches-bmw.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/coches-bmw\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|(iX\d)|#hibrido-enchufable|#phev/,listOfExceptions:{"/x/iX3/2021/presentacion.html":{"car-series":"x","is-electric":"true"},"/2-series/coupe/2021/presentacion.html":{"car-series":"2"},"/2-series/gran-coupe/2021/vision-general-bmw-serie2-gran-coupe.html":{"car-series":"2"},"/2-series/grantourer/2020/presentacion.html":{"car-series":"2"}}}}[_satellite.getVar("topLevelDomain")],a=window.location.href,o=/neufahrzeuge|all-models|tous-les-modeles|gamma|coches-bmw/.test(a)||s&&s.listOfExceptions&&e(a,s.listOfExceptions);return s&&o&&consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization")?t(a,s):{}}catch(e){_satellite.logger.error("Error in Data element AT-AffinityParams-",e)}}}},"AAM-partnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.partner||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-partnerID"};_satellite.logger.error(e,t)}}}},"Cluster SE":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.se")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.se")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<11.5&&a<5.04?s="CN1":c.uPV<11.5&&a>=11.14||c.uPV<13.5&&a>=5.04&&a<11.14||c.uPV>=11.5&&a<5.04?s="CN2":(c.uPV>=11.5&&a>=11.14||c.uPV>=13.5&&a>=5.04)&&(s="CN3"):"shw"==i?c.uPV<3.5&&a<1.62?s="SR1":c.uPV>=3.5&&a<1.62||c.uPV<7.5&&a>=1.62?s="SR2":c.uPV>=7.5&&a>=1.62&&(s="SR3"):"shp"==i&&(c.uPV<3.5&&"N"==c.crt?s="SH1":c.uPV<3.5&&"Y"==c.crt||c.uPV>=4.5&&"N"==c.crt?s="SH2":c.uPV>=4.5&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster DE Data Element - ",d)}}}},catchblock:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t,s){try{t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.events="event933",t.eVar34=String(s)||"unknown",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}catch(e){}}}}},ev_eve_cause:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.cause}catch(e){}}}},"Cluster 2.0":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}function a(){try{var e=t("visitor_aa_hits").vPV,s=Object.keys(e).length,a=t("visitor_aa_hits"),o=a.uPV;o?s>o&&(o=s,a.uPV=o,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))):(o=s,a.uPV=o,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a)))}catch(e){_satellite.logger.error("Error in get_unique_pages function - ",e)}}function o(){try{var e=t("visitor_aa_hits").vPV,s=t("visitor_aa_hits"),a=JSON.parse(JSON.stringify(s.vPV||{}));if((e?Object.keys(e).length:0)<=10){var o=window.location.pathname;a[o=(o="/"==o?window.location.hostname:window.location.pathname).replace("/en/","").split("/").map((e=>-1!=e.indexOf(".html")?e:e.substring(0,3))).toString().replaceAll(",","").replace(".html","")]?a[o]:a[o]=1,s.vPV=a,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(s))}}catch(e){_satellite.logger.error("Error in unique_page_views function - ",e)}}function n(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").uMI?t("visitor_aa_hits").uMI:{},a=_satellite.getVar("AT-AffinityParams")?_satellite.getVar("AT-AffinityParams")["car-model"]:"";if(e.uMI=s,a){var o=Object.keys(s);o.length>0&&o.length<=2&&o.includes(a)||(s[a]=1),e.uMI=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in get_model_series_interaction function- ",e)}}function i(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").uMI;if(s){var a=Object.keys(s).length;e.vMI=a}window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in unique_model_interaction function- ",e)}}function r(){try{var e=t("visitor_aa_hits");function s(){e=t("visitor_aa_hits");var s=Date.now()/1e3/60-e.t;e.sDur=s.toFixed(2),window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}e.t=e.t?e.t:(Date.now()/1e3/60).toFixed(2),window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)),setInterval(s,1e3)}catch(a){_satellite.logger.error("Error in check_session_duration function- ",a)}}function c(){try{var e="";s&&s.prop8&&(e=s.prop8);var a=t("visitor_aa_hits"),o=t("visitor_aa_hits").cv8?t("visitor_aa_hits").cv8:0;o?a.cv8=o:e.includes("form start")?a.cv8=1:a.cv8=0,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))}catch(e){_satellite.logger.error("Error in get_form function- ",e)}}function d(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").crt,a=0;window.hasOwnProperty("digitalData")&&digitalData.hasOwnProperty("cart")&&digitalData.cart.hasOwnProperty("item")&&(a=digitalData.cart.item.length),s?"N"==s&&a>0&&(e.crt="Y"):e.crt=a>0?"Y":"N",window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in get_cart function- ",e)}}function l(){var e,s=t("visitor_aa_hits"),a=s.tSpe,o="",n=0,i="",r=(c=t("visitor_aa_hits")).sDur;if(a&&document.URL.indexOf("bmw.co.uk")>-1&&r>.25){for(keysSorted=Object.keys(a).sort((function(e,t){return a[e]-a[t]})),n=keysSorted.length;n>0;n--)"shw"!=(e=keysSorted[keysSorted.length-n])&&"con"!=e&&"shp"!=e&&"nCrs"!=e||(o=e);var c;return s.tSpe[o],i="",r=(c=t("visitor_aa_hits")).sDur,"con"==o?c.uPV<=7&&0==c.cv8?i="CN1":c.uPV<=7&&c.cv8>0||c.uPV>7&&0==c.cv8?i="CN2":c.uPV>7&&c.cv8>0&&(i="CN3"):"nCrs"==o?0==c.vMI&&r<14.53?i="SL1":0==c.vMI&&r>=14.53||c.vMI>0&&r<32.71?i="SL2":c.vMI>0&&r>=32.71&&(i="SL3"):"shw"==o?c.uPV<=3&&c.vMI<=1?i="SR1":c.uPV>3&&c.vMI<=1||c.uPV<=5&&c.vMI>1?i="SR2":c.uPV>5&&c.vMI>1&&(i="SR3"):"shp"==o&&(c.uPV<=4&&"N"==c.crt?i="SH1":c.uPV<5&&"Y"==c.crt||c.uPV>4&&"N"==c.crt?i="SH2":c.uPV>=5&&"Y"==c.crt&&(i="SH3")),i}}function u(e){try{var s=e,a=t("visitor_aa_hits");(a.cur?a.cur:"").seg=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))}catch(e){_satellite.logger.error("Error in cluster function- ",e)}}function b(){try{var e=t("visitor_aa_hits"),s=e.cur?e.cur:{},a=s.time?s.time:(Date.now()/1e3/60).toFixed(2);s.time=a,e.cur=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in curr default function- ",e)}}function m(){try{var a="";s&&s.products&&(a=s.products?s.products:"");var o=a.split("|").reduce(((e,t)=>{var[s,a]=t.split("=");return e[s]=a,e}),{}),n=_satellite.getVar("snapshotDL"),i=n.get("page.category.subCategory03"),r="";s&&s.pageName&&(r=s.pageName?s.pageName:"");var c=window.location.protocol+"//"+window.location.host+window.location.pathname,d=_satellite.getVar("AA-componentDefaultValues")?_satellite.getVar("AA-componentDefaultValues").componentName:n.get("component.-1.componentInfo.componentName"),l="",u="";""!=a&&(l=o.eVar57?o.eVar57:"",u=o.eVar56?o.eVar56:"");var b=_satellite.getVar("AT-AffinityParams")||"";((b=b["car-model"]||"").indexOf("E")>-1||"elektromobilitaet"==i||"electromobility"==i||"bmw-i"==d||i.indexOf("i4")>-1||i.indexOf("i7")>-1||i.indexOf("ix")>-1||i.indexOf("xm")>-1||i.indexOf("2e")>-1||i.indexOf("3e")>-1||c.indexOf("elec")>-1||c.indexOf("elek")>-1||r.indexOf("bmw-i")>-1||r.indexOf("electric")>-1||r.indexOf("bmw i")>-1||"phev"==l||"beve"==l||"e"==u||"y"==u||"x"==u||"electric"==u||"beve"==u)&&(e=t("visitor_aa_hits"),x=e.sc?e.sc:{},f=x.time?x.time:(Date.now()/1e3/60).toFixed(2),e.sc=x,e.sc.time=f,g=((Date.now()/1e3/60).toFixed(2)-f).toFixed(2),x.bev=g,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)))}catch(e){_satellite.logger.error("Error in bev_timer function- ",e)}}function p(){try{var s=_satellite.getVar("AT-AffinityParams")||"";s=s["car-model"]||"";var a=window.location.protocol+"//"+window.location.host+window.location.pathname;("F91"==s||"F92"==s||"F93"==s||"G07"==s||"G09"==s||"G14"==s||"G15"==s||"G16"==s||"G70"==s||"G70E"==s||"G11"==s||"G12"==s||a.indexOf("/bmw-luxury-class")>-1)&&(e=t("visitor_aa_hits"),x=e.sc?e.sc:{},f=x.time?x.time:(Date.now()/1e3/60).toFixed(2),e.sc=x,e.sc.time=f,g=((Date.now()/1e3/60).toFixed(2)-f).toFixed(2),x.gkl=g,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)))}catch(e){_satellite.logger.error("Error in gkl_timer function- ",e)}}if(_satellite.getVar("isAdobeAnalyticsAllowed")&&"bmw.co.uk"==_satellite.getVar("topLevelDomain")){o(),a(),b(),r(),n(),i(),d(),p(),m(),c();var v=l();return u(v),v}}}},isregulation:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return epaas.api.isUsageAllowed("GoogleAdvertising")}}},URLNoParam:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return location.host+location.pathname}catch(e){}}}},isTargetAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Target;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetAllowed"};_satellite.logger.error(e,s)}}}},pa_pag_pageTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle}catch(e){}}}},PRC_adform:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{var t=function(){var s=_satellite.getVar("getDL",e),a=s.get("eventInfo.reference.linkedProducts"),o=s.get("eventInfo.reference.linkedComponent"),n=s.get("product.-1.attributes.mmdr",s.get(`product.${a}.attributes.mmdr`)),i=s.get("product.-1.attributes.modelCode",s.get(`product.${a}.attributes.modelCode`));("datalayer field empty"==n||"datalayer field missing"==n)&&window.location.href.indexOf("modelRange")>-1&&(n=window.location.href.substring(window.location.href.indexOf("modelRange")+11,window.location.href.indexOf("modelRange")+14));var r=_satellite.getVar("AA-componentDefaultValues").subCat||s.get(`component.${o}.componentInfo.componentName`),c=_satellite.getVar("AA-languageWorkaround")||s.get("page.pageInfo.language"),d={8:r,9:window.location.pathname,10:window.location.href,11:n,12:i,13:c,14:s.get("page.attributes.outletName"),15:s.get("cart.cartID"),16:s.get("page.attributes.currencyCode",s.get("transaction.-1.total.currency",s.get("cart.price.currency")))},l=function(e){let t={};for(var s of e)t["sv"+s]=d[s];return t};t.prototype.exec=function(e){if(null==e.sv)(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page)}});else{var t=l(e.sv);(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page),order:t}})}}};return new t}catch(e){var s={from:"AA",type:"DE",name:"PRC_adform"};_satellite.logger.error(e,s)}}}},usabilla_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"UK"==s&&(s="GB"),"COM"==s&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(s="AU");var a,o=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL"],n={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:0,Psyma:56,Other:24}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:0,Psyma:46,Other:44}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:0,Psyma:52,Other:22}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:0,Psyma:0,Other:85}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:0,Psyma:0,Other:80}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:0,Psyma:0,Other:25}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:0,Psyma:0,Other:15}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:0,Psyma:35,Other:15}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:50,CES:0,Psyma:0,Other:50}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}},i=(null==(b=epaas.api.getPersistence("bmwdtm_hq_vs"))&&(b=Math.floor(Date.now()/1e3),o.indexOf(s)>-1&&epaas.api.setPersistence("bmwdtm_hq_vs",b)),void 0!==epaas.api.getPersistence("bmwdtm_hq_vs")&&null!=epaas.api.getPersistence("bmwdtm_hq_vs")&&(u=epaas.api.getPersistence("bmwdtm_hq_vs").slice(-2)),u=+u);if(a=n[s]?function(e,t,s,a,o){if(t+s+a+o==100)return e>=0&&e<t?"NPS":e>=t&&e<t+s?"CES":e>=t+s&&e<t+s+a?"PSYMA":e>=t+s+a&&e<t+s+a+o?"NO-SURVEY":void 0}(i,n[s].random.NPS,n[s].random.CES,n[s].random.Psyma,n[s].random.Other):"NO-SURVEY",("NPS"==a||"CES"==a)&&o.indexOf(s)>-1){var r,c,d=null!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].NPS[e]),l=null!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].CES[e]);return r=!d||"T"!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].NPS[e]).split("/")[0],c=!l||"T"!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].CES[e]).split("/")[0],r&&c&&o.indexOf(s)>-1?a:"NO-SURVEY"}return a}catch(e){_satellite.logger.error(e)}var u,b}}},"AA-localCampaignVariable":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["mz_ca","mz_sp"];function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}_satellite.getVar("topLevelDomain");for(var s="",a=0,o=0;o<e.length;o++)t(e[o])?s+=t(e[o])+"|":(s+="no value|",a++);return s=2==a?"":s.slice(0,-1)}catch(i){var n={from:"AA",type:"DE",name:"AA-localCampaignVariable"};_satellite.logger.error(i,n)}}}},"Cluster AT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.at")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.at")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<8.5&&a<8.71?s="CN1":c.uPV>=8.5&&a<8.71||c.uPV<11.5&&a>=8.71&&a<34.01||c.uPV<8.5&&a>=34.01?s="CN2":(c.uPV>=11.5&&a>=8.71||c.uPV>=8.5&&a>=34.01)&&(s="CN3"):"nCrs"==i?c.uPV<4.5&&a<11.22?s="SL1":c.uPV>=4.5&&a<11.22||c.uPV<6.5&&a>=11.22&&a<28.49||c.uPV<4.5&&a>=28.49?s="SL2":(c.uPV>=6.5&&a>=11.22||c.uPV>=4.5&&a>=28.49)&&(s="SL3"):"shw"==i?a<2.82&&c.vMI<1.5?s="SR1":a<2.82&&c.vMI>=1.5||a>=2.82&&a<8.07&&c.vMI<2.5||a>=8.07&&c.vMI<1.5?s="SR2":(a>=2.82&&c.vMI>=2.5||a>=8.07&&c.vMI>=1.5)&&(s="SR3"):"shp"==i&&(c.uPV<4.5&&"N"==c.crt?s="SH1":c.uPV<4.5&&"Y"==c.crt||c.uPV>=4.5&&"N"==c.crt?s="SH2":c.uPV>=4.5&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster AT Data Element - ",d)}}}},setPageSpeedVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var t=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(t),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(e.events=e.apl(e.events,"event971="+json_data.timeServer,",",1),e.events=e.apl(e.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(e.events=e.apl(e.events,"event973="+json_data.lcp,",",1)),e.events=e.apl(e.events,"event974="+json_data.timeContent,",",1),e.events=e.apl(e.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(e.events=e.apl(e.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(e.events=e.apl(e.events,"event969="+json_data.cls,",",1),e.events=e.apl(e.events,"event967="+json_data.clsTotal,",",1)),e.eVar36=_satellite.getVar("perfTime_url"),e.eVar37=_satellite.getVar("perfTime_query"),e.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(e.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(e.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}e.linkTrackVars="events",e.linkTrackEvents=e.events,e.linkTrackVars=e.apl(e.linkTrackVars,"eVar36,eVar37,eVar38,eVar68")}}catch(t){var e={from:"AA",type:"DE",name:"setPageSpeedVariables"};_satellite.logger.error(t,e)}}}},hierarchy:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),o=[e,t,s],n=3;s.indexOf("None")>-1&&(n=2),t.indexOf("None")>-1&&(n=1),e.indexOf("None")>-1&&(n=0);for(var i="",r=0;r<n;r++)i+=o[r]+"|";return i+=a}catch(e){}}}},targetModelsExclusion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e;e=(e=adobeDataLayer.getState("product"))?Object.values(e)[0].attributes.mmdr:digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr;var t,s,a=window.location.host;return a.indexOf("www.bmw.at")>-1?t=s.indexOf(e)>-1:a.indexOf("www.bmw.de")>-1?t=(s=["G42","U06","G22","G23","G26","G26E","G02","G05","I20","G20","G21","U11","U11E"]).indexOf(e)>-1:(a.indexOf("www.bmw.be")>-1||a.indexOf("www.bmw.lu")>-1)&&(t=(s=["F40","G42","F44","U06","G20","G21","G22","G26","G30","G31","G32","G15","G14","G16","F39","G01","G08","G02","G05","G06","G07","G29","G26","i20","I01"]).indexOf(e)>-1),t}catch(e){_satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion"+e)}}}},"AA-PagesubCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.category.subCategory01"}}},"AA-consentViolations":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e;return["com.adobe.reactor.core.visitorTracking.cookiesMigrated","com.adobe.reactor.core.visitorTracking.landingPage","com.adobe.reactor.core.visitorTracking.landingTime","com.adobe.reactor.core.visitorTracking.pagesViewed","com.adobe.reactor.core.visitorTracking.sessionCount","com.adobe.reactor.core.visitorTracking.trafficSource"].some((e=>epaas.api.getPersistence(e)))?(e=!0,_satellite.logger.log("consent violation flag event942 is set")):(e=!1,_satellite.logger.log("No storage found that are part of cookieList")),e}catch(e){var t={from:"AA",type:"Data Element",name:"consentViolations"};_satellite.logger.error(e,t)}}}},ev_cat_subCategory02:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1,s=e.event[t].category.subCategory02,a=_satellite.getVar("ev_cat_subCategory04"),o=_satellite.getVar("topLevelDomain");return null!=s&&""!=s||(s="Generic"),"bmw.com.tr"!=o&&"bmw.co.jp"!=o&&"bmw-antilles.fr"!=o||null!=a&&""!=a&&"not set"!=a&&(s="Campaign"),s}catch(e){}}}},"AA-marketCodes":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ZA","AR","AT","AU","BE","BG","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","GR","HU","ID","IE","IN","IS","IT","JP","KR","LU","MX","MY","NL","NO","NZ","PL","PT","RO","RU","SE","SI","SK","TH","SG","SL","US"]}}},jcrPathLevel2:{defaultValue:"",
storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_cat_subCategory01"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),o=2;if((o=o+6-1)<a.length)var n=a[o];else n="None";return e.indexOf("/configurator")>-1&&(n="Configurator Page"),"VCO"===s&&(n=t),n}catch(e){}}}},"DL-resolver":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return e=>({component:()=>a12r.util.getFirstFunctionWithNonZeroValue([()=>document.getElementsByName("x-tradein").length&&"forms",()=>window.location.pathname.match(/(\/form|-forms|\/lomake|\/skjema)/)&&"forms",()=>window.location.pathname.match(/(\/sl\/)/)&&"car stock locator",()=>window.location.pathname.match(/(\/compare\/)/)&&"compare",()=>window.location.pathname.match(/(\/configure\/)/)&&"configurator",()=>window.location.pathname.match(/(\/shop\/dcs\/)/)&&"dcs",()=>window.location.pathname.match(/(\/shop\/ls\/)/)&&"oneshop",()=>window.location.pathname.match(/(^\/(\w{2})([_-]\w{2})?\/css\/)/)&&"css"]),market:()=>{return"uk"===(e=a12r.util.getFirstFunctionWithNonZeroValue([()=>location.pathname.match(/^\/(\w{2})[_-]\w{2}\//)[1],()=>{return 2===(e=location.host.split(".").pop()).length?e:void 0;var e},()=>location.host.match(/-(\w{2})-awsint-..\.int\.bmwweb\.eu-central-1\.aws\.bmw\.cloud/)[1]]))?"gb":e;var e}}[e]())}}},snapshotDL:{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js",settings:{dataLayerSnapshot:null}},"AA-eventPrimarycategory":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.primaryCategory"}}},setDefaultFormVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t){try{var s=_satellite.getVar("snapshotDL"),a=(_satellite.getVar("WA_FormOrigin"),s.get("event.-1.eventInfo.eventName")),o=s.get("event.-1.eventInfo.effect"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),i=s.get("event.-1.category.subCategory1"),r=s.get("event.-1.category.subCategory2"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));console.log("Mayank's event Identifier is "+e.identifier),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o;var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},u=l[n.toLowerCase()],b=l[i.toLowerCase()],m=l[r.toLowerCase()];"nsc > form started"==o||"local > form started"==o?(d=t.apl(d,"event3,event4"),null!=m&&(d=t.apl(d,m[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"roi"!=n&&"rfi"!=n||null!=b&&(d=t.apl(d,b[0]))):"nsc > form finished"==o||"local > form finished"==o?(d=t.apl(d,"event15,event16"),null!=m&&(d=t.apl(d,m[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"rfi"!=n&&"roi"!=n||null!=b&&(d=t.apl(d,b[1]))):"nsc > form finish intention"==o||"form finish intension"==o||"local > form finish intention"==o?d=t.apl(d,"event13,event14"):"first form interaction"==o||"local > first form interaction"==o?d=t.apl(d,"event5,event6"):"form interaction"==o||"local > form interaction"==o?d=t.apl(d,"event9,event10"):o.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"form impression"==o?d=t.apl(d,"event925"):a.indexOf("error")>-1&&(d=t.apl(d,"event931"));var f=s.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+f),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.prop7=s.get("event.-1.category.subCategory1"),t.prop9=s.get("page.category.subCategory1"),t.prop10=s.get("page.category.subCategory2"),t.prop11=n,t.prop16=s.get("page.pageInfo.pageName"),t.prop17=s.get("event.-1.attributes.form.rfxID"),t.prop18=s.get("event.-1.category.subCategory2",s.get("event.-1.category.subCategory02")),t.prop43="forms",t.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),t.prop56="form",t.eVar23=s.get("page.attributes.marketingConsent"),t.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroup")),t.eVar42=s.get("dealer.-1.dealerInfo.dealerID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerName")),t.eVar40=s.get("dealer.-1.dealerInfo.outletID",s.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar137=s.get("component.-1.category.application","aem6"),("form"!=s.get("component.-1.category.subCategory01")&&"form"!=s.get("component.-1.category.subCategory1")||"aem6"!=s.get("component.-1.category.application"))&&"nsc > form finish intention"!=s.get("event.-1.eventInfo.effect")||"interaction"==a&&(t.prop6=t.prop53="adobe form"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop55="generic"),"error"==a&&(t.prop56="error",t.prop6="",t.prop8="",t.prop55=s.get("event.-1.category.subCategory1"),t.prop53=s.get("event.-1.eventInfo.type"),t.eVar34=s.get("event.-1.eventInfo.effect"),t.prop52=s.get("event.-1.eventInfo.cause")),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(e){var p={from:"AA",type:"DE",name:"setDefaultFormVariables"};_satellite.logger.error(e,p)}}}}},"AA-componentDefaultValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("pageInstanceId"),t=e.split("/"),s={primaryCat:"nsc website",subCat:t[6]||"content",componentName:t[7]};switch(s.subCat.toLowerCase()){case"index-prod":s.subCat="content",s.componentName="homepage";break;case"all-models":s.subCat="showroom";break;case"all-models-prod":s.subCat="content",s.componentName="all-models-prod";break;case"topics":s.subCat="topics";break;case"ssl":"requests"===t[7]?(s.subCat="forms",s.componentName="Target: Visitor Reco"===_satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"Target: Visitor Reco":t[8]):s.subCat="content";break;case"stocklocator-prod":s.primaryCat="stock locator",s.componentName="used car stock locator";break;case"usedcar-prod":s.componentName="used car";break;case"rakenna-oma-bmw-prod":case"bygg-din-bmw-prod":s.componentName="configurator all models";break;default:if(RegExp("^[c|k]onf.*prod$").test(s.subCat.toLowerCase()))s.componentName="configurator all models";else if(e.indexOf("/forms/")>-1)s.componentName="adobe form";else{var a=_satellite.getVar("snapshotDL");s.componentName=a.get("component.-1.componentInfo.componentName",s.componentName)}}return s}catch(e){var o={from:"AA",type:"DE",name:"AA-componentDefaultValues"};_satellite.logger.error(e,o)}}}},"AA-PagesubCategory02 ":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.category.subCategory02"}}},"AA-eventFilter-priceControl":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return filterEvent=function(e){var t=e,a=["event831","event832","event833","event834","event835","event836","event837","event858","event841","event842","event843","event844","event845","event846","event847","event848","event851","event852","event853","event854","event855","event856","event857","event861","event862","event863","event864","event865","event866","event867","event868"],o=["event841","event842","event843","event844","event845","event846","event847","event861","event862","event863","event864","event865","event866","event867","event868"];try{var n={ALLOW:"ALLOW",DENY:"DENY",FILTER:"FILTER"},r={con:{permission:n.ALLOW},"stock locator":{permission:n.DENY},oneshop:{permission:n.FILTER}},c={"digital services":{permission:n.ALLOW},"physical products":{permission:n.DENY},"physical goods":{permission:n.DENY}},d=r[t]||{permission:n.DENY};if(d.permission==n.ALLOW)return _satellite.logger.debug("DE - eventFilter-PriceControl: ALLOW"),evar139="prices are allowed",evar139;if(d.permission==n.DENY){for(var l in a)s.events=s.rfl(s.events,a[l]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");return evar139="prices are denied",evar139}if(d.permission==n.FILTER)return _satellite.logger.debug("DE - eventFilter-PriceControl: FILTER"),void 0!==s.products&&""!=s.products&&(sProductsList=s.products.split(","),arrayProduct=[],sProductsList.forEach((function(e){var t=e.split(";"),a=[],r=!1;for(i=t.length;i>=0;i--)if(5==i)a.push(t[i]),evars=t[i].split("|"),evarsValues=evars.filter((function(e){return-1!=e.indexOf("eVar54")||-1!=e.indexOf("eVar53")})).flatMap((function(e){return e.split("=")[1]})),evarsValues.forEach((function(e){merchValuePermission=c[e]||{permission:n.DENY},merchValuePermission.permission==n.DENY&&(r=!0,_satellite.logger.info("DE - eventFilter-PriceControl: merchEvars: "+e),_satellite.logger.info("DE - eventFilter-PriceControl: flag set to True"))}));else if(4==i)if(r){for(var d in _satellite.logger.info("DE - eventFilter-PriceControl: remove merchandising events"),a.push(""),o)s.events=s.rfl(s.events,o[d]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");r=!1}else a.push(t[i]);else i<4&&a.push(t[i]);arrayProduct.push(a.reverse().join(";"))})),s.products=arrayProduct.join(",")),evar139="prices are filtered",evar139}catch(e){var u={from:"AA",type:"DE",name:"AA-eventFilter-priceControl"};_satellite.logger.error(e,u)}},filterEvent}}},ev_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].category.subCategory01}catch(e){}}}},"AA-eventEffect":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.effect"}}},splitConsentEnabled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("undefined"==typeof epaas){var e=["bmw.de","bmw.co.za","bmw.co.jp","bmw.co.nz","bmw-int5.com","bmw-int4.com","bmw.it","bmw.bg","bmw.hr","bmw.com.cy","bmw.cz","bmw.com.mt","bmw.gr","bmw.hu","bmw.ro","bmw.sk","bmw.si","bmw.be","bmw.lu","bmw.at","bmw.es","bmw.pl","bmw-int6.com","bmw.nl","bmw.fr","bmw.ch","bmw.ie","bmw.lv","bmw.ee","bmw.gp","bmw.mu","bmw.mq","bmw.co.uk","bmw.pt","bmw.re","bmw.is","bmw.lt","bmw.dk","bmw.fi","bmw.se","bmw.no","bmw.co.th","bmw.com.br","bmwbkk.de","bmw.in","bmw.com.mx","adobemc.com","mini.de","mini.it","mini.fr","mini.at","mini.ch","mini.be","mini.lu","mini-int7.com","bmw.co.kr","bmw.com.my","bmw.co.id","bmw.com.ar","bmw.com","bmw.com.sg","bmw.ca"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1?"true":"false"}if(epaas&&epaas.api&&epaas.api.getApiInfo)return epaas.api.getApiInfo().splitConsentManagement?"true":"false"}catch(e){var s={from:"AA",type:"DE",name:"splitConsentEnabled"};_satellite.logger.error(e,s)}}}},productBuilder:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){this.id=void 0,this.category=void 0,this.merchEvars={},this.events=[],this.quantity=void 0,this.price=void 0,this.load=[]};return e.prototype.toString=function(){try{var e="";for(var t in this.merchEvars)Object.prototype.hasOwnProperty.call(this.merchEvars,t)&&(-1!=_satellite.getVar("AA-Exclusionlist").indexOf(t)?e+=t+"="+String(this.merchEvars[t]||"").replaceAll(/[,]/g," ")+"|":e+=t+"="+String((this.merchEvars[t].toString()||"").toLowerCase()).replaceAll(/[,]/g," ")+"|");e.length&&(e=e.substring(0,e.length-1));var s=this.category||"";s+=";"+(this.id||""),s+=";"+(this.quantity||""),s+=";"+(this.price||""),s+=";"+(this.events?Array.isArray(this.events)?this.events.join("|"):this.events:""),s+=";"+(e||"");for(var a="",o=0;o<this.load.length;o++)a+=","+this.load[o].toString();return s+=a}catch(e){var n={from:"AA",type:"DE",name:"productBuilder->toString"};_satellite.logger.error(e,n)}},e.prototype.append=function(e){if(Array.isArray(e))this.load=this.load.concat(e);else{if("object"!=typeof e)throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances");this.load.push(e)}},new e}catch(e){var t={from:"AA",type:"DE",name:"productBuilder"};_satellite.logger.error(e,t)}}}},isAAMAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AAM;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAAMAllowed"};_satellite.logger.error(e,s)}}}},gcdmcookie:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"gcdmToken"}},"AA-languageWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.co.za":"ZA","bmw.com.ar":"AR","bmw.at":"AT","bmw.com.au":"AU","bmw.be":"BE","bmw.bg":"BG","bmw.com.br":"BR","bmw.ca":"CA","bmw.ch":"CH","bmw.com.cn":"CN","bmw.cz":"CZ","bmw.de":"DE","bmw.dk":"DK","bmw.es":"ES","bmw.fi":"FI","bmw.fr":"FR","bmw.co.uk":"GB","bmw.gr":"GR","bmw.hu":"HU","bmw.co.id":"ID","bmw.ie":"IE","bmw.in":"IN","bmw.is":"IS","bmw.it":"IT","bmw.co.jp":"JP","bmw.co.kr":"KR","bmw.lu":"LU","bmw.com.mx":"MX","bmw.com.my":"MY","bmw.nl":"NL","bmw.no":"NO","bmw.co.nz":"NZ","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.se":"SE","bmw.si":"SI","bmw.sk":"SK","bmw.co.th":"TH","bmw.com.sg":"SG","bmwusa.com":"US","bmw.com/en-au":"AU","mini.de":"DE","mini.fr":"FR","mini.it":"IT","mini.at":"AT","mini.ch":"CH","mini.be":"BE","mini.lu":"LU"};return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},prop43:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.prop43}}},"DL-full":{modulePath:"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js",settings:{path:""}},"AA-contextData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){var e=new Date,t=e.getUTCFullYear().toString(),s=(e.getUTCMonth()+1).toString(),a=e.getUTCDate().toString();1==s.length&&(s="0"+(e.getUTCMonth()+1).toString()),1==a.length&&(a="0"+e.getUTCDate().toString());var o=document.location.hostname.split(".").pop().toUpperCase();return base_context=t+"_"+s+"_"+a+"_"+o,base_context+"_A,"+base_context+"_W,"+base_context+"_I,"+base_context+"_E"}}catch(t){var e={from:"AA",type:"DE",name:"AA-contextData"};_satellite.logger.error(t,e)}}}},"AT-TargetParamsManager":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache,t=function(){var s="targetParamsCache",a=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e};t.prototype.mergeParams=function(t,a){var o=e.get(s)||{};for(var n in t)o.hasOwnProperty(n)&&o[n]===t[n]||(o[n]={value:t[n],once:!!a,fired:!1});e.set(s,o)},t.prototype.getParams=function(){var t=e.get(s)||{},o={};for(var n in t)t[n].fired&&t[n].once||(t[n].fired=!0,o[n]=t[n].value);return o=a(o),_satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-",o),o},t.prototype.hasFired=function(t,a){var o=e.get(s)||{};return!(!o[t]||!o[t].fired||o[t].value!==a)}};return new t}catch(e){var s={from:"AA",type:"DE",name:"AT-TargetParamsManager"};_satellite.logger.error(e,s)}}}},URL:{defaultValue:"URL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.href.substring(0,255);return e=e.toLowerCase()}catch(e){}}}},"DL-Map":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{page:{pageInfo:{PPVstate:{foldsAvailable:"c48",foldsSeen:"c49",highestPercentViewed:"c47"},windowInfo:{url:"v4",urlSpillover:"v5",urlSpillover2:"v105",previousDomain:"v6",urlHash:"v11",urlClean:"v12",urlCleanWithoutProtocol:"c20",queryParam:"v13",screenWidth:"c66",screenHeight:"c67",screenOrientation:"c68",userAgent:"v132",server:"server",campaign:"v0;v61;v62",internalCampaign:"v63",searchAdsParameter:"v64",nspCampaignID:"v171",nspBroadlogID:"v172",etplinkParameter:"v176",combScreenHeightWidth:"v141",bigCookies:"c65",totalCookieLength:"n936"},tmsInfo:{publishDate:"c71-",vidServiceVersion:"c72",appMeasurementVersion:"c73"},timeInfo:{utcTime:"c14;e934",utcDate:"v80",daysSince2020:"v81",localTime:"c15"},visitorInfo:{lastTwoDigits:"v131",hashedID:"v130",vibeScore:{final:{total:"c35;n146",tda:"n142",rfo:"n143",rfi:"n144",vco:"n145",vibeScore:"v196",currentSFB:"c35"},clusterSegment:"v195"}},sPVM:{prevCompName:"c31-",prevPageSubCategory:"c32-",prevPageName:"c33-",prevUrlFull:"v14",prevCompSubCategory:"v28-",prevUrlClean:"v29",prevPagePrimaryCategory:"v144"},pageName:"c1-",realPageName:"pageName-",pageID:"c27-",variant:"c28-",version:"c29-",geoRegion:"v8+",referringUrl:"referrer",language:"v7-",author:"c46-",sysEnv:"v135-",pageTitle:"v18-"},category:{pageType:"c2-;pageType",primaryCategory:"c3-",subCategory1:"c4-",subCategory2:"c5-",subCategory3:"c30-"},attributes:{brand:"c13-",solutionSpecific:{dcs:{checkoutMethodsSelected:"v151-",deliveryMethodSelected:"v152-",paymentMethodsSelected:"v153-",referringComponent:"v154-",offerID:"v155-",checkoutID:"v156-"}},checkoutID:"purchaseID"},extra:{priceSetup:"v139-"},context:"c34+"},tools:{analytics:{report_suite:"sa"},ContentSquare:{csMatchingKey:"v142"},qualtrics:{userFeedbackContent:"v78",userFeedbackQuestion:"v79",userFeedbackScore:"v77",userFeedbackType:"v76",userFeedbackScoreNPS:"n363",userFeedbackScoreCES:"n364"}},product:{"*":{productInfo:{productID:"p:id+",manufacturer:"pv60-",productName:"pv52-",color:"pv47-",size:"pv74-"},category:{productType:"p:category",primaryCategory:"pv53-",subCategory1:"pv54-",subCategory2:"pv55-",subCategory3:"pv73-"},quantity:"p:quantity;pn858",attributes:{mmdrVG:"pv10+",modelCode:"pv48+",gearing:"pv49-",series:"pv50",bodyType:"pv51",fuelType:"pv56-",hybridVersion:"pv57-",motorization:"pv58",configLink:"pv59;c59;v59",modelName:"pv65-",salesModel:"pv66",modelCodeAG:"pv69+",encVIN:"pv70",fin:{downPayment:"pv84",mileage:"pv85",monthlyPayment:"pv86",term:"pv87"},productionYear:"pv44",yearOfRegistration:"pv45",status:{_:"pv46-","automatically added item":"pn227=1;pn229=1","added item":"pn227=1","automatically removed item":"pn228=1;pn230=1","removed item":"pn228=1"},mostRecentModel:"v92+",basePrice:"n841",sellingPriceTotal:"n846",sellingPriceVehicle:"pn836",basePriceVehicle:"pn831",linkedDealerOutletBuno:"pv35",linkedDealerCount:"pn287"}}},component:{"*":{category:{componentType:"c41-",primaryCategory:"c42-",subCategory1:"c43-"},componentInfo:{componentID:"c44-",componentName:"c19-"},attributes:{componentVersion:"c45-",touchpoint:"v134-",platform:"v137-",componentDevAgency:"c46-",variant:"v175-"}}},dealer:{"*":{dealerInfo:{outletID:"v40",dealerName:"v39-",dealerID:"v42",dealerGroup:"v41-"},attributes:{selectionState:"v43-"}}},ePaaS:{adobe:"list1",consents:"c64-",defaults:"c63-",drawer:"c60-",identities:"c61-",settings:"c62-"},user:{"*":{address:{stateProvince:"v19-",country:"v20-",currentVehicle:"v26-"},attributes:{loggedInStatus:"c40",currentVehicle:"v26-"},profileInfo:{type:"v15-",language:"v21-",profileID:"v17+"},segment:{_:"v16-"},encGCID:"v99"}},eventInfo:{eventName:{_:"c56-",interaction:[917,918],error:[931,932],"bounce timer":[976],"toaster shown":[925,926],warning:[937],notification:[938]},configUrLCompression:"v91",eventAction:{_:"c57-","media played":[351],"media finished":[359],view:[925,926]},cause:"c52-",element:"c50",effect:{_:"v34-","nsc > special > finance filter selected":[917,918],"nsc > video 25% viewed":[353],"nsc > video 50% viewed":[354],"nsc > video 75% viewed":[355],"nsc > product strip click":[907,908],"stock > stock locator started":[371,372],"stock > stock locator finish":[375,376],"con > CON-Configuration Start":[201,202,215,216],"con > CON-Configuration Finish":[203,204,215,216],"con > user added items to the configuration":[215,216],"con > user removed items to the configuration":[215,216],"con > configuration finish without any CTA":[203,204,215,216],"con > user interacted first time with con":[215,216,225,226],"con > qualtrics user feedback started":[361,362],"con > qualtrics user feedback finished":[365,366],"con > VCO Open Save Layer":[211,212,207,208],"con > VCO Save Layer Save Configuration":[209,210,223,224,207,208],"sales > oneshop > added to cart":["m:scAdd"],"sales > oneshop > removed from cart":["m:scRemove"],"special > video 25% viewed":[353],"special > video 50% viewed":[354],"special > video 75% viewed":[355],"con > video 25% viewed":[353],"con > video 50% viewed":[354],"con > video 75% viewed":[355],"sales > video 25% viewed":[353],"sales > video 50% viewed":[354],"sales > video 75% viewed":[355],"con > ac model selection":[257],"con > ac start":[251,252],"con > ac print":[915]},totalTimeDLP:"n978",timeStamp:"c12",type:"c53-",eventPoints:"n970",category:{primaryCategory:{_:"c54-","accessories configurator":[253,254]},subCategory1:{_:"c55-","stock locator finish":[375,376]},subCategory2:"c51-",subCategory3:"v106"},performance:{clsTotal:"n967",fid:"n968",cls:"n969",timeServer:"n971",timeServerReact:"n972",lcp:"n973",path:"v36",url:"v36",query:"v37",hash:"v38",fidHTML:"v67",lcpHTML:"v68",timeContent:"n974",timePageReady:"n975"},reference:{linkedProducts:"product",linkedComponent:"component",linkedDealers:"dealer",linkedProfile:"user",linkedCartItems:"cart.item",linkedTransactionItems:"transaction.item"},attributes:{requestedURL:"v71",iframeURL:"v9",form:{preferredComChannel:"v23"},media:{currentTime:"n358",totalLength:"n357"},positionClicked:"c23",search:{"**":{search:"p:id!;p:category!",unit:"pv30-",state:"pv31-",label:"pv32-",term:"pv33-"}},solutionSpecific:{dcs:{referringComponent:"v154-",offerID:"v155-"},evar151:"v151",evar152:"v152",evar153:"v153",evar154:"v154",evar155:"v155",evar156:"v156",evar157:"v157",evar158:"v158",evar159:"v159",evar160:"v160"},purchaseID:"purchaseID;m:purchase",ucpRequestId:"v152-",modalOpen:"v151-",conRelease:"v153-"},tools:{launch:{prop_rule:"c74"},analytics:{error_report_suite:"sa"}},form:{eventName:{saved_configuration:{formType:"c11-"}}},con:{eventName:{con_configuration_finish:{vcoFinishType:{_:"c69-",RFI:[1,2],RFO:[1,2],TDA:[1,2],"Request for Offer":[1,2],"Test drive":[1,2],Brochure:[1,2],save:[207,208],Save:[207,208],SAVE:[207,208],GARAGE:[207,208],VCO:[207,208],Share:[905,906],SHARE:[905,906],Print:[915,916],PRINT:[915,916]}},saved_configuration:{eventName:{"Saved Configuration":[207,208]},vcoFinishType:{_:"c69-"},userLoggedIn:{true:[213,214]},vcoChecked:[223,224]},con_error_event:{eventName:{"CON-Error Event":[931,932]}},con_warning_event:{eventName:{"CON-Warning Event":[221,222]}},vco_next_layer_start:{eventName:{"VCO Next Layer Start":[925,926]}},vco_next_layer_click_on_save_configuration_button:{eventName:{"VCO Next Layer Click on Save Configuration Button":[207,208,209,210,211,212]},vcoChecked:[223,224]},vco_next_layer_dismissed_close:{eventName:{"VCO Next Layer Dismissed - Close":[218]}},open_configuration:{eventName:{"Open Configuration":[305,306]}}},eventAction:{reach_viewport:{eventAction:{"Reach viewport":[923,924]},vcoFinishType:{_:"c69-"}},close_layer:{eventAction:{"Close Layer":[218]},vcoFinishType:{_:"c69-"}}},eventEffect:{user_interacted_first_time_with_con:{eventEffect:{"user interacted first time with con":[225,226]}}}},oneshop:{pageType:{"product details":"m:prodView"},pageName:{"sales > oneshop > checkout":"m:scCheckout","sales > oneshop > cart":"m:scView","sales > oneshop > checkout : success":"m:purchase"}},PPVstate:{foldsAvailable:"n129",foldsSeen:"n130",highestPercentViewed:"n126",initalPercentViewed:"n125",highestPixelSeen:"n127",totalHeight:"n128",pathname:"v22"},mediaInfo:{video:{mediaName:"c36-",mediaHosting:"c37-",mediaType:"c38-"}},ecommerce:{event:{prodView:"m:prodView",scView:"m:scView",scAdd:"m:scAdd",scRemove:"m:scRemove",scCheckout:"m:scCheckout"}},version:"v136-"},cart:{cartID:"v120+",price:{currency:"v122",basePrice:"n841",discountAmountSum:"n843",taxAmountSum:"n845",priceWithTax:"n846",shipping:"n847",cartTotal:"n848",discountItemAmounts:"n849"},item:{"*":{productInfo:{productID:"p:id+;x:product",color:"pv47-",productName:"pv52-",manufacturer:"pv60-"},category:{productType:"p:category",primaryCategory:"pv53-",subCategory1:"pv54-",subCategory2:"pv55-",subCategory3:"pv73-"},quantity:"p:quantity;pn858",price:{basePrice:"pn831",voucherCode:"pv121",discountAmount:"pn833",discountAmountSum:"pn839",taxAmount:"pn835",priceWithTax:"pn836",shippingMethod:"pv126",voucherDiscount:"pn832",voucherDiscountAbsolute:"pn833",currency:"EUR",taxRate:"pn834;pn835",shipping:"pn837"},attributes:{mmdrVG:"pv10+",linkedDealerOutletBuno:"pv35",linkedDealerCount:"pn287",productionYear:"pv44",yearOfRegistration:"pv45",status:"pv46-",modelCode:"pv48+",gearing:"pv49-",series:"pv50",bodyType:"pv51",fuelType:"pv56-",hybridVersion:"pv57-",motorization:"pv58",configLink:"pv59;c59;v59",modelName:"pv65-",salesModel:"pv66",modelCodeAG:"pv69+",packageID:"pv90+;v120"}}}},transaction:{transactionID:"v125+",attributes:{paymentMethod:"v123-"},total:{currency:"v122",paymentMethod:"v123",basePrice:"n841",discountAmountSum:"n843",taxAmountSum:"n845",priceWithTax:"n846",shipping:"n847",cartTotal:"n848",discountItemAmounts:"n849"},item:{"*":{productInfo:{productID:"p:id+;x:product",color:"pv47-",productName:"pv52-",manufacturer:"pv60-"},category:{productType:"p:category",primaryCategory:"pv53-",subCategory1:"pv54-",subCategory2:"pv55-",subCategory3:"pv73-"},quantity:"p:quantity;pn858",price:{basePrice:"pn831",voucherCode:"pv121",discountAmount:"pn833",discountAmountSum:"pn839",taxAmount:"pn835",priceWithTax:"pn836",shippingMethod:"pv126",voucherDiscount:"pn832",voucherDiscountAbsolute:"pn833",currency:"EUR",taxRate:"pn834;pn835",shipping:"pn837",revenuePerItem:"p:total"},attributes:{mmdrVG:"pv10+",linkedDealerOutletBuno:"pv35",linkedDealerCount:"pn287",productionYear:"pv44",yearOfRegistration:"pv45",status:"pv46-",modelCode:"pv48+",gearing:"pv49-",series:"pv50",bodyType:"pv51",fuelType:"pv56-",hybridVersion:"pv57-",motorization:"pv58",configLink:"pv59;c59;v59",modelName:"pv65-",salesModel:"pv66",modelCodeAG:"pv69+",packageID:"pv90+;v120"}}}}}}}},isAdobeAnalyticsAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAdobeAnalyticsAllowed"};_satellite.logger.error(e,s)}}}},"AA-doNotTrack":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["sales > dcs: entry","stocklocator"]}}},pr_att_mmdr:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(0==e.product.length)return"";var t=e.product.length-1;return e.product[t].attributes.mmdr}catch(e){}}}},"AAM-containerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.containerNSID||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-containerID"};_satellite.logger.error(e,t)}}}},hierarchyEvar:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),o=_satellite.getVar("pa_pag_pageName"),n=[e,t,s],i=3;s.indexOf("None")>-1&&(i=2),t.indexOf("None")>-1&&(i=1),e.indexOf("None")>-1&&(i=0);for(var r="",c=0;c<i;c++){for(var d="",l=0;l<=c;l++)d+=n[l]+" > ";r+=(d=d.substring(0,d.length-3))+"|"}for(c=i;c<3;c++)r+=d+"|";return r+=a,r+="|"+o}catch(e){}}}},perfTime_url:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.path):""}catch(e){return _satellite.logger.error("Error in Data Element perfTime_url: "+e),"na"}}}},"Trigger-AnalyticsConsentChangeEvent":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var e,t="re-trigger";"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),document.body.dispatchEvent(e)}catch(e){var s={from:"AA",type:"DE",name:"Trigger-AnalyticsConsentChangeEvent"};_satellite.logger.error(e,s)}}}}},"AAM-hasheducid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hucid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"AAM-hashedemail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hemaid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},topLevelDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname,t=e.split(".").reverse(),s=t[1]+"."+t[0];return(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(s=t[2]+"."+s),s}catch(e){var a={from:"AA",type:"DE",name:"topLevelDomain"};_satellite.logger.error(e,a)}}}},consentMap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"===_satellite.getVar("splitConsentEnabled")?{AdobeAnalytics:"AdobeAnalytics",Target:"AdobeTargetAnalytics",TargetPersonalization:"AdobeTargetPersonalization",AAM:"AdobeAudienceManager_DMP",campaignCookieTracking:"campaignCookieTracking"}:{AdobeAnalytics:"advertising",Target:"advertising",TargetPersonalization:"advertising",AAM:"advertising",Others:"advertising",campaignCookieTracking:"campaignCookieTracking"}}catch(t){var e={from:"AA",type:"DE",name:"consentMap"};_satellite.logger.error(t,e)}}}},consentstatus:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return null!=processingWrapper&&processingWrapper._getProcessingInfo("BaseTracking",{type:processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2}).adobe,"test"}catch(e){}}}},jcrPathLevel3:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_pag_pageName"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),o=6,n=3;n=n+o-1;var i=a.length;if(n<i)var r=a[n];else r="None";return"newvehicles"!==a[o]&&"all-models"!==a[o]||(r=n<i?a[n]+" "+a[n+1]:"None"),e.indexOf("/configurator")>-1&&(r="None"),"VCO"===s&&(r=t),r}catch(e){}}}},"Cluster Features":{
modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function t(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}function a(){try{var e=t("visitor_aa_hits").vPV,s=Object.keys(e).length,a=t("visitor_aa_hits"),o=a.uPV;o?s>o&&(o=s,a.uPV=o,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))):(o=s,a.uPV=o,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a)))}catch(e){_satellite.logger.error("Error in get_unique_pages function - ",e)}}function o(){try{var e=t("visitor_aa_hits").vPV,s=t("visitor_aa_hits"),a=JSON.parse(JSON.stringify(s.vPV||{}));if((e?Object.keys(e).length:0)<=17){var o=window.location.pathname;a[o=(o="/"==o?window.location.hostname:window.location.pathname).replace("/en/","").split("/").map((e=>-1!=e.indexOf(".html")?e:e.substring(0,3))).toString().replaceAll(",","").replace(".html","")]?a[o]:a[o]=1,s.vPV=a,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(s))}}catch(e){_satellite.logger.error("Error in unique_page_views function - ",e)}}function n(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").uMI?t("visitor_aa_hits").uMI:{},a=_satellite.getVar("AT-AffinityParams")?_satellite.getVar("AT-AffinityParams")["car-model"]:"",o=window.digitalData&&window.digitalData.pages&&window.digitalData.pages[window.digitalData.pages.length-1]||_satellite.getVar("finalDataLayer");if(null==(n=o&&o.product&&o.product.length&&o.product[o.product.length-1].attributes&&o.product[o.product.length-1].attributes.internalCode||void 0))var n=o&&o.product&&o.product.length&&o.product[o.product.length-1].attributes&&o.product[o.product.length-1].attributes.mostRecentModel||void 0;if("datalayer field missing"!=(a=a||n||"")&&"datalayer field empty"!=a&&"undefined"!=a&&null!=a||(a=""),e.uMI=s,a){var i=Object.keys(s);i.length>0&&i.length<=5&&i.includes(a)||(s[a]=1),e.uMI=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in get_model_series_interaction function- ",e)}}function i(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").uMI;if(s){var a=Object.keys(s).length;e.vMI=a}window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in unique_model_interaction function- ",e)}}function r(){try{var e=t("visitor_aa_hits");function s(){e=t("visitor_aa_hits");var s=Date.now()/1e3/60-e.t;e.sDur=s.toFixed(2),window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}e.t=e.t?e.t:(Date.now()/1e3/60).toFixed(2),window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)),setInterval(s,1e3)}catch(a){_satellite.logger.error("Error in check_session_duration function- ",a)}}function c(){try{var e="";s&&s.prop8&&(e=s.prop8);var a=t("visitor_aa_hits"),o=t("visitor_aa_hits").cv8?t("visitor_aa_hits").cv8:0;o?a.cv8=o:e.includes("form start")?a.cv8=1:a.cv8=0,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))}catch(e){_satellite.logger.error("Error in get_form function- ",e)}}function d(){try{var e=t("visitor_aa_hits"),s=t("visitor_aa_hits").crt,a=0;window.hasOwnProperty("digitalData")&&digitalData.hasOwnProperty("cart")&&digitalData.cart.hasOwnProperty("item")&&(a=digitalData.cart.item.length),s?"N"==s&&a>0&&(e.crt="Y"):e.crt=a>0?"Y":"N",window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in get_cart function- ",e)}}function l(e){try{var s=e,a=t("visitor_aa_hits");(a.cur?a.cur:"").seg=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(a))}catch(e){_satellite.logger.error("Error in cluster function- ",e)}}function u(){try{var e=t("visitor_aa_hits"),s=e.cur?e.cur:{},a=s.time?s.time:(Date.now()/1e3/60).toFixed(2);s.time=a,e.cur=s,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in curr default function- ",e)}}function b(){try{var e=t("visitor_aa_hits");e.vNum=e.vNum?e.vNum:1,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e))}catch(e){_satellite.logger.error("Error in set_visit_number function- ",e)}}function m(){try{var a=_satellite.getVar("snapshotDL"),o=a.get("product.-1.attributes.fuelType")||"",n=a.get("product.-1.attributes.hybridVersion")||"",i=_satellite.getVar("AA-componentDefaultValues")?_satellite.getVar("AA-componentDefaultValues").componentName:a.get("component.-1.componentInfo.componentName"),r=a.get("page.category.subCategory03")||"",c=a.get("product.-1.attributes.mmdr")||"",d=a.get("product.-1.attributes.modelName")||"",l=window.location.protocol+"//"+window.location.host+window.location.pathname||"",u="";s&&s.pageName&&(u=s.pageName?s.pageName:""),("e"==o||"y"==o||"x"==o||"electric"==o||"phev"==n||"beve"==n||i.indexOf("bmw-i")>-1||r.indexOf("electromobility2020-new")>-1||r.indexOf("electromobility2020 new")>-1||r.indexOf("elektromobilitaet")>-1||r.indexOf("electromovilidad")>-1||r.indexOf("electromobility")>-1||c.indexOf("E")>-1||d.indexOf("i4")>-1||d.indexOf("i7")>-1||d.indexOf("ix")>-1||d.indexOf("iX")>-1||d.indexOf("xm")>-1||d.indexOf("2e")>-1||d.indexOf("3e")>-1||l.indexOf("electr")>-1||l.indexOf("elektro")>-1||l.indexOf("elektrisch")>-1||l.indexOf("elektrisk")>-1||l.indexOf("elektrifiering")>-1||l.indexOf("elbilar")>-1||u.indexOf("bmw-i")>-1||u.indexOf("bmw i")>-1||u.indexOf("electric")>-1)&&window.location.href.indexOf("?detail=")<1&&(e=t("visitor_aa_hits"),x=e.sc?e.sc:{},f=x.tb?x.tb:(Date.now()/1e3/60).toFixed(2),e.sc=x,e.sc.tb=f,g=((Date.now()/1e3/60).toFixed(2)-f).toFixed(2),x.bev=g,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)))}catch(e){_satellite.logger.error("Error in bev_timer function- ",e)}}function p(){try{var s=window.location.protocol+"//"+window.location.host+window.location.pathname,a=(_satellite.getVar("snapshotDL")||"").get("product.0.attributes.mmdr")||"",o=_satellite.getVar("topLevelDomain"),n="";n="bmw.de"==o&&s.indexOf("luxus")>-1||"bmw.fr"==o&&s.indexOf("luxury")>-1||"bmw.it"==o&&s.indexOf("classe-di-lusso")>-1||"bmw.es"==o&&(s.indexOf("alta_gamma")>-1||s.indexOf("vehiculos-lujo")>-1)||"bmw.nl"==o&&s.indexOf("luxe")>-1||"bmw.se"==o&&s.indexOf("lyx")>-1||"bmw.be"==o&&s.indexOf("classe-luxe-BMW")>-1||"bmw.lu"==o&&s.indexOf("classe-luxe-BMW")>-1||"bmw.at"==o&&s.indexOf("bmw-luxusklasse")>-1?"true":"false",("F91"==a||"F92"==a||"F93"==a||"G07"==a||"G09"==a||"G14"==a||"G15"==a||"G16"==a||"G70"==a||"G70E"==a||"G11"==a||"G12"==a||"true"==n)&&window.location.href.indexOf("?detail=")<1&&(e=t("visitor_aa_hits"),x=e.sc?e.sc:{},f=x.tg?x.tg:(Date.now()/1e3/60).toFixed(2),e.sc=x,e.sc.tg=f,g=((Date.now()/1e3/60).toFixed(2)-f).toFixed(2),x.gkl=g,window.epaas.api.setPersistence("visitor_aa_hits",JSON.stringify(e)))}catch(e){_satellite.logger.error("Error in gkl_timer function- ",e)}}if(_satellite.getVar("isAdobeAnalyticsAllowed")&&("bmw.de"==_satellite.getVar("topLevelDomain")||"bmw.fr"==_satellite.getVar("topLevelDomain")||"bmw.it"==_satellite.getVar("topLevelDomain")||"bmw.es"==_satellite.getVar("topLevelDomain")||"bmw.nl"==_satellite.getVar("topLevelDomain")||"bmw.se"==_satellite.getVar("topLevelDomain")||"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")||"bmw.at"==_satellite.getVar("topLevelDomain"))||"bmw.pt"==_satellite.getVar("topLevelDomain")){if(o(),b(),a(),u(),r(),n(),i(),d(),m(),p(),c(),"bmw.fr"==_satellite.getVar("topLevelDomain"))var v=_satellite.getVar("Cluster FR");else"bmw.de"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster DE"):"bmw.it"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster IT"):"bmw.es"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster ES"):"bmw.nl"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster NL"):"bmw.se"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster SE"):"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster BE_LU"):"bmw.at"==_satellite.getVar("topLevelDomain")?v=_satellite.getVar("Cluster AT"):"bmw.pt"==_satellite.getVar("topLevelDomain")&&(v=_satellite.getVar("Cluster PT"));l(v)}}}},setTronEvent:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL"),t=e.get("page.pageInfo.pageName"),a=e.get("page.category.subCategory1",e.get("page.category.subCategory01")),o=e.get("event.eventInfo.eventAction",e.get("event.-1.eventInfo.eventAction")),n=e.get("event.eventInfo.eventName",e.get("event.-1.eventInfo.eventName")),i=e.get("event.eventInfo.type",e.get("event.-1.eventInfo.type")),r=e.get("event.eventInfo.effect",e.get("event.-1.eventInfo.effect")),c=e.get("event.attributes.media.totalLength",e.get("event.-1.attributes.media.totalLength")),d=e.get("event.attributes.media.currentTime",e.get("event.-1.attributes.media.currentTime")),l=e.get("component.category.primaryCategory",e.get("component.-1.category.primaryCategory")),u=e.get("component.componentInfo.componentName",e.get("component.-1.componentInfo.componentName")),b=(e.get("event.category.primaryCategory",e.get("event.-1.category.primaryCategory")),e.get("event.category.subCategory1",e.get("event.-1.category.subCategory1"))),m=e.get("event.category.subCategory2",e.get("event.-1.category.subCategory2")),f=e.get("event.category.subCategory3",e.get("event.-1.category.subCategory3")),p={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]},g=p[a.toLowerCase()],v=p[i.toLowerCase()],h=p[b.toLowerCase()],P=p[m.toLowerCase()],y=p[f.toLowerCase()];r.indexOf("form started")>-1||"Form Start"==n||"Form Start"==t?(s.events=s.apl(s.events,"event3,event4"),null!=y&&(s.events=s.apl(s.events,y[0])),null!=P&&(s.events=s.apl(s.events,P[0])),null!=v&&(s.events=s.apl(s.events,v[0])),null!=g&&(s.events=s.apl(s.events,g[0])),null!=h&&(s.events=s.apl(s.events,h[0]))):r.indexOf("form finished")>-1||"Form Success"==n||"Form Start"==t?(s.events=s.apl(s.events,"event15,event16"),null!=y&&(s.events=s.apl(s.events,y[1])),null!=P&&(s.events=s.apl(s.events,P[1])),null!=v&&(s.events=s.apl(sevents,v[1])),null!=g&&(s.events=s.apl(s.events,g[1])),null!=h&&(s.events=s.apl(s.events,h[1]))):r.indexOf("form start intention")>-1||"First Interaction"==n?s.events=s.apl(s.events,"event5,event6"):r.indexOf("form step")>-1||"Form Step"==n||"Form Step"==t?s.events=s.apl(s.events,"event7,event8"):r.indexOf("form interaction")>-1?s.events=s.apl(s.events,"event9,event10"):r.indexOf("form finish intention")>-1&&(s.events=s.apl(s.events,"event13,event14")),"media started"==o||"video play"==o?s.events=s.apl(s.events,"event351"):"media milestone reached"==o||o.indexOf("reached milestone")>-1?(s.events=s.apl(s.events,"event357="+c),s.events=s.apl(s.events,"event358="+d),r.indexOf("10%")>-1&&(s.events=s.apl(s.events,"event352")),r.indexOf("25%")>-1&&(s.events=s.apl(s.events,"event353")),r.indexOf("50%")>-1&&(s.events=s.apl(s.events,"event354")),r.indexOf("75%")>-1&&(s.events=s.apl(s.events,"event355")),r.indexOf("95%")>-1&&(s.events=s.apl(s.events,"event356"))):"media finished"!=o&&"video stop"!=o||(s.events=s.apl(s.events,"event359"));var j={"e-mail":["event901"],download:["event903"],share:["event905"],call:["event913"],print:["event915"]}[o.toLowerCase()];null!=j&&(s.events=s.apl(s.events,j[0])),"configurations"==l&&"visualizer"==u&&("user started configuration"==r&&(s.events=s.apl(s.events,"event311,event312")),"interaction"==n&&(s.events=s.apl(s.events,"event313,event314")),"user finished configuration"==r&&(s.events=s.apl(s.events,"event315,event316"))),s.linkTrackEvents+=s.events,s.linkTrackVars+="events"}catch(e){var C={from:"AA",type:"DE",name:"setTronEvent"};_satellite.logger.error(e,C)}}}},"AAM-initConfig":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={};return s=_satellite.getVar("topLevelDomain"),a={partner:"bmwag",containerNSID:0,uuidCookie:{name:"aam_uuid",days:30,domain:""},visitorService:{namespace:"B52D1CFE5330949C0A490D45@AdobeOrg"}},(o=e[s])&&(o.partner=o.partner||a.partner,o.containerNSID=o.containerNSID||a.containerNSID,o.uuidCookie=o.uuidCookie||a.uuidCookie,o.visitorService=o.visitorService||a.visitorService),o}catch(e){var t={from:"AA",type:"DE",name:"AAM-initConfig"};_satellite.logger.error(e,t)}var s,a,o}}},"Cluster ES":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.es")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.es")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<9&&a<6.74?s="CN1":c.uPV<9&&a>=6.74||c.uPV>=9&&c.uPV<12&&a<19.11||c.uPV>=12&&a<6.74?s="CN2":(c.uPV>=12&&a>=6.74||c.uPV>=9&&a>=19.11)&&(s="CN3"):"nCrs"==i?c.uPV<=5&&0==c.cv8?s="SL1":c.uPV<=5&&c.cv8>0||c.uPV>5&&0==c.cv8?s="SL2":c.uPV>5&&c.cv8>0&&(s="SL3"):"shw"==i?c.uPV<6&&a<2.59?s="SR1":c.uPV<6&&a>=2.59||c.uPV>=6&&c.uPV<10&&a<5.09||c.uPV>=10&&a<2.59?s="SR2":(c.uPV>=10&&a>=2.59||c.uPV>=6&&a>=5.09)&&(s="SR3"):"shp"==i&&(c.uPV<6&&"N"==c.crt?s="SH1":c.uPV<6&&"Y"==c.crt||c.uPV>=6&&"N"==c.crt?s="SH2":c.uPV>=6&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster DE Data Element - ",d)}}}},jcrPathLevel1:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=e.split("/"),s=1;if((s=s+6-1)<t.length)var a=t[s];else a="None";return e.indexOf("/configurator")>-1&&(a="Configurator"),a}catch(e){}}}},pa_pag_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.pageName;return""==e&&(e="not set"),e}catch(e){return"not set"}}}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=(_satellite.getVar("pa_pag_pageName"),_satellite.getVar("pa_cat_primaryCategory")),s=[_satellite.getVar("jcrPathLevel1"),_satellite.getVar("jcrPathLevel2"),_satellite.getVar("jcrPathLevel3")],a=e.split("/"),o=6,n=a.length,i="";for(c=o;c<n;c++)i+=a[c]+" > ";if(i=i.substring(0,i.length-3),"VCO"===t){for(var r="",c=0;c<3;c++)r+=s[c]+" > ";i=r=r.substring(0,r.length-3)}return i=i.replace(/-prod/g,"")}catch(e){}}}},"AA-subCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.subCategory01"}}},removePII:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["firstname","lastname","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","telephone","email"],t=["eVar","prop","referrer","pageURL","pageName","channel","hier1","products"];function s(t){var s=[];if("string"==typeof t){var a=t.toLowerCase();e.forEach((function(e){-1!=a.indexOf(e)&&s.push(e)}))}return s}function a(e){var a=[],o=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),n=new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}","gi"),i=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi");return t.forEach((function(t){Object.keys(e).forEach((function(r){0===r.indexOf(t)&&e[r]&&(s(e[r]).length||"string"==typeof e[r]&&(e[r].match(o)||e[r].match(i)||e[r].match(n)))&&a.push(r)}))})),a}function o(e){var t=e,a=s(e);if(a.length&&t.indexOf("eVar33")<0)a.forEach((function(e){t=n(e,t)}));else{var o=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),i=new RegExp("(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}","gi"),r=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi"),c=e.match(o),d=e.match(r),l=e.match(i);if(-1==e.indexOf("eVar33")&&c)return n("withoutVin",e);if(e.indexOf("eVar33")>-1&&(d||l))return n("withoutVin",e)}return t}function n(e,t){var s,a,o,n=t.split("?")[0],i=-1!==t.indexOf("?")?t.split("?")[1]:"",r="?";if(i||(n=t.split("#")[0],r="#",i=-1!==t.indexOf("#")?t.split("#")[1]:""),""!==i){for(var c=(o=i.split("&")).length-1;c>=0;c--)s=o[c].split("=")[0].toLowerCase(),console.log(s,e),s===e&&(o[c]="email"===e?o[c].replace(o[c].split("=")[1],"potential_pii_removed"):o[c].replace(o[c].split("=")[1],"value_rejected"));n=n+r+o.join("&")}if(-1!=n.toLowerCase().indexOf(e)&&(a=new RegExp("[a-z]"+e+"[a-z]","gi"),result=n.match(a),result||"email"===e&&document.location.pathname.split(e).length>1&&(1==document.location.href.split(r).length||document.location.href.split(r)[1]&&-1==document.location.href.split(r)[1].indexOf(e))||document.location.href.split(r).length>-1&&document.location.href.split(r)[1]&&document.location.href.toLowerCase().split(r)[1].indexOf(e)>-1||(n=n.toLowerCase().split(e)[0])),a=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),result=n.match(a),-1==n.indexOf("eVar33")&&result)for(var d=0;d<result.length;d++)n=n.replace(result[d].slice(1),"potential_pii_removed");var l=new RegExp("[\\w]*(3mw|4us|5um|5ym|98m|99z|dab|lbv|llc|mhh|mmf|pm1|sca|sla|wb1|wb3|wb4|wb5|wb6|wba|wbs|wbx|wby|wmw|wmz|wz1|x4x|ybc)[a-zA-Z0-9\\s]{14}","gi"),u=new RegExp("[\\w]*\\@[a-zA-z0-9]+\\.[a-zA-Z0-9]{2,3}$","gi"),b=n.match(u)||n.match(l);if(n.indexOf("eVar33")>-1&&b)for(d=0;d<b.length;d++)n=n.replace(b[d].slice(0),"value_rejected");return n}function i(e){return a(e).forEach((function(t){var s=e[t];e[t]=o(s)})),e}function r(e){switch(typeof e){case"object":return i(e);case"string":return o(e);default:return Error("Not a valid parameter")}}return r}catch(d){var c={from:"AA",type:"DE",name:"removePII"};_satellite.logger.error(d,c)}}}},"AA-setFallbackValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["eVar4","eVar5","eVar9","eVar11","eVar12","eVar13","eVar71","server","eVar7","eVar8","prop13","eVar36","eVar37","eVar38","pageType","prop1","prop2","prop3","prop4","prop5","prop12","prop14","prop15","prop27","prop28","prop29","prop19","prop41","prop42","prop43","prop44","prop45","prop60","prop61","prop63","prop64","prop71","prop74"],t=0;t<e.length;t++)s[e[t]]||(s[e[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(e[t]+",")&&(s.linkTrackVars+=","+e[t]);var a=["eVar6","eVar14","eVar28","eVar29","prop31","prop32","prop33"];for(t=0;t<a.length;t++)s[a[t]]||(s[a[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(a[t]+",")&&(s.linkTrackVars+=","+a[t]);var o=["eVar120","eVar122","eVar123","eVar125"];for(t=0;t<o.length;t++)s[o[t]]||(s[o[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(o[t]+",")&&(s.linkTrackVars+=","+o[t]);var n=["prop6","prop7","prop8","prop9","prop10","prop11","prop17","prop18","prop23","prop40","prop51","prop52","prop53","prop54","prop55","prop56","prop57","prop59","prop69","eVar34","eVar59"];for(t=0;t<=n.length;t++)s[n[t]]||(s[n[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(n[t]+",")&&(s.linkTrackVars+=","+n[t]);var i=["prop24","prop34","prop35","prop36","prop37","prop38","prop39","prop46","prop47","prop48","prop49","prop50","prop65","prop66","prop67","prop72","prop73","eVar18","eVar22","eVar136","eVar137","eVar138","eVar151","eVar152","eVar153","eVar154","eVar155","eVar156","eVar157","eVar158","eVar159","eVar160"];for(t=0;t<=i.length;t++)s[i[t]]||(s[i[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(i[t]+",")&&(s.linkTrackVars+=","+i[t]);var r=["eVar35","eVar39","eVar40","eVar41","eVar42","eVar43","eVar76","eVar77","eVar78","eVar79","eVar132","eVar134","eVar135","eVar142","eVar175","eVar199","campaign","eVar61","eVar63","eVar64","eVar171","eVar172","eVar15","eVar16","eVar17","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar26","eVar27","eVar130","eVar131","eVar133","eVar191","eVar192","eVar193","eVar194","eVar197","eVar199","eVar200","prop75"];for(t=0;t<=r.length;t++)!s[r[t]]||"datalayer field missing"!=s[r[t]]&&"datalayer field empty"!=s[r[t]]||delete s[r[t]]}catch(e){var c={from:"AA",type:"DE",name:"AA-mapAllDimensions"};_satellite.logger.error(e,c)}}}},"DL-getTimeoutPV":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return e=>{const t="string"==typeof e?e:a12r.util.getComponentClass(e&&e.dl);return a12r.util.getFirstFunctionWithNonZeroValue([()=>document.getElementsByName("x-tradein").length&&-1,()=>"forms"===t&&4e3,()=>["car stock locator","compare","configurator","css","dcs","indirect sales","oneshop"].includes(t)&&-1])}}}},setTronDefaultVariableGeneric:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL"),s=_satellite.getVar("errObj"),a=_satellite.getVar("tronVisualizer"),o="nsc > ";e.prop1=t.get("page.pageInfo.pageName"),e.prop2=t.get("page.category.pageType"),e.prop5=t.get("page.category.subCategory02");try{if(""!=a&&null!=a){var n=a.event.cause,i=a.event.type,r=a.event.effect,c=a.event.action,d=a.event.timeStamp,l=a.component.name,u=a.component.type,b=a.version,m=a.custom.scenery;switch(void 0===l?l="datalayer field missing":""==l?l="datalayer field empty":e.prop19=l,e.prop52=n,e.prop53=i,e.prop57=c,e.prop41=u,e.prop44=b,e.prop45=b,e.eVar136=b,e.eVar34=o+r,e.prop12=d,e.prop54=l,l){case"visualizer":e.prop43="showroom",e.prop42="configuration",e.prop50="datalayer field missing",e.prop55=m,e.prop56="interaction";break;case"video player":e.prop43="video",e.prop50="media",e.prop55="video",e.prop56="interaction"}}}catch(e){var f={from:"AA",type:"DE",name:"Custom Code for TRON Specific Variables Mapping"};_satellite.logger.error(e,f)}try{if(""!=s&&null!=s){var p=s.event.name;if(null!=p&&"error"===p){var g=s.event.effect;e.eVar34=void 0===g?"datalayer field missing":""==g?"datalayer field empty":o+g;var v=s.custom.errorURL;e.eVar71=void 0===v?"datalayer field missing":""==v?"datalayer field empty":v;var h=s.custom.errorOrigin;e.prop51=void 0===h?"datalayer field missing":""==h?"datalayer field empty":h;var P=s.event.cause;e.prop52=void 0===P?"datalayer field missing":""==P?"datalayer field empty":P;var y=s.event.type;e.prop53=void 0===y?"datalayer field missing":""==y?"datalayer field empty":y;var j=s.custom.errorCode;e.prop55=void 0===j?"datalayer field missing":""==j?"datalayer field empty":j;var C=s.version;e.prop44=void 0===C?"datalayer field missing":""==C?"datalayer field empty":C,e.prop45=e.prop44,e.prop56=void 0===p?"datalayer field missing":""==p?"datalayer field empty":p;var w=s.event.action;e.prop57=void 0===w?"datalayer field missing":""==w?"datalayer field empty":w;var R=s.component.name;switch(e.prop19=void 0===R?"datalayer field missing":""==R?"datalayer field empty":R,R){case"electric range calculator":e.prop50="calculator",e.prop43="showroom";break;case"all-models-list":e.prop50="model list",e.prop43="content";break;case"dynamic disclaimer":e.prop50="disclaimer",e.prop43="legal information";break;default:e.prop50="datalayer field missing"}}}}catch(e){var x={from:"AA",type:"DE",name:"Custom Code for Error Events tracking"};_satellite.logger.error(e,x)}""!=e.linkTrackVars&&e.linkTrackVars,e.linkTrackVars=e.apl(e.linkTrackVars,"prop1,prop2,prop5,prop45,prop56,prop57,prop55,prop53,prop52,prop51,eVar71,eVar34,prop44,eVar7,prop12,prop19,prop42,prop43,prop50")}catch(e){var I={from:"AA",type:"DE",name:"setTronDefaultVariables"};_satellite.logger.error(e,I)}}}}},"AAM-dummyPartnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},finalDataLayer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==e){var t=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var s=t;s>0;s--)if("object"==typeof e.getPageObject(s).page&&"VCO"==e.getPageObject(s).page.category.primaryCategory){t=s;break}var a=e.getPageObject(t);if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&-1==a.pageInstanceId.indexOf("need-analyzer"))return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].category&&"stock locator"==a.component[0].category.subCategory01)return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].componentInfo&&"digital checkout solution"==a.component[0].componentInfo.componentName)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&a.product.length>0)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId)return a=e.getPageObject(0)}return window.digitalData&&window.digitalData.pages&&window.digitalData.activePageIndex?window.digitalData.pages[window.digitalData.activePageIndex]:void 0}catch(e){var o={from:"AA",type:"DE",name:"finalDataLayer"};_satellite.logger.error(e,o)}}}},webDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==e){var t=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var s=t;s>0;s--)if("object"==typeof e.getPageObject(s).page&&"VCO"==e.getPageObject(s).page.category.primaryCategory){t=s;break}var a=e.getPageObject(t);if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&-1==a.pageInstanceId.indexOf("need-analyzer"))return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].category&&"stock locator"==a.component[0].category.subCategory01)return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].componentInfo&&"digital checkout solution"==a.component[0].componentInfo.componentName)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&a.product.length>0)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId)return a=t&&t>0?e.getPageObject(t):e.getPageObject(0)}return a}catch(e){var o={from:"AA",type:"DE",name:"webDL"};_satellite.logger.error(e,o)}}}},lastTwoDigitsOfMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString()}}catch(t){var e={from:"AA",type:"DE",name:"lastTwoDigitsOfMID"};_satellite.logger.error(t,e)}}}},"AA-eventType":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.type"}}},searchDefaultProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar69=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|"}}},"AAM-emailid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=document.querySelector("#email").value;if(1==/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e))return e}catch(e){_satellite.logger.error("EmailID error ",e)}}}},"KIT-helpers":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js",settings:{helperTools:null}},geoRegion:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwusa.com")>-1)return"US";var s=t.split("."),a=s[s.length-1];return a=a.toUpperCase()}catch(e){}}}},ev_att_componentHeadline:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline}catch(e){}}}},"ACDL - PV_techABtest10percent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return adobeDataLayer.util.session.isInShare(1)}}},Usabilla_success_events:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["Form Success","Online TDA Booking Finish"],t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return e.indexOf(t)>-1}catch(e){var s={from:"Usabilla",type:"DE",name:"Usabilla_success_events"};_satellite.logger.error(e,s)}}}},qualtrics_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i);var e=_satellite.getVar("topLevelDomain").split("."),t=e[e.length-1].toUpperCase();"UK"==t&&(t="GB"),"COM"==t&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(t="AU");var s=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL","COM"],a={},o=0!=Object.keys(_satellite.getVar("snapshotDL").snapshot).length?_satellite.getVar("snapshotDL").get("page.pageInfo.pageName"):adobeDataLayer.getState("page.pageInfo.pageName");if(-1==o.indexOf("dcs: order-confirmation")){a.CLOUD={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:50,Adhoc:40}},a.COM={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:50,Adhoc:40}},a.DE={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:36,OneShopPost:0,DCSPost:0,Psyma:50,Adhoc:4}},a.GB={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:21,OneShopPost:0,DCSPost:0,Psyma:60,Adhoc:9}},a.JP={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:56,Adhoc:34}},a.IT={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:46,Adhoc:44}},a.FR={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.ES={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:52,Adhoc:38}},a.RU={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.KR={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:81,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:9}},a.AU={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.NL={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.AT={random:{InfoeHub:5,
InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.CN={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.ZA={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:35,Adhoc:55}},a.CA={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.MX={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.TR={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}},a.PL={random:{InfoeHub:5,InfoShowroom:5,PreCON:0,OneShopPre:0,OneShopPost:0,DCSPost:0,Psyma:0,Adhoc:90}};var n,i=(null==(d=epaas.api.getPersistence("bmwdtm_hq_vs"))&&(d=Math.floor(Date.now()/1e3),s.indexOf(t)>-1&&epaas.api.setPersistence("bmwdtm_hq_vs",d)),void 0!==epaas.api.getPersistence("bmwdtm_hq_vs")&&null!=epaas.api.getPersistence("bmwdtm_hq_vs")&&(c=epaas.api.getPersistence("bmwdtm_hq_vs").slice(-2)),c=+c);return n=a[t]?function(e,t,s,a,o,n,i,r,c){if(t+s+a+o+n+i+r+c==100)return e>=0&&e<t?"InfoeHub":e>=t&&e<t+s?"InfoShowroom":e>=t+s&&e<t+s+a?"PreCON":e>=t+s+a&&e<t+s+a+o?"OneShopPre":e>=t+s+a+o&&e<t+s+a+o+n?"OneShopPost":e>=t+s+a+o+n&&e<t+s+a+o+n+i?"DCSPost":e>=t+s+a+o+n+i&&e<t+s+a+o+n+i+r?"PSYMA":e>=t+s+a+o+n+i+r&&e<t+s+a+o+n+i+r+c?"Adhoc":void 0}(i,a[t].random.InfoeHub,a[t].random.InfoShowroom,a[t].random.PreCON,a[t].random.OneShopPre,a[t].random.OneShopPost,a[t].random.DCSPost,a[t].random.Psyma,a[t].random.Adhoc):"NO-SURVEY",n}if(o.indexOf("dcs: order-confirmation")>-1)return a.CLOUD={random:{OneShopPost:0,DCSPost:100}},a.COM={random:{OneShopPost:0,DCSPost:100}},a.DE={random:{OneShopPost:0,DCSPost:100}},a.GB={random:{OneShopPost:0,DCSPost:100}},a.JP={random:{OneShopPost:0,DCSPost:100}},a.IT={random:{OneShopPost:0,DCSPost:100}},a.FR={random:{OneShopPost:0,DCSPost:100}},a.ES={random:{OneShopPost:0,DCSPost:100}},a.RU={random:{OneShopPost:0,DCSPost:100}},a.KR={random:{OneShopPost:0,DCSPost:100}},a.AU={random:{OneShopPost:0,DCSPost:100}},a.NL={random:{OneShopPost:0,DCSPost:100}},a.AT={random:{OneShopPost:0,DCSPost:100}},a.CN={random:{OneShopPost:0,DCSPost:100}},a.ZA={random:{OneShopPost:0,DCSPost:100}},a.CA={random:{OneShopPost:0,DCSPost:100}},a.MX={random:{OneShopPost:0,DCSPost:100}},a.TR={random:{OneShopPost:0,DCSPost:100}},a.PL={random:{OneShopPost:0,DCSPost:100}},a[t]?100!=a[t].random.DCSPost?void 0:"DCSPost":"NO-SURVEY"}catch(e){var r={from:"AA",type:"DE",name:"qualtrics_randomizer"};_satellite.logger.error(e,r)}var c,d}}},server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},hashingMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=s.marketingCloudVisitorID,t="erpAVj*ED9aTVMs%",a=a||function(e,t){var s={},a=s.lib={},o=function(){},n=a.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=a.WordArray=n.extend({init:function(e,s){e=this.words=e||[],this.sigBytes=s!=t?s:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,s=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var o=0;o<e;o++)t[a+o>>>2]|=(s[o>>>2]>>>24-o%4*8&255)<<24-(a+o)%4*8;else if(65535<s.length)for(o=0;o<e;o+=4)t[a+o>>>2]=s[o>>>2];else t.push.apply(t,s);return this.sigBytes+=e,this},clamp:function(){var t=this.words,s=this.sigBytes;t[s>>>2]&=4294967295<<32-s%4*8,t.length=e.ceil(s/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var s=[],a=0;a<t;a+=4)s.push(4294967296*e.random()|0);return new i.init(s,t)}}),r=s.enc={},c=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++){var o=t[a>>>2]>>>24-a%4*8&255;s.push((o>>>4).toString(16)),s.push((15&o).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a+=2)s[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new i.init(s,t/2)}},d=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++)s.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a++)s[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new i.init(s,t)}},l=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=a.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var s=this._data,a=s.words,o=s.sigBytes,n=this.blockSize,r=o/(4*n);if(t=(r=t?e.ceil(r):e.max((0|r)-this._minBufferSize,0))*n,o=e.min(4*t,o),t){for(var c=0;c<t;c+=n)this._doProcessBlock(a,c);c=a.splice(0,t),s.sigBytes-=o}return new i.init(c,o)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,s){return new e.init(s).finalize(t)}},_createHmacHelper:function(e){return function(t,s){return new b.HMAC.init(e,s).finalize(t)}}});var b=s.algo={};return s}(Math);!function(e){for(var t=a,s=(n=t.lib).WordArray,o=n.Hasher,n=t.algo,i=[],r=[],c=function(e){return 4294967296*(e-(0|e))|0},d=2,l=0;64>l;){var u;e:{u=d;for(var b=e.sqrt(u),m=2;m<=b;m++)if(!(u%m)){u=!1;break e}u=!0}u&&(8>l&&(i[l]=c(e.pow(d,.5))),r[l]=c(e.pow(d,1/3)),l++),d++}var f=[];n=n.SHA256=o.extend({_doReset:function(){this._hash=new s.init(i.slice(0))},_doProcessBlock:function(e,t){for(var s=this._hash.words,a=s[0],o=s[1],n=s[2],i=s[3],c=s[4],d=s[5],l=s[6],u=s[7],b=0;64>b;b++){if(16>b)f[b]=0|e[t+b];else{var m=f[b-15],p=f[b-2];f[b]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+f[b-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+f[b-16]}m=u+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&d^~c&l)+r[b]+f[b],p=((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+(a&o^a&n^o&n),u=l,l=d,d=c,c=i+m|0,i=n,n=o,o=a,a=m+p|0}s[0]=s[0]+a|0,s[1]=s[1]+o|0,s[2]=s[2]+n|0,s[3]=s[3]+i|0,s[4]=s[4]+c|0,s[5]=s[5]+d|0,s[6]=s[6]+l|0,s[7]=s[7]+u|0},_doFinalize:function(){var t=this._data,s=t.words,a=8*this._nDataBytes,o=8*t.sigBytes;return s[o>>>5]|=128<<24-o%32,s[14+(o+64>>>9<<4)]=e.floor(a/4294967296),s[15+(o+64>>>9<<4)]=a,t.sigBytes=4*s.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=o._createHelper(n),t.HmacSHA256=o._createHmacHelper(n)}(Math);var o=t+e,n=a.SHA256(o);return btoa(n)}catch(e){var i={from:"AA",type:"DE",name:"hashingMID"};_satellite.logger.error(e,i)}}}},"AA-InternalcampaignParameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"icp",caseInsensitive:!0}},fusionProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e,t,s){try{s=s||"datalayer field missing";for(var a=["","na","not set","n/a","not available"],o=(t=t||"").split("."),n=e,i=0;i<o.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(o[i])?n[n.length-Math.abs(parseInt(o[i]))]:n[o[i]];return"string"==typeof n&&a.indexOf(n.toLowerCase())>-1?"datalayer field empty":n||s}catch(e){console.error("Error:",e)}}return function(s){try{var a=Object.keys(e.message.eventInfo.reference.linkedProducts),o=e.fullState,n=_satellite.getVar("productBuilder"),r=[];if(a.length>0){for(i=0;i<a.length;i++)if(a[i]in o.product){var c=a[i],d=t(o,"cart.item")[c],l=t(o,"product")[c],u=t(o,"transaction.item")[c],b=t(l,"category.productType"),m=t(l,"productInfo.productID"),f=t(d,"price.taxRate",t(u,"price.taxRate","0")),p={eVar10:t(l,"attributes.mmdr"),eVar44:t(l,"attributes.productionYear"),eVar45:t(l,"attributes.yearOfRegistration"),eVar46:t(l,"attributes.status"),eVar47:t(l,"productInfo.color"),eVar48:t(l,"attributes.modelCode"),eVar49:t(l,"attributes.gearing"),eVar50:t(l,"attributes.series"),eVar51:t(l,"attributes.bodyType"),eVar52:t(l,"productInfo.productName"),eVar53:t(l,"category.primaryCategory"),eVar54:t(l,"category.subCategory1"),eVar55:t(l,"category.subCategory2"),eVar56:t(l,"attributes.fuelType"),eVar57:t(l,"attributes.hybridVersion"),eVar58:t(l,"attributes.motorization"),eVar60:t(l,"productInfo.manufacturer"),eVar65:t(l,"attributes.modelName"),eVar66:t(l,"attributes.trimLevel"),eVar69:t(l,"attributes.modelCodeAG"),eVar121:t(d,"price.voucherCode",t(u,"price.voucherCode")),eVar124:f,eVar126:t(d,"price.shippingMethod",t(u,"price.shippingMethod"))};n.id=m,n.category=b,n.merchEvars=p;var g=t(d,"price.basePrice",t(u,"price.basePrice","0")),v=t(d,"price.priceWithTax",t(u,"price.priceWithTax","0")),h=t(d,"price.shipping",t(u,"price.shipping","0")),P=t(d,"quantity",t(u,"quantity","0")),y=t(d,"price.voucherDiscount","0"),j=t(d,"price.priceWithTax","0"),C=t(d,"price.attributes.taxAmount",t(u,"price.attributes.taxAmount")),w=[];w.push("event831="+g),w.push("event832="+(y<0?+ +j*y/j:y)),w.push("event833="+(y<0?+j*y:y)),w.push("event834="+f),w.push("event835="+C),w.push("event836="+v),w.push("event837="+h),w.push("event858="+P),n.events=w,s.events=s.apl(s.events,"event831,event832,event833,event834,event835,event836,event837,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126",","),r.push(n.toString())}s.products=r.join(","),"undefined"!=s.products&&(s.linkTrackVars+="products,")}else _satellite.logger.log("fusion product string ~~~ No product in product object")}catch(e){var R={from:"AA",type:"DE",name:"fusionProductString"};_satellite.logger.error(e,R)}}}}},setUserTypeForReco:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("true"===_satellite.getVar("isAdobeAnalyticsAllowed")){var e,t=_satellite.cookie.get("s_lv_s"),s=window.epaas.api.getPersistence("v_reco_data");e=t&&"First Visit"!==t?"returning":"new",(s=s?JSON.parse(s):{}).user=e,window.epaas.api.setPersistence("v_reco_data",JSON.stringify(s))}}catch(e){_satellite.logger.error(e)}}}},isAAAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAAAllowed"};_satellite.logger.error(e,s)}}}},"set most recent model|v92":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{s.products.split(",").map((e=>e.split(";").filter((e=>e.includes("eVar"))).map((e=>e.split("|").map((e=>{const[t,s]=e.split("=");return{key:t,value:s}})))))).flat().forEach((e=>{const t=/^(?!.*datalayer).*/gi,a=e.find((e=>"eVar10"===e.key&&e.value.match(t))),o=e.find((e=>"eVar48"===e.key&&e.value.match(t)));s.eVar92||(a&&o&&(s.eVar92=a.value+"\xa6"+o.value,s.linkTrackVars="function"==typeof s.apl?s.apl(s.linkTrackVars,"eVar92"):s.linkTrackVars+",eVar92"),a&&!o&&(s.eVar92=a.value,s.linkTrackVars="function"==typeof s.apl?s.apl(s.linkTrackVars,"eVar92"):s.linkTrackVars+",eVar92"))}))}catch(e){_satellite.logger.error("Error in eVar92 setting code",e)}}}},pa_pag_language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.language,t=_satellite.getVar("topLevelDomain");return"bmw-m.com"!=t&&"bmw.com"!=t&&"bmw-yachtsport.com"!=t&&"bmw-motorsport.com"!=t&&"bmw-golfsport.com"!=t&&"bmw-special-sales.com"!=t&&"bmwbkk.de"!=t||(e=e.split("-")[0]+"-HQ"),e}catch(e){}}}},"AA-PagecomponentName":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"component.componentInfo.componentName"}}},"Cluster NL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.nl")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.nl")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<8.5&&a<3.32?s="CN1":c.uPV>=8.5&&a<3.32||c.uPV<11.5&&a>=3.32?s="CN2":c.uPV>=11.5&&a>=3.32&&(s="CN3"):"nCrs"==i?c.uPV<5.5&&0==c.cv8?s="SL1":c.uPV<11.5&&c.cv8>0||c.uPV>=5.5&&0==c.cv8?s="SL2":c.uPV>=11.5&&c.cv8>0&&(s="SL3"):"shw"==i?c.uPV<6.5&&c.vMI<1.5?s="SR1":c.uPV<6.5&&c.vMI>=2.5||c.uPV<10.5&&c.vMI>=1.5&&c.vMI<2.5||c.uPV>=6.5&&c.vMI<1.5?s="SR2":(c.uPV>=10.5&&c.vMI>=1.5||c.uPV>=6.5&&c.vMI>=2.5)&&(s="SR3"):"shp"==i&&(c.uPV<4.5&&"N"==c.crt?s="SH1":c.uPV<4.5&&"Y"==c.crt||c.uPV>=4.5&&"N"==c.crt?s="SH2":c.uPV>=4.5&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster Data Element - ",d)}}}},"AT-SLAffinityParams ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(e,t,s){var a=function(e,t){try{return t[e&&e.attributes&&e.attributes.internalCode]}catch(e){}},o=function(e){var t=e&&e.attributes&&(e.attributes.serie||e.attributes.series);switch(t){case"X":var s=/BMW (X\d)/;return(a=(e.productInfo&&e.productInfo.productName).match(s))&&a[1];case"M":var a;return s=/BMW.*((X\d)|M(\d))/,(a=(e.productInfo&&e.productInfo.productName).match(s))&&(a[2]||a[3]);case"I":return"BMW i";default:return t}},n=function(e){var t=/BMW.*(M\d|X\d.*M)/;if((e&&e.productInfo&&e.productInfo.productName).match(t))return"M"},i=function(e){return e&&e.attributes&&e.attributes.modelCode},r=function(e){return e&&e.productInfo&&e.productInfo.productID},c=function(e){return e&&e.eventInfo&&e.eventInfo.eventName},d=function(e){return e&&e.attributes&&e.attributes.internalCode},l=function(e,t){var s=e&&e.productInfo&&e.productInfo.productName,a=e&&e.productInfo&&e.attributes.internalCode,o=Object.keys(t);if(window.location.href.indexOf("bmw.es")>-1){for(var n=0;n<o.length;n++)if(a.indexOf(o[n])>-1)return t[o[n]]}else for(n=0;n<o.length;n++)if(s.indexOf(o[n])>-1)return t[o[n]]};return function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e}({"car-body-type":(t.listOfExceptions&&l(e,t.listOfExceptions)||{})["car-body-type"]||a(e,t.bodyTypeCode),"car-series":o(e),"car-variant":n(e),"car-model-code":i(e),"car-configuration-string":r(e),"event-name":c(s),"car-model":d(e)})},t={"bmw.co.uk":{bodyTypeCode:{SH:"hatch",GF:"sports_activity_vehicle",CP:"coupe",LI:"saloon",SC:"sports_activity_coupe",TO:"touring",CO:"coupe",CA:"convertible",RO:"roadster",ST:"gran_turismo",CL:"bmw_i",MP:"tourer"},listOfExceptions:{}},"bmw.it":{bodyTypeCode:{SH:"hatch",GF:"sports_activity_vehicle",CP:"coupe",LI:"sedan",SC:"sports_activity_coupe",TO:"touring",CO:"coupe",CA:"convertible",RO:"roadster",ST:"gran_turismo",CL:"bmw_i",MP:"tourer"},listOfExceptions:{}},"bmw.fr":{bodyTypeCode:{GF:"sports_activity_vehicle",SH:"hatch",LI:"sedan",SC:"sports_activity_vehicle",CP:"coupe",TO:"touring",CO:"coupe",CA:"convertible",ST:"gran_turismo",CL:"hatch",RO:"roadster",MP:"tourer"},listOfExceptions:{}},"bmw.ru":{bodyTypeCode:{CA:"convertible",GF:"sports_activity_vehicle",LI:"sedan",SH:"hatch",CO:"coupe",SC:"sports_activity_coupe",CP:"coupe",ST:"gran_turismo",RO:"roadster",CL:"hatch"},listOfExceptions:{"BMW 218i Gran Coupe":{"car-body-type":"gran_coupe"},"BMW M8 Gran Coupe":{"car-body-type":"gran_coupe"},"BMW 420i xDrive Gran Coupe":{"car-body-type":"gran_coupe"}}},"bmw.de":{bodyTypeCode:{CA:"cabrio_roadster",GF:"sports_activity_vehicle",LI:"sedan",TO:"touring",SH:"hatch",CO:"coupe",SC:"sports_activity_coupe",CP:"coupe",ST:"gran_turismo",RO:"roadster",CL:"hatch",MP:"tourer"},listOfExceptions:{"BMW Z4 sDrive20i":{"car-body-type":"cabrio_roadster"},"BMW 216i Active Tourer":{"car-body-type":"tourer"},"BMW Z4 M40i":{"car-body-type":"cabrio_roadster"}}},"bmw.es":{bodyTypeCode:{SH:"compacto",CO:"coupe",CA:"cabrio",MP:"tourer",ST:"tourer",GF:"todocamino",SC:"todocamino",LI:"berlina",RO:"roadster",TO:"touring",CP:"coupe",CL:"bmw_i"},listOfExceptions:{G26E:{"car-body-type":"bmw_i"},G32:{"car-body-type":"gran_turismo"},I20:{"car-body-type":"bmw_i"},G08:{"car-body-type":"bmw_i"},U11:{"car-body-type":"bmw_i"},BEV:{"car-body-type":"bmw_i"},U11E:{"car-body-type":"bmw_i"},F39:{"car-body-type":"bmw_i"},G70E:{"car-body-type":"bmw_i"}}}}[_satellite.getVar("topLevelDomain")]||{};return t&&_satellite.getVar("isTargetPersonalizationAllowed")?e(_satellite.getVar("snapshotDL").get("product.-1"),t,_satellite.getVar("snapshotDL").get("event.-1")):{}}catch(e){var s={from:"AA",type:"DE",name:"AT-AffinityParams"};return _satellite.logger.error(e,s),{}}}}},"AT-property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AT-property"))return e.get("AT-property");var t={"bmw.de":"08ab7353-eddd-5a23-5029-8db5a0795efa","bmw.it":"14a7eacb-d9ed-139b-3740-1715a4324a87","bmw.fr":"c63e9226-164f-68ce-6a77-04714d861534","bmw.es":"5f6624f7-b481-68c5-89ec-2f7c6df01e47","bmw.at":"0cf18719-6a28-12fe-562a-a61a9a1d2c3c","bmw.be":"a2e280c3-8caf-d7e3-7dd2-7f9097e49c22","bmw.co.uk":"0c9cfadf-3753-7304-c045-49d4d0616e83","bmw.com/en-au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","bmw.com.au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","m156.bmw-int4.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9","bmw.lu":"e772e93f-2b42-a86e-58a6-7bd6b9ecf004","bmw-test6.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9","bmw.nl":"a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a","bmw.fi":"43dcb5ea-dcbb-889f-f645-534c9bccdb98","bmw.no":"69f4cd76-ff19-b1cc-c49e-e78fb468fba7","bmw.co.kr":"265709a7-eeba-c737-64b2-0bf051f21cb7","bmw.co.jp":"3ff9d062-6800-4a61-0e57-9d03be4a750d","bmw.se":"5fec81b0-d53d-f0c2-76ab-2563557abf59","bmw.pl":"ca83460d-3364-fbeb-443a-808a2d6d290f","bmw.ch":"4ace6d95-d674-704a-41af-aac0be1db8f7","bmw.cloud":"f10cff72-85f7-9945-d5bc-81c27ba97ef9","bmw.dk":"48ed67bf-9304-e5ce-2902-1588d1cb728c"},s=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"";return e.set("AT-property",s),s}catch(e){var a={from:"AA",type:"DE",name:"AT-property"};_satellite.logger.error(e,a)}}}},pageInstanceId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").pageInstanceId,t=e;return"-prod"==e.substr(e.length-5)&&(t=e.substr(0,e.length-5)),"-dev"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),"-int"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),6===t.split("/").length&&(t+="/index"),t}catch(e){}}}},"ECID-previousPermissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.adobe.OptInCategories,t={};return t[e.ECID]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.ANALYTICS]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.TARGET]="true"==_satellite.getVar("isTargetAllowed"),t[e.AAM]="true"==_satellite.getVar("isAAMAllowed"),t}catch(e){var s={from:"AA",type:"DE",name:"ECID-previousPermissions"};_satellite.logger.error(e,s)}}}},cookieDomainPeriods:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("topLevelDomain").split(".").length}catch(t){var e={from:"AA",type:"DE",name:"cookieDomainPeriods"};_satellite.logger.error(t,e)}}}},campaignParameter:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.ca":["tl"],"bmw-int2i.com":["tl"],"bmw.pt":["tl"],"bmw.co.id":["tl"],"bmw.com.mx":["tl"],"pml-bmw.com.sg":["tl"],"munichauto.com.sg":["tl"],"bmw.co.kr":["tl"],"bmw.ie":["tl"],"bmw.com.br":["tl"],"bmw.com.pa":["tl"],"bmw.com.py":["tl"],"bmw.com.co":["tl"],"bmw.com.pe":["tl"],"bmw.com.uy":["tl"],"bmw.com.gt":["tl"],"bmw.cl":["tl"],"bmw.co.cr":["tl"],"bmw.com.bo":["tl"],"bmw.com.ec":["tl"],"bmw.com.sv":["tl"],"bmw.com.ni":["tl"],"bmw.com.do":["tl"],"bmw.hn":["tl"],"bmw.com.ve":["tl"],"bmw.cw":["tl"],"bmw.bs":["tl"],"bmw.bb":["tl"],"bmw.com.ky":["tl"],"bmwjamaica.com":["tl"],"bmw.lc":["tl"],"bmw.tt":["tl"],"bmw.ht":["tl"],"bmw.com.ar":["tl"],"bmwlat.com":["tl"],"bmw.co.za":["tl"],"bmw.in":["tl"],"bmw.bg":["tl"],"bmw.gr":["tl"],"bmw.pl":["tl"],"bmw.hu":["tl"],"bmw.sk":["tl"],"bmw.si":["tl"],"bmw.ro":["tl"],"bmw.cz":["tl"],"bmw.co.jp":["tl"],"bmw.com.tr":["tl"],"bmw.com.au":["tl"],"bmw.fi":["tl"],"bmw.no":["tl"],"bmwhk.com":["tl"],"bmw.dk":["tl"],"bmw.se":["tl"],"bmw.ru":["tl"],"bmw.com.tw":["tl"],"bmw.lv":["tl"],"bmw.ee":["tl"],"next100.bmw":["tl"],"trgovec.bmw":["tl"],"testnavoznja.bmw":["tl"],"bmw.co.nz":["tl"],"bmw-asia.com":["tl"],"bmw.com.my":["tl"],"bmw.co.th":["tl"],"bmw.lk":["tl"],"bmw.com.ph":["tl"],"bmw-eg.com":["tl"],"bmw.am":["tl"],"bmw.vn":["tl"],"bmw.mu":["tl"],"bmw.com.al":["tl"],"bmw.ly":["tl"],"bmw.ua":["tl"],"bmw.com.bd":["tl"],"bmw.com.bn":["tl"],"bmw.com.ge":["tl"],"bmw.is":["tl"],"bmwmyanmar.com":["tl"],"bmw.co.il":["tl"],"bmw.cc":["tl"],"bmw-me.com":["tl"],"bmw.it":["tl"],"bmw-kuwait.com":["tl"],"bmw.com.cy":["tl"],"bmw.bm":["tl"],"bmw.com.mt":["tl"],"bmw-abudhabi.com":["tl"],"bmw-dubai.com":["tl"],"bmw.az":["tl"],"bmw.ba":["tl"],"bmw.be":["tl"],"bmw.dz":["tl"],"bmw.fr":["tl"],"bmw.hr":["tl"],"bmw-iraq.com":["tl"],"bmw.com.kz":["tl"],"bmw-lebanon.com":["tl"],"bmw.lu":["tl"],"bmw.md":["tl"],"bmw.nl":["tl"],"bmw-oman.com":["tl"],"bmw-pakistan.com":["tl"],"bmw-qatar.com":["tl"],"bmw.re":["tl"],"bmw-saudiarabia.com":["tl"],"bmw-tunisia.com":["tl"],"bmw.de":["tl"],"bmw.at":["tl"],"bmw.ch":["tl"],"bmw.es":["tl"],"bmw-lao.la":["tl"],"bmw-jordan.com":["tl"],"bmw-bahrain.com":["tl"],"bmw.ps":["tl"],"bmw-yemen.com":["tl"],"bmw-tahiti.com":["tl"],"bmw-antilles.fr":["tl"],"bmw.mq":["tl"],"bmw.com.cn":["tl"],"bmw.nc":["tl"],"bmw.rs":["tl"],"bmw-voli.me":["tl"],"bmw.com.mk":["tl"],"bmw-yachtsport.com":["tl"],"bmw-golfsport.com":["tl"],"bmw-motorsport.com":["tl"],"bmw-m.com":["tl"],"bmw.com":["tl"],"bmw.co.ke":["tl"],"bmw-ghana.com":["tl"],"bmw-nigeria.com":["tl"],"bmw.co.ao":["tl"],"bmw.sr":["tl"],"bmw.com.mo":["tl"],"bmw-special-sales.com":["tl"],"bmw-pma.com.sg":["tl"],"bmw.co.uk":["tl"],"bmwbkk.de":["tl"],"bmw.com.sg":["tl"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var s=_satellite.getVar("topLevelDomain");if(void 0!==e[s])var a=e[s];else a=["tl"];for(var o="",n=0;n<a.length&&!(o=t(a[n]));n++);return o}catch(i){"true"==localStorage.getItem("sdsat_debug")&&_satellite.logger.error("SATELLITE: Campaign not tracked")}}}},"Cluster PT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.pt")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.pt")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<7.5&&a<6.64?s="CN1":c.uPV>=7.5&&a<6.64||c.uPV<11.5&&a>=6.64?s="CN2":c.uPV>=11.5&&a>=6.64&&(s="CN3"):"nCrs"==i?c.uPV<2.5&&c.vMI<.5?s="SL1":c.uPV>=2.5&&c.vMI<.5||c.uPV<2.5&&c.vMI>=.5?s="SL2":c.uPV>=2.5&&c.vMI>=.5&&(s="SL3"):"shw"==i?c.uPV<3.5&&a<3.39?s="SR1":c.uPV>=3.5&&a<3.39||c.uPV<6.5&&a>=3.39?s="SR2":c.uPV>=6.5&&a>=3.39&&(s="SR3"):"shp"==i&&(c.uPV<4.5&&"N"==c.crt?s="SH1":c.uPV<4.5&&"Y"==c.crt||c.uPV>=4.5&&"N"==c.crt?s="SH2":c.uPV>=4.5&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster DE Data Element - ",d)}}}},"GKL Score":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}function t(e,t){return 100*e/t}var s,a=100*e("visitor_aa_hits").sDur/60,o=e("visitor_aa_hits").sc?e("visitor_aa_hits").sc.gkl:"",n=100*o/60,i=100*o,r=t(n,a);"bmw.co.uk"==_satellite.getVar("topLevelDomain")?r<22&&r>0?s="GKL - Low":r>=22&&r<61&&n<10?s="GKL - Medium":r>=22&&r<61&&n>=10?s="GKL - High":r>=61&&n<5?s="GKL - Medium":r>=61&&n>=5&&(s="GKL - High"):"bmw.de"==_satellite.getVar("topLevelDomain")?r<53&&r>0&&i<45?s="GKL - Low":r>=53&&i<45||r>=53&&i>=45&&i<202||r<53&&i>=202?s="GKL - Medium":r>=53&&i>=202&&(s="GKL - High"):"bmw.fr"==_satellite.getVar("topLevelDomain")?r<=27&&r>0&&i<=62?s="GKL - Low":r<=27&&r>0&&i>62&&i<=178?s="GKL - Medium":r>27&&i<=22?s="GKL - Low":r>27&&i>22&&i<=178||r<=58&&i>178?s="GKL - Medium":r>58&&i>178&&(s="GKL - High"):"bmw.it"==_satellite.getVar("topLevelDomain")?r<=53&&r>0&&i<=31?s="GKL - Low":r>53&&i<=31||r>53&&i>31&&i<=168||r<=51&&i>=169&&i<=612?s="GKL - Medium":(r<=51&&i>612||r>51&&i>169)&&(s="GKL - High"):"bmw.es"==_satellite.getVar("topLevelDomain")?r<50&&r>0&&i<35?s="GKL - Low":r>=50&&i<35||r>=50&&i>=35&&i<201?s="GKL - Medium":r>=51&&i>=201&&(s="GKL - High"):"bmw.nl"==_satellite.getVar("topLevelDomain")?i<28?s="GKL - Low":i>=28&&i<183||r<=49&&i>=183?s="GKL - Medium":r>=49&&i>=183&&(s="GKL - High"):"bmw.se"==_satellite.getVar("topLevelDomain")?i<=23?s="GKL - Low":r>0&&i>23&&i<=171||r<=50&&i>171?s="GKL - Medium":r>50&&i>171&&(s="GKL - High"):"bmw.be"!=_satellite.getVar("topLevelDomain")&&"bmw.lu"!=_satellite.getVar("topLevelDomain")&&"bmw.at"!=_satellite.getVar("topLevelDomain")&&"bmw.pt"!=_satellite.getVar("topLevelDomain")||(r<53&&r>0&&i<45?s="GKL - Low":r>=53&&i<45||r>=53&&i>=45&&i<202||r<53&&i>=202?s="GKL - Medium":r>=53&&i>=202&&(s="GKL - High"));var c="";return"GKL - Low"==s?c="G1":"GKL - Medium"==s?c="G2":"GKL - High"==s&&(c="G3"),c}catch(d){_satellite.logger.error("Error in gkl score function - ",d)}}}},"Cluster BE_LU":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if((document.URL.indexOf("bmw.be")>-1||document.URL.indexOf("bmw.lu")>-1)&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&(document.URL.indexOf("bmw.be")>-1||document.URL.indexOf("bmw.lu")>-1)){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<8.5&&a<6.56?s="CN1":c.uPV>=8.5&&a<6.56||c.uPV<11.5&&a>=6.56&&a<32.34||c.uPV<8.5&&a>=32.34?s="CN2":(c.uPV>=11.5&&a>=6.56||c.uPV>=8.5&&a>=32.34)&&(s="CN3"):"nCrs"==i?c.uPV<5.5&&a<6.61?s="SL1":c.uPV>=5.5&&a<6.61||c.uPV<6.5&&a>=6.61?s="SL2":c.uPV>=6.5&&a>=6.61&&(s="SL3"):"shw"==i?c.uPV<4.5&&c.vMI<6.56?s="SR1":c.uPV>=4.5&&c.vMI<1.34||c.uPV<6.5&&c.vMI>=1.34&&c.vMI<2.77||c.uPV<4.5&&c.vMI>=2.77?s="SR2":(c.uPV>=6.5&&c.vMI>=1.34||c.uPV>=4.5&&c.vMI>=2.77)&&(s="SR3"):"shp"==i&&(c.uPV<4.5&&"N"==c.crt?s="SH1":c.uPV<4.5&&"Y"==c.crt||c.uPV>=4.5&&"N"==c.crt?s="SH2":c.uPV>=4.5&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster DE Data Element - ",d)}}}},"Trigger-pageLoadTPT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){var t,s="re-trigger-third-party";_satellite.logger.log('An attempt to trigger the page load TPTs is made from - "'+e+'"'),_satellite.getVar("haveTPTsTriggered")?_satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred"):("function"==typeof Event?t=new Event(s):(t=document.createEvent("Event")).initEvent(s,!0,!0),t.detail={processing:_satellite.getVar("consentMap").Others},_satellite.logger.log("Triggering the page load TPTs successfully"),document.body.dispatchEvent(t),_satellite.setVar("haveTPTsTriggered",!0))}}catch(t){var e={from:"AA",type:"DE",name:"Trigger-pageLoadTPT"};_satellite.logger.error(t,e)}}}},"Cluster FR":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.fr")>-1&&a>.25){var o,n=t.tSpe,i="",r=0;if(t.vNum&&t.vNum,n&&document.URL.indexOf("bmw.fr")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var c=e("visitor_aa_hits");"con"==i?c.uPV<11&&a<2.23?s="CN1":c.uPV<11&&a>=2.23||c.uPV>=11&&c.uPV<14&&a<5.84||c.uPV>=14&&a<2.23?s="CN2":(c.uPV>=11&&a>=5.84||c.uPV>=14&&a>=2.23)&&(s="CN3"):"nCrs"==i?0==c.vMI?s="SL1":c.uPV<6&&c.vMI>=3||c.uPV<7&&c.vMI>=1&&c.vMI<3?s="SL2":(c.uPV>=6&&c.vMI>=3||c.uPV>=7&&c.vMI>=1)&&(s="SL3"):"shw"==i?c.uPV<=3&&a<1.38?s="SR1":c.uPV>3&&a<1.38||c.uPV<6&&a>=1.38?s="SR2":c.uPV>=6&&a>=1.38&&(s="SR3"):"shp"==i&&(c.uPV<=4&&"N"==c.crt?s="SH1":c.uPV<=4&&"Y"==c.crt||c.uPV>4&&"N"==c.crt?s="SH2":c.uPV>4&&"Y"==c.crt&&(s="SH3"))}}return s}catch(d){_satellite.logger.error("Error in Cluster DE Data Element - ",d)}}}},campaign:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tl",caseInsensitive:!0}},isOfferApplicable:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{function t(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var s,a=window.location.href;(a.indexOf("bmw.de")>-1||a.indexOf("bmw.at")>-1||a.indexOf("bmw.be")>-1||a.indexOf("bmw.lu")>-1)&&(s=+t("v_reco_data").SFB||0);var o=a.indexOf("bmw.lu")>-1||a.indexOf("bmw.be")>-1||a.indexOf("bmw.at")>-1||a.indexOf("bmw.de/de/neufahrzeuge")>-1||a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge")>-1||a.indexOf("bmw.de/de/all-models/")>-1||a.indexOf("bmw.de/de/index")>-1||a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index")>-1||a.indexOf("bmw.de/de/home")>-1||a.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home")>-1,n=a.indexOf("https://www.bmw.be/forms/")>-1||a.indexOf("https://www.bmw.lu/forms/")>-1||a.indexOf("https://www.bmw.lu/fr/topics/offers-and-services/")>-1||a.indexOf("https://www.bmw.lu/de/topics/offers-and-services/")>-1||a.indexOf("https://www.bmw.lu/de/topics/offers-and-services/")>-1||a.indexOf("https://www.bmw.be/fr/topics/offers-and-services/")>-1||a.indexOf("https://www.bmw.be/nl/topics/offers-and-services/")>-1||a.indexOf("https://www.bmw.at/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html")>-1||a.indexOf("https://www.bmw.at/forms/rfc/kontaktanfrage.html")>-1||a.indexOf("www.bmw.at/de/footer/metanavigation/legal-disclaimer-pool/legal-disclaimer.html")>-1||a.indexOf("www.bmw.at/de/footer/metanavigation/legal-notice-pool/imprint.html")>-1||a.indexOf("www.bmw.at/de/footer/footer-section/cookie-policy.html")>-1||a.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy.html")>-1||a.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy-fs.html")>-1||a.indexOf("https://www.bmw.at/forms/probefahrt/tda.html")>-1||a.indexOf("https://www.bmw.at/forms/rfo/angebot-anfordern.html")>-1||a.indexOf("https://www.bmw.at/de/neuwagensuche.html#/")>-1||a.indexOf("https://configure.bmw.at/de_AT/")>-1,i="";a&&a.indexOf("bmw.de")>-1?i=60:a&&a.indexOf("bmw.at")>-1?i=65:(a&&a.indexOf("bmw.be")>-1||a&&a.indexOf("bmw.lu")>-1)&&(i=70);var r,c=JSON.parse(sessionStorage.getItem("Personalization_VisitorReco"))||{},d=c.isOfferShown,l=c.isFormSubmitted
;r="boolean"==typeof c.isOfferShown?Object.keys(c).length-1:Object.keys(c),_satellite.logger.log("VisitorReco: final Score is:",s),_satellite.logger.log("VisitorReco: Count of models present:",r),_satellite.logger.log("VisitorReco: offer shown flag value:",d),s>=i&&o&&!n&&0==d&&r>0&&"true"!=_satellite.getVar("isSetTimeOut")&&!l&&(_satellite.setVar("isSetTimeOut","true"),_satellite.logger.log("VisitorReco: SetTimeOut function is set"),setTimeout((function(){0==JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown&&(_satellite.logger.log("VisitorReco: get and apply offer method called"),document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,(function(e){if(void 0!==e&&void 0!==e.detail&&void 0!==e.detail.responseTokens&&e.detail.responseTokens.length>0)for(var t=0;t<e.detail.responseTokens.length;t++)void 0!==e.detail.responseTokens[t]&&void 0!==e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]&&_satellite.setVar("AT-catHist_CarModel_HIST",JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]))})),adobe.target.getOffer({mbox:"visitor-reco-mbox",params:{vs_score:s},success:function(e){adobe.target.applyOffer({mbox:"visitor-reco-mbox",offer:e})},error:function(e,t){_satellite.logger.error("VisitorReco: Error in applying offer: ",e,t)}}))}),5e3))}catch(b){var u={from:"AA",type:"DE",name:"isOfferApplicable"};_satellite.logger.error(e,u)}}}}},"AAM-hashedid_cookie":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["hashedid"],t=decodeURI(document.cookie).split(";"),s="";return t.forEach((function(t){for(i=0;i<e.length;i++)if(-1!=t.split("=")[0].indexOf(e[i])){s=t.split("=")[1];break}})),hashedid_cookie_clean=decodeURIComponent(s),hashedid_cookie_clean}catch(e){_satellite.logger.error("hashedid cookie Error ",e)}}}},ev_att_componentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentName}catch(e){}}}},pa_cat_primaryCategory:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.primaryCategory}catch(e){}}}},"AA-currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("currencyCode"))return e.get("currencyCode");var t={"bmw.co.za":"ZAR","bmw.com.ar":"ARS","bmw.at":"EUR","bmw.com.au":"AUD","bmw.be":"EUR","bmw.bg":"BGN","bmw.com.br":"BRL","bmw.ca":"CAD","bmw.ch":"CHF","bmw.com.cn":"CNY","bmw.cz":"CZK","bmw.de":"EUR","bmw.dk":"DKK","bmw.es":"EUR","bmw.fi":"EUR","bmw.fr":"EUR","bmw.co.uk":"GBP","bmw.gr":"EUR","bmw.hu":"HUF","bmw.co.id":"IDR","bmw.ie":"EUR","bmw.in":"INR","bmw.is":"ISK","bmw.it":"EUR","bmw.co.jp":"JPY","bmw.co.kr":"KRW","bmw.lu":"EUR","bmw.com.mx":"MXN","bmw.com.my":"MYR","bmw.nl":"EUR","bmw.no":"NOK","bmw.co.nz":"NZD","bmw.pl":"PLN","bmw.pt":"EUR","bmw.ro":"RON","bmw.ru":"RUB","bmw.se":"SEK","bmw.si":"EUR","bmw.sk":"EUR\t","bmw.co.th":"THB","bmw.com.sg":"SGD","bmw.com/en-au":"AUD","mini.de":"EUR","mini.fr":"EUR","mini.it":"EUR","mini.ch":"CHF","mini.at":"EUR"},s=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"EUR";return e.set("currencyCode",s),s}catch(e){var a={from:"AA",type:"DE",name:"AA-currencycode"};_satellite.logger.error(e,a)}}}},"TPT-PII_keywords":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"]}}},pr_att_sellingPriceTotal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.sellingPriceTotal;return""==s&&(s="not set"),s}catch(e){return"not set"}}}},"AA-hashedID":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname.split(".").reverse()[0];return"de"==e||"uk"==e?_satellite.getVar("hashingMID"):"datalayer field missing"}catch(e){var t={from:"AA",type:"DE",name:"AA-hashedID"};_satellite.logger.error(e,t)}}}},"Cluster IT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.it")>-1&&a>.25){var o,n=t.tSpe,i="",r=0,c=t.vNum?t.vNum-1:0;if(n&&document.URL.indexOf("bmw.it")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var d=e("visitor_aa_hits");"con"==i?d.uPV<=7&&a<2.77?s="CN1":d.uPV>7&&a<2.77||d.uPV<12&&a>=2.77?s="CN2":d.uPV>=12&&a>=2.77&&(s="CN3"):"nCrs"==i?d.uPV<9&&0==c?s="SL1":d.uPV<9&&c>=1||d.uPV>=9&&0==c?s="SL2":d.uPV>=9&&c>=1&&(s="SL3"):"shw"==i?d.uPV<=3&&a<2.99?s="SR1":d.uPV>3&&a<2.99||d.uPV<6&&a>=2.99?s="SR2":d.uPV>=6&&a>=2.99&&(s="SR3"):"shp"==i&&(d.uPV<=4&&"N"==d.crt?s="SH1":d.uPV<=4&&"Y"==d.crt||d.uPV>4&&"N"==d.crt?s="SH2":d.uPV>4&&"Y"==d.crt&&(s="SH3"))}}return s}catch(l){_satellite.logger.error("Error in Cluster DE Data Element - ",l)}}}},ev_eve_element:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.element}catch(e){}}}},isRegulationAccepted_Tags:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Others;return"false"===e.isTrackingAllowed(t).toString()?"false":s();function s(){var e=_satellite.getVar("TPT-PII_keywords"),t=window.location.href.toLowerCase(),s=t.split("?")[1];if(/[\w-]+@([\w-]+\.)+[\w-]+/.test(t))return"false";if(null!=s)for(var a=0;a<e.length;a++)if(s.indexOf(e[a]+"=")>-1)return"false";return"true"}}catch(o){var a={from:"AA",type:"DE",name:"isRegulationAccepted_Tags"};_satellite.logger.error(o,a)}}}},"AA-pageID":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.pageInfo.pageID"}}},usabilla_restrict_keywords_url:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["prueba","oferta","rfi","rfo","tda","my-bmw-start.html","dlo","rfc","my-bmw.html","panoramica","gamma","test-drive-now","bmw-cataloghi.html","offers-service","offres-et-services","toute-la-gamme","test-drive","forms/request.html","offers-and-services","tda-experience","contact","offerte","proefrit","berekenen","nieuwsbrief","online-afspraakplanner","aanvraag/contact","vakantieauto","brochure-prijslijst","my-bmw.html","accessoire-configurator","call-me-back.html","als-eerste-rijden"],t=0;t<e.length;t++)if(-1!==_satellite.getVar("URL").indexOf(e[t]))return!0;return!1}catch(e){var s={from:"Usabilla",type:"DE",name:"usabilla_restrict_keywords"};_satellite.logger.error(e,s)}}}},getDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(e)try{return adobeDataLayer._getExtEvntData(e)}catch(e){}return _satellite.getVar("snapshotDL")}}},ev_eve_eventAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventAction||""}catch(e){}}}},pa_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.subCategory01}catch(e){}}}},"Cluster DE":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{function e(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}var t=e("visitor_aa_hits"),s="",a=t.sDur;if(document.URL.indexOf("bmw.de")>-1&&a>.25){var o,n=t.tSpe,i="",r=0,c=t.vNum?t.vNum-1:0;if(n&&document.URL.indexOf("bmw.de")>-1){for(keysSorted=Object.keys(n).sort((function(e,t){return n[e]-n[t]})),r=keysSorted.length;r>0;r--)"shw"!=(o=keysSorted[keysSorted.length-r])&&"con"!=o&&"shp"!=o&&"nCrs"!=o||(i=o);t.tSpe[i];var d=e("visitor_aa_hits");"con"==i?d.uPV<11&&a<7.72?s="CN1":d.uPV<11&&a>=7.72||d.uPV>=11&&d.uPV<=13&&a<31.62||d.uPV>=14&&a<7.72?s="CN2":(d.uPV>=14&&a>=7.72||d.uPV>=11&&a>=31.62)&&(s="CN3"):"nCrs"==i?d.uPV<=4&&c>=16?s="SL1":d.uPV<6&&c<16||d.uPV>4&&c>=16?s="SL2":d.uPV>=6&&c<16&&(s="SL3"):"shw"==i?d.uPV<=3&&d.vMI<=1?s="SR1":d.uPV>3&&d.vMI<=1||d.uPV<=5&&d.vMI>1?s="SR2":d.uPV>5&&d.vMI>1&&(s="SR3"):"shp"==i&&(d.uPV<=4&&"N"==d.crt?s="SH1":d.uPV<5&&"Y"==d.crt||d.uPV>4&&"N"==d.crt?s="SH2":d.uPV>=5&&"Y"==d.crt&&(s="SH3"))}}return s}catch(l){_satellite.logger.error("Error in Cluster DE Data Element - ",l)}}}},clearCookies:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e,t=["s_vnum","s_cc","s_getNewRepeat","s_invisit","s_lv","s_lv_s","s_fid","s_sq","s_ptc","s_ppv","at_check","bmwdtm_hq_previouspage_meta","bmwdtm_hq_sid","bmwdtm_hq_cc","bmwdtm_hq_pp","bmwdtm_hq_pcg","bmwdtm_hq_vs","bmwdtm_hq_nav","bmwdtm_hq_epv","bmwdtm_hq_perf","bmwdtm_hq_csevent","bmwdtm_ru_campaign","bmwdtm_MO","AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg","AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg","c5b3573c15461c7fb62c3c6af53d7ce46d446a36","bmwdtm_za_channel","bmwdtm_za_model","bmwdtm_za_date","bmwdtm_cs_utm","bmwdtm_cs_utm_req","bmwdtm_tr_mayfestProgrammatic","bmwdtm_tr_configuratorLandingTime","bmwdtm_ru_landingTime","bmwdtm_cn_campaigndata","bmwdtm_hq_userdata","bmwdtm_hq_SedanExperience","aam_uuid","mbox","mboxPC","mboxSession","tempNavigation","psyma_participation","daktela_chat_email","daktela_chat_session","daktela_chat_title","_em_t","_em_v","_em_vt","nmfirstparty","_mtruid","__lc.visitor_id","lc_window_state","__telemetric.v","__telemetric.s","bmnet","s3optout","s3timer","s3_AE","s3_AESess","s3_AR","s3_ARSess","s3noae","s3sess","evo5_popin_instance","tdid","cikneeto","cikneeto_uuid","tdid","campaign_complete","impressionsNo","LaSID","LaVisitorId","LaVisitorNew","LaRunningChat","LaUserDetails","LaEventId","gdt_flag","_ym_isad","_ym_uid","bmwdtm_hq_feedbackcomplete","mpt_vid","mpt_opted_out","visitorid","pageViewCount","time_spent","s_ppvl","aam_test","check","_gcl_au","_fbp","campaign_cookie","bmwdtm_HK","ces_status","_ga","IDE","mp_scr_","mp_scr_06","mp_scr_08","mp_scr_11","mp_scr_12","mp_scr_14","mp_scrActions","mp_scrPoints","ActivityInfo2","TargetInfo2","u2","cikneeto","cikneeto_uuid","_kuid_","anj","audience","AWSELB","bkdc","bkpa","bku","C","cid","CMID","CMPRO","CMPS","CMRUM3","CMST","data-rk","dsp_id","mako_uid","ONPLFTRH","pb","pxrc","r1","rlas3","sd-session-id","sec","sid","smd","tuuid","tuuid_lu","uid","um2","uuid2","visitor-id","zync-uuid","__qca","mc","n/a","dsp_id_1","evo5","evo5_BMW","evo5_BMW_popin","ione_MTA4MDYx","ionengagementscore","nmfp_evo5_BMW","nmfp_evo5_BMW_popin","_id","_ss","bs","cas","cdb0","cdb1","cdb2","cdb3","cdbp","d","dct_oba","evo5_CLIENT","evo5_CLIENT_popin","evo5_display","EVO5_MINI","evo5_MINI_popin","EVO5_OPT","evo5_popin_instance","f","iOne_","kanapr","nmfirstparty","nmfp_","nmfp_dsp_id","nmfp_evo5_MINI","nmfp_u","notrack","ss","t","ts","u","mt_misc","mt_mop","uuid","uuidc","TDCPM","TDID","beaconRetry","dtBW","dtcookie","dtLatC","dtPC","dtSa","dtsrE","dtsrTID","dtsrVID","ruxitagent","rxVisitId","rxVisitor","rxvt","MUID","MUIDB","__gads","_dc_gtm_UA-127190505-1","_gaexp","_gat","_gat_gtag_UA_","_gat_UA-","_gid","1P_JAR","eud","euds","glc","NID","rud","ruds","_ga1","_dc_gtm_UA-","1143061:session-data","cmd","eng_mt","rc::a","rc::b","rc::c","Cookie_B","lu","xs","c_user","m_user","pl","dblc","aks","aksb","sfau","ick","s","datr","sb","fr","oo","ddid","_fbc","dpr","gu","lh","L\xe4ndereinstellung","shopping_cart","wd","js_ver","rc","campaign_click_url","Checkpoint","lp","hckd","noscript","m_pixel_ratio","act","sfiu","m_ts","p","reg_ext_ref","ar","next","sW","reg_fb_gate","av","next_path","reg_fb_ref","dnonce","presence","a11y","reg_uniqid","rdir","i_user","x-referer","x-src","i_key","i_id","AA003","ATN","lang","bcookie","bscookie","UserMatchHistory","lidc","personalitation_id","personalization_id","psyma_participation","pageViewCount","usabilla_","time_spent","usbl.","_cs_c","_cs_s","_cs_id","GAD","Gdyn","bmw_chatbot_nlhyperchat_session","UserID1","_pk_uid","TCSess","_s3_cvar.","TCID","_s3_id.","_s3_id.19.","s3optout","_s3_ses.19.","_s3_ref.","_s3_ses.","xdt_143","_s3_ses.97.72cd","_s3_id.97.72cd","bmwdtm_perf","time_spent_adhoc","FACEBOOKWITHOUTANAME","_cs_vars","_cs_ex","_cs_optout","YouTubePlayer","dotaki.id","dotaki.idt","dotaki.time","dotaki.segment","_s3_cvar","_s3_id","_s3_ref","_s3_ses","criteo_cookie_perm","criteo_localstorage_check","criteo_write_test","cto_bundle","cto_clc","cto_idcpy","cto_idfs","cto_lwid","cto_optout","cto_sid","cto_sid_ack","cto_tld_test","eid","opt","optout","r.ack","zdi","unvisited","_em_lt","_em_dmp","_em_ft","_em_c3","_em_pc","_em_scf","_em_gc","_em_vi","_em_mb","baqend-speedkit-ab-test-info"],s=document.cookie.split(";"),a=0;a<s.length;a++)(e=s[a].split("=")[0].substr(1)).indexOf("_s3")>-1&&(t[t.length]=e),e.indexOf("nmfp")>-1&&(t[t.length]=e),e.indexOf("_ym_viso")>-1&&(t[t.length]=e),e.indexOf("_sdsat")>-1&&(t[t.length]=e);function o(){var e=window.location.hostname,t=e.split(".").reverse(),s=t[1]+"."+t[0];return e.indexOf("www.bmw-int4.com")>-1?s=".bmw-int4.com":(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(s=t[2]+"."+s),s}var n=o();function i(){for(_satellite.logger.log("Clearing cookies from inside clearCookies data element.."),a=0;a<t.length;a++)_satellite.cookie.remove(t[a]),_satellite.cookie.remove(t[a],{domain:n})}i()}catch(c){var r={from:"AA",type:"DE",name:"clearCookies"};_satellite.logger.error(r,c)}}}},"AA-SearchAds360Parameter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.de":["gclid"],"bmw.at":["gclid"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var s=_satellite.getVar("topLevelDomain");if(void 0!==e[s])var a=e[s];var o="";if("bmw.de"==s||"bmw.at"==s)for(var n=0;n<a.length&&!(o=t(a[n]));n++);return o}catch(r){var i={from:"AA",type:"DE",name:"SearchAds360Parameter"};_satellite.logger.error(r,i)}}}},setTronProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t={},s="",a=_satellite.getVar("snapshotDL");for(var o in a.get("cart"),t.cart={},a.get("cart.item"))isNaN(+o)||"snapshotDL field missing"!=a.get("cart.item."+o+".productInfo.productID")&&"snapshotDL field empty"!=a.get("cart.item."+o+".productInfo.productID")&&(t.cart[a.get("cart.item."+o+".productInfo.productID")]={},t.cart[a.get("cart.item."+o+".productInfo.productID")]=a.get("cart.item."+o));for(var n in a.get("transaction"),t.transaction={},a.get("transaction.-1.item"))isNaN(+o)||"snapshotDL field missing"!=a.get("transaction.-1.item."+n+".productInfo.productID")&&"snapshotDL field empty"!=a.get("transaction.-1.item."+n+".productInfo.productID")&&(t.transaction[a.get("transaction.-1.item."+n+".productInfo.productID")]={},t.transaction[a.get("transaction.-1.item."+n+".productInfo.productID")]=a.get("transaction.-1.item."+n));if(a.get("product").length>0)for(var i in a.get("product"))if(!isNaN(+i)){var r=a.get("product."+i+".category.productType"),c=a.get("product."+i+".productInfo.productID"),d=+(((t.cart[c]||"").price||"").voucherDiscount||"0"),l=+(((t.cart[c]||"").price||"").priceWithTax||"0"),u=_satellite.getVar("productBuilder");u.id=c,u.category=r;var b={eVar10:a.get("product."+i+".attributes.mmdrVG",a.get("product."+i+".attributes.mmdr")),eVar44:a.get("product."+i+".attributes.productionYear"),eVar45:a.get("product."+i+".attributes.yearOfRegistration"),eVar46:a.get("product."+i+".attributes.status"),eVar47:a.get("product."+i+".productInfo.color"),eVar48:a.get("product."+i+".attributes.modelCode"),eVar49:a.get("product."+i+".attributes.gearing"),eVar50:a.get("product."+i+".attributes.series"),eVar51:a.get("product."+i+".attributes.bodyType"),eVar52:a.get("product."+i+".productInfo.productName"),eVar53:a.get("product."+i+".category.primaryCategory"),eVar54:a.get("product."+i+".category.subCategory1"),eVar55:a.get("product."+i+".category.subCategory2"),eVar56:a.get("product."+i+".attributes.fuelType"),eVar57:a.get("product."+i+".attributes.hybridVersion"),eVar58:a.get("product."+i+".attributes.motorization"),eVar60:a.get("product."+i+".productInfo.manufacturer"),eVar65:a.get("product."+i+".attributes.modelName"),eVar66:a.get("product."+i+".attributes.trimLevel"),eVar69:a.get("product."+i+".attributes.modelCodeAG"),eVar121:((t.transaction[c]||"").price||"").voucherCode||((t.cart[c]||"").price||"").voucherCode?((t.transaction[c]||"").price||"").voucherCode||((t.cart[c]||"").price||"").voucherCode||"":a.get("transaction.-1.total.voucherCode",a.get("cart.price.voucherCode")),eVar124:((t.transaction[c]||"").price||"").taxRate||((t.cart[c]||"").price||"").taxRate?((t.transaction[c]||"").price||"").taxRate||((t.cart[c]||"").price||"").taxRate||"":a.get("cart.price.taxRate",a.get("transaction.-1.total.taxRate")),eVar126:a.get("cart.price.shippingMethod",a.get("transaction.total.shippingMethod"))};u.merchEvars=b;var m=[];m.push("event831="+(((t.cart[c]||"").price||"").basePrice||"0")),m.push("event832="+(d<0?+ +l*d/l:d)),m.push("event833="+(d<0?+l*d:d)),m.push("event834="+(((t.cart[c]||"").price||"").taxRate||"0")),m.push("event835="+((((t.cart[c]||"").price||"").attributes||"").taxAmount||"0")),m.push("event836="+(((t.cart[c]||"").price||"").priceWithTax||"0")),m.push("event837="+(((t.transaction[c]||"").price||"").shipping||"0")),m.push("event858="+((t.cart[c]||"").quantity||"0")),u.events=m,e.events=e.apl(e.events,"event831,event832,event833,event834,event835,event836,event837,event858"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar121,eVar124,eVar126",","),s+=u.toString()+","}null!=e.products?e.products+=s:e.products=s,"undefined"!=e.products&&(e.linkTrackVars+="products,")}catch(e){var f={from:"AA",type:"DE",name:"setTronProductString"};_satellite.logger.error(e,f)}}}}},setDefaultProductVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL"),t=_satellite.getVar("productBuilder"),a=(window.location.href,e.get("product.-1.productInfo.productID")),o=e.get("product.-1.attributes.bodyType"),n=e.get("product.-1.attributes.fuelType"),i=e.get("product.-1.attributes.hybridVersion"),r=e.get("product.0.category.primaryCategory"),c=(e.get("product.-1.productInfo.manufacturer"),e.get("product.-1.attributes.mmdr")),d=(e.get("product.-1.attributes.modelName"),e.get("product.-1.attributes.modelCode")),l=(e.get("product.-1.attributes.modelCodeAG"),e.get("product.-1.productInfo.productName")),u=e.get("product.-1.attributes.series"),b=["new vehicle","used vehicle","service","search","after sales","accessory"];function m(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}if(e.get("product").length>0)for(var f in e.get("product"))if(!isNaN(+f)){var p=e.get("product."+f+".attributes.mmdr",e.get("product."+f+".attributes.internalCode")),g=e.get("product."+f+".attributes.mmdrVG",e.get("product."+f+".attributes.internalCode")),v=e.get("product."+f+".attributes.modelCode");c="G26E"==p||"G26E"==g||"71AW"==v||"31AW"==v?"G26E":"G70E"==p||"G70E"==g?"G70E":e.get("product."+f+".attributes.mmdr",e.get("product."+f+".attributes.internalCode"))}var h=e.get("product.-1.attributes.motorization",e.get("product.-1.attributes.engine"));if(h){var P=/[0-9]{3}[a-z]{1}/i,y=/xdrive[0-9]{2}[a-z]{1}/i,j=/sdrive[0-9]{2}[a-z]{1}/i,C=h.match(P)||h.match(y)||h.match(j);h.indexOf("i3 (120 ah)")>-1||h.indexOf("i3 (120ah)")>-1||h.indexOf("i3 120ah")>-1?h="i3 (120 ah)":h.indexOf("i3s (120 ah)")>-1||h.indexOf("i3s (120ah)")>-1||h.indexOf("i3s 120ah")>-1?h="i3s (120 ah)":C&&C.length&&(h=C[0].toUpperCase())}var w=e.get("product.-1.attributes.gearing");"automatic"==(w=w.toLowerCase())||"manual"==w||(w.indexOf("autom")>-1||w.indexOf("steptronic")>-1?w="automatic":(w.indexOf("manu")>-1||w.indexOf("schaltgetriebe")>-1)&&(w="manual")),"CA"==(o=e.get("product.-1.attributes.bodyType"))?o="CAB":"HB"==o?o="CLU":"KO"==o?o="COM":"CO"==o||"CP"==o?o="COU":"GF"==o?o="GFZ":"HB"==o||"SH"==o?o="SHA":"LI"==o?o="LIM":"MP"==o?o="MPV":"RO"==o?o="ROA":"SC"==o?o="SAC":"ST"==o?o="SAT":"GF"==o?o="SAV":"HC"==o?o="SHA":"TO"==o&&(o="TOU"),t.id=a,e.get("product.-1.attributes.sellingPriceTotal","0"),"new car"==r||"New Car"==r||"New car"==r?(t.category="new vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"used car"==r?(t.category="used vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"accessories"==r?(t.category="after sales",basePriceVehicle=e.get("product.-1.attributes.basePriceOptions","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceOptions","0")):"forms"==r?(t.category="new vehicle",t.id=d,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):b.indexOf(r)>-1?(t.category=r,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):t.category="datalayer field missing";var R={eVar10:c,eVar44:e.get("product.-1.attributes.productionYear"),eVar45:e.get("product.-1.attributes.yearOfRegistration"),eVar46:e.get("product.-1.attributes.vehicleSelection",e.get("product.-1.attributes.vehicleStatus")),eVar47:e.get("product.-1.productInfo.color"),eVar48:d,eVar49:e.get("product.-1.attributes.gearing"),eVar50:u,eVar51:o,eVar52:l,eVar53:e.get("product.-1.category.primaryCategory"),eVar54:e.get("product.-1.category.subCategory01",e.get("product.-1.category.subCategory1")),eVar55:e.get("product.-1.category.subCategory02",e.get("product.-1.category.subCategory2")),eVar56:m(n),eVar57:i,eVar58:h,eVar65:e.get("product.-1.attributes.modelName"),eVar66:window.location.href.indexOf("/dcs/")>-1?e.get("product.-1.attributes.salesModel"):e.get("product.-1.attributes.trimLevel"),eVar69:e.get("product.-1.attributes.modelCodeAG"),eVar121:e.get("cart.price.voucherCode",e.get("transaction.total.voucherCode")),eVar124:e.get("cart.price.taxRate",e.get("transaction.total.taxRate")),eVar126:e.get("cart.price.shippingMethod",e.get("transaction.total.shippingMethod"))};t.merchEvars=R;var x=[];return x.push("event831=0"),x.push("event832=0"),x.push("event833=0"),x.push("event834=0"),x.push("event835=0"),x.push("event836=0"),x.push("event837=0"),x.push("event858=0"),t.events=x,s.events=s.apl(s.events,"event831,event832,event833,event834,event835,event836,event837,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),s.prop59=e.get("product.-1.attributes.configID"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar67,eVar121,eVar124,eVar126"),t}catch(E){var I={from:"AA",type:"Data Element",name:"setDefaultProductVariables"};_satellite.logger.error(E,I)}}}},"AA-consentMetaData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if(void 0!==window.processingWrapper&&"function"==typeof window.processingWrapper._getProcessingInfo){var t=window.processingWrapper._getProcessingInfo("BaseTracking",{type:window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2});return e?t[e]:t}return"processingwrapper not available"}catch(e){var s={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,s)}}}}},"AA-Exclusionlist":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["eVar0","eVar4","eVar5","eVar7","eVar8","eVar12","eVar36","eVar6","eVar9","eVar10","eVar11","eVar13","eVar14","eVar17","eVar37","eVar38","eVar48","eVar59","eVar61","eVar62","eVar63","eVar64","eVar71","eVar120","eVar122","eVar125","eVar130","eVar132","eVar133","eVar142","eVar171","eVar172","prop17"]}}},flatMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL");e.linkTrackVars="events,",e.linkTrackEvents="",e.events="",new Date,t.get(location.href,"page.pageInfo.destinationUrl"),_satellite.getVar("snapshotDL").get("event.-1.attributes.linkedComponent.-1.category.componentType"),_satellite.getVar("snapshotDL").get("component.-1.category.componentType");var s=t.get("event.-1.attributes.relatedComponentID"),a=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),o="stock > ";if("search"==t.get("event.-1.eventInfo.eventName")||"sl > search filter"==t.get("event.-1.eventInfo.eventName")){_satellite.logger.log("inside search filter khubruy");var n=t.get("event.-1.attributes.search",{});if(e.products="",n.length>0)for(var r in n)void 0!==n[r].label&&(e.products+="search;search;;;;eVar30="+(n[r].unit||"")+"|eVar31="+(n[r].state||"")+"|eVar32="+(n[r].label||"")+"|eVar33="+(n[r].term||"")+",")}_satellite.getVar("setProductString")(e),e.server=location.hostname,e.linkTrackVars+="server,",e.prop45=t.get("component.-1.attributes.componentVersion"),e.linkTrackVars+="prop45,",e.eVar134=t.get("component.-1.attributes.touchpoint","web"),e.linkTrackVars+="eVar134,",e.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,e.linkTrackVars+="prop42,",e.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,e.linkTrackVars+="prop43,",e.prop44=t.get("component.-1.componentInfo.componentID"),e.linkTrackVars+="prop44,",e.prop19=-1!=window.location.href.indexOf("similarity")?"similarity-search":_satellite.getVar("AA-componentDefaultValues").componentName,e.linkTrackVars+="prop19,";try{if("datalayer field missing"==s&&"datalayer field missing"==a)e.prop41=t.get("component.-1.category.componentType"),e.linkTrackVars+="prop41,";else for(i=0;i<t.get("component").length;i++){var c=i.toString();t.get("component."+c+".componentInfo.componentID")!=s&&t.get("component."+c+".componentInfo.componentID")!=a||(_satellite.logger.log("related component - Akshay changes - "+t.get("component."+c)),e.prop41=t.get("component."+c+".category.componentType"),e.linkTrackVars+="prop41,")}}catch(e){}"not set"!=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.prop27=t.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",t.get("page.pageInfo.pageID",t.get("event.-1.attributes.linkedPage.pageInfo.pageID"))),e.linkTrackVars+="prop27,",e.eVar43=t.get("dealer.-1.attributes.selectionState"),e.linkTrackVars+="eVar43,",e.eVar41=t.get("dealer.-1.dealerInfo.dealerGroupName",t.get("dealer.-1.dealerInfo.dealerGroup")),e.linkTrackVars+="eVar41,",e.eVar42=t.get("dealer.-1.dealerInfo.dealerID",t.get("dealer.-1.dealerInfo.dealerGroupID")),e.linkTrackVars+="eVar42,",e.eVar39=t.get("dealer.-1.dealerInfo.dealerOutletName",t.get("dealer.-1.dealerInfo.dealerName")),e.linkTrackVars+="eVar39,",e.eVar40=t.get("dealer.-1.dealerInfo.outletID",t.get("dealer.-1.dealerInfo.dealerOutletID")),e.linkTrackVars+="eVar40,",e.prop17=t.get("event.-1.attributes.form.rfxID"),e.linkTrackVars+="prop17,","not set"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field missing"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field empty"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.eVar71=t.get("event.-1.attributes.requestedURL"),e.linkTrackVars+="eVar71,",e.prop54=t.get("event.-1.category.primaryCategory",t.get("event.-1.category.primaryCatergory")),e.linkTrackVars+="prop54,",e.prop50=t.get("event.-1.attributes.element"),e.linkTrackVars+="prop50,","form"==t.get("event.-1.eventInfo.eventName")&&(e.prop11=t.get("event.-1.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop7=t.get("event.-1.category.subCategory1"),e.linkTrackVars+="prop7,",e.prop8=t.get("event.-1.eventInfo.effect"),e.linkTrackVars+="prop8,",e.prop6=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop6,"),e.prop55=t.get("event.-1.category.subCategory1",t.get("event.-1.attributes.errorCode",t.get("event.-1.solutionSpecific.slfavItemsNum",t.get("event.-1.attributes.searchResults",t.get("event.-1.category.subCategory01"))))),e.linkTrackVars+="prop55,",e.prop51=t.get("event.-1.category.subCategory2"),e.linkTrackVars+="prop51,","search"==t.get("event.-1.eventInfo.eventName")&&(e.prop24=t.get("event.-1.category.subCategory1",t.get("event.-1.category.subCategory01")),e.linkTrackVars+="prop24,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,"),e.prop52=t.get("event.-1.eventInfo.cause"),e.linkTrackVars+="prop52,",e.eVar34=t.get("event.-1.eventInfo.effect"),e.eVar34.indexOf(o)<0&&(e.eVar34=o+e.eVar34),e.linkTrackVars+="eVar34,",e.prop57=t.get("event.-1.eventInfo.eventAction"),e.linkTrackVars+="prop57,",e.prop56=t.get("event.-1.eventInfo.eventName"),e.linkTrackVars+="prop56,",t.get("event.-1.eventInfo.eventPoints")&&parseInt(t.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(t.get("event.-1.eventInfo.eventPoints")))?(parseInt(t.get("event.-1.eventInfo.eventPoints"))>6e4?e.events=e.apl(e.events,"event970=60001",",",1):parseInt(t.get("event.-1.eventInfo.eventPoints"))<=0?e.events=e.apl(e.events,"event970=0",",",1):e.events=e.apl(e.events,"event970="+t.get("event.-1.eventInfo.eventPoints"),",",1),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event970")):(e.prop58=t.get("event.-1.eventInfo.eventPoints"),e.linkTrackVars+="prop58,"),e.prop12=t.get("event.-1.eventInfo.timeStamp",t.get("event.-1.eventInfo.timestamp")),e.linkTrackVars+="prop12,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,",e.eVar23=t.get("event.-1.attributes.form.preferredComChannel",t.get("event.-1.attributes.form.preferredComChannel")),e.linkTrackVars+="eVar23,",e.eVar24=t.get("event.-1.attributes.searchResults"),e.linkTrackVars+="eVar24,",e.prop13=t.get("page.attributes.brand"),e.linkTrackVars+="prop13,",e.prop2=t.get("page.category.pageType"),e.linkTrackVars+="prop2,","form"==t.get("page.category.pageType")?(e.prop11=t.get("page.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop9=t.get("page.category.subCategory1"),e.linkTrackVars+="prop9,",e.prop10=t.get("page.category.subCategory2"),e.linkTrackVars+="prop10,"):"search"==t.get("page.category.pageType")&&(e.prop53=t.get("page.category.subCategory1"),e.linkTrackVars+="prop53,"),e.prop4=t.get("page.category.subCategory1"),e.linkTrackVars+="prop4,",e.prop5=t.get("page.category.subCategory2"),e.linkTrackVars+="prop5,",e.prop46=t.get("page.pageInfo.author"),e.linkTrackVars+="prop46,",e.eVar7=t.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),e.eVar7=e.eVar7.indexOf("-")>-1?e.eVar7.split("-")[0]:e.eVar7,e.linkTrackVars+="eVar7,",e.eVar8=_satellite.getVar("AA-languageWorkaround"),e.linkTrackVars+="eVar8,",e.prop1=t.get("page.pageInfo.pageName"),e.prop1.indexOf(o)<0&&e.prop1.indexOf("dcs")<0?(e.prop1=o+e.prop1,
e.pageName=e.prop1):e.pageName=e.prop1,e.linkTrackVars+="pageName,prop1,",e.eVar135=t.get("page.pageInfo.sysEnv"),e.linkTrackVars+="eVar135,",e.prop28=t.get("page.pageInfo.variant"),e.linkTrackVars+="prop28,",e.prop29=t.get("page.pageInfo.version"),e.linkTrackVars+="prop29,",e.prop59=t.get("product.-1.attributes.configID"),e.linkTrackVars+="prop59,",e.eVar19=t.get("user.-1.profile.-1.address.stateProvince"),e.linkTrackVars+="eVar19,",e.eVar20=t.get("user.-1.profile.-1.address.country"),e.linkTrackVars+="eVar20,",e.prop40=t.get("user.-1.profile.-1.attributes.loggedInStatus"),e.linkTrackVars+="prop40,",e.eVar21=t.get("user.-1.profile.-1.profileInfo.language"),e.linkTrackVars+="eVar21,",e.eVar17=t.get("user.-1.profile.-1.profileInfo.profileID"),e.linkTrackVars+="eVar17,",e.eVar15=t.get("user.-1.profile.-1.profileInfo.type"),e.linkTrackVars+="eVar15,",e.eVar16=t.get("user.-1.segment"),e.eVar16=e.eVar16&&"object"==typeof e.eVar16?"datalayer field empty":e.eVar16,e.linkTrackVars+="eVar16,",e.eVar136=t.get("version.version",e.version),e.linkTrackVars+="eVar136,",e.eVar122=t.get("page.attributes.currencyCode"),e.linkTrackVars+="eVar122,",e.eVar120=t.get("cart.cartID"),e.linkTrackVars+="eVar120,",e.eVar125=t.get("transaction.-1.transactionID"),e.linkTrackVars+="eVar125,"}catch(e){var d={from:"AA",type:"DE",name:"flatMapping"};_satellite.logger.error(e,d)}}}}}},extensions:{"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP88bc9a95368c457498f7139d263446ba/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/actions/initializeRfl.js":{name:"initialize-rfl",displayName:"Initialize RFL (Remove From List)",script:function(e,t,s){"use strict";s("./common").init("rfl","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,s){"use strict";s("./common").init("getPreviousValue","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,s){"use strict";s("./common").init("apl","analytics"),s("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js":{name:"initialize-gettimeparting",displayName:"Initialize getTimeParting",script:function(e,t,s){"use strict";s("./common").init("getTimeParting","window"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,s,a){"use strict";a.getSharedModule("adobe-analytics","get-tracker")||a.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),a.getSharedModule("adobe-analytics","augment-tracker")((function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]}))}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,s,a){"use strict";var o=function(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null},n=function(e,t,a){t[e]=s("../plugins/allPlugins")[e];var o=a.contextData||{},n=i(e,t);"n/a"===n.version&&(n=r(e)),o[e]=n.version},i=function(e,t){var s,a={plugin:e,version:"n/a"};try{s=t[e]("-v")}catch(e){s={}}try{("string"!=typeof s.plugin||s.plugin.length<1)&&(s=a)}catch(e){s=a}return s},r=function(e){var t=a.getExtensionSettings(),s={plugin:e,version:"n/a"};try{s.version=t[e].version}catch(e){s.version="n/a"}return s};e.exports.init=function(e,t){a.getSharedModule("adobe-analytics","augment-tracker")((function(s){s&&(t=o(t,s),e&&t&&n(e,t,s))}))},e.exports.initMany=function(e){var t;a.getSharedModule("adobe-analytics","augment-tracker")((function(s){if(s)for(var a=0;a<e.length;a++)t=o(e[a].obj,s),e[a].pname&&t&&n(e[a].pname,t,s)}))}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,s){e.exports.addProductEvar=s("./addProductEvar").addProductEvar,e.exports.addProductEvent=s("./addProductEvent").addProductEvent,e.exports.apl=s("./apl").apl,e.exports.cleanStr=s("./cleanStr").cleanStr,e.exports.endOfDatePeriod=s("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=s("./formatTime").formatTime,e.exports.getAndPersistValue=s("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=s("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=s("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=s("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=s("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=s("./getPageName").getPageName,e.exports.getPreviousValue=s("./getPreviousValue").getPreviousValue,e.exports.getQueryParam=s("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=s("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=s("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=s("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=s("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=s("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=s("./getValOnce").getValOnce,e.exports.getVisitDuration=s("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=s("./getVisitNum").getVisitNum,e.exports.inList=s("./inList").inList,e.exports.lowerCaseVars=s("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=s("./manageVars").manageVars,e.exports.p_fo=s("./p_fo").p_fo,e.exports.performanceCheck=s("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=s("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=s("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=s("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=s("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=s("./pt").pt,e.exports.rfl=s("./rfl").rfl,e.exports.twoDecimals=s("./twoDecimals").twoDecimals,e.exports.zeroPad=s("./zeroPad").zeroPad,e.exports.randomNumber=s("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"addProductEvar",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var i,r=0;r<window.s_c_il.length;r++)if((i=window.s_c_il[r])._c&&"s_c"===i._c){r=i;break e}r=void 0}if(void 0!==r&&(r.contextData.addProductEvar="2.0","string"==typeof a&&"string"==typeof o&&""!==o))if(n=n||!1,r.products){var c,d=(i=r.products.split(",")).length;for(n=n?0:d-1;n<d;n++)(c=i[n].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+a+"="+o:c[5]?c[5]=a+"="+o:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=a+"="+o),i[n]=c.join(";");r.products=i.join(",")}else r.products=";;;;;"+a+"="+o}e.exports.addProductEvar=t}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){function t(e,t,s){var o=e,n=t,i=s;if("-v"===o)return{plugin:"addProductEvent",version:"2.0"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==r&&(r.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,s,o,n){function i(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;s=s||",",1==(o=o||s)&&(o=s,n||(n=1)),2==o&&1!=n&&(o=s),t=t.split(","),k=t.length;for(var r=0;r<k;r++)i(e,t[r],s,n)||(e=e?e+o+t[r]:t[r])}return e},"string"==typeof o))if(n=isNaN(n)?"1":String(n),i=i||!1,r.events=window.apl(r.events,o),r.products){var c,d=r.products.split(","),l=d.length;for(i=i?0:l-1;i<l;i++)(c=d[i].split(";"))[4]&&-1<c[4].indexOf("event")?c[4]=c[4]+"|"+o+"="+n:c[5]?c[4]=o+"="+n:c[4]||(c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[4]=o+"="+n),d[i]=c.join(";");r.products=d.join(",")}else r.products=";;;;"+o+"="+n}e.exports.addProductEvent=t}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){function t(e,t,s,o,n){var i=e,r=t,c=s,d=o,l=n;if("-v"===i)return{plugin:"apl",version:"4.0"};var u=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==u&&(u.contextData.apl="4.0"),window.inList=window.inList||function(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1},!i||"string"==typeof i){if("string"!=typeof r||""===r)return i;c=c||",",1==(d=d||c)&&(d=c,l||(l=1)),2==d&&1!=l&&(d=c),u=(r=r.split(",")).length;for(var b=0;b<u;b++)window.inList(i,r[b],c,l)||(i=i?i+d+r[b]:r[b])}return i}e.exports.apl=t}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var s,a=0;a<window.s_c_il.length;a++)if((s=window.s_c_il[a])._c&&"s_c"===s._c){a=s;break e}a=void 0}if(void 0!==a&&(a.contextData.cleanStr="2.0"),"string"==typeof t){for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}return""}e.exports.cleanStr=t}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};var s=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==s&&(s.contextData.endOfDatePeriod="1.2"),s=new Date;var a=isNaN(t)?0:Math.floor(t),o=function(e,t){return new Date(t||1970,e||1,0).getDate()};return s.setHours(23),s.setMinutes(59),s.setSeconds(59),"w"===t&&(a=6-s.getDay()),"m"===t&&(a=o(s.getMonth()+1,s.getFullYear())-s.getDate()),s.setDate(s.getDate()+a),"y"===t&&(s.setMonth(11),s.setDate(31)),s}e.exports.endOfDatePeriod=t}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){function t(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}var n=e,i=t,r=s;if(arguments&&"-v"===arguments[0])return{plugin:"formatTime",version:"2.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==c&&(c.contextData.formatTime="2.0"),!(void 0===n||isNaN(n)||0>Number(n))){if(c="","string"==typeof i&&"d"===i||("string"!=typeof i||!o("h,m,s",i))&&86400<=n){var d=86400,l="days";c=isNaN(r)?1:d/(r*d)}else"string"==typeof i&&"h"===i||("string"!=typeof i||!o("m,s",i))&&3600<=n?(d=3600,l="hours",c=isNaN(r)?4:d/(r*d)):"string"==typeof i&&"m"===i||("string"!=typeof i||!o("s",i))&&60<=n?(d=60,l="minutes",c=isNaN(r)?2:d/(r*d)):(d=1,l="seconds",c=isNaN(r)?.2:d/r);return 0===(c=Math.round(n*c/d)/c+" "+l).indexOf("1 ")&&(c=c.substring(0,c.length-1)),c}}e.exports.formatTime=t}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if(void 0!==a&&"-v"===a)return{plugin:"getAndPersistValue",version:"3.0.1"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==i&&(i.contextData.getAndPersistValue="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},i=new Date,o=o||"s_gapv",(n=n||0)?i.setTime(i.getTime()+864e5*n):i.setTime(i.getTime()+18e5),void 0!==a&&a||(a=cookieRead(o)),cookieWrite(o,a,i),a}e.exports.getAndPersistValue=t}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){function t(){var e=new Date,t=e.getTime(),s=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),s){if(18e5<(e=t-s)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592000001&&6048e5<e)return"More than 7 days";if(e<604800001&&864e5<e)return"Less than 7 days";if(e<86400001)return"Less than 1 day"}return""}return"New Visitor"}e.exports.getDaysSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getGeoCoordinates",version:"2.0.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getGeoCoordinates="2.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""};var t="",s={timeout:5e3,maximumAge:0},a=function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),t="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},o=function(){t="error retrieving geo coordinates"};return 1<(e=cookieRead("s_ggc").split("|")).length&&(t="latitude="+e[0]+" | longitude="+e[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(a,o,s),""===t&&(t="geo coordinates not available"),t}e.exports.getGeoCoordinates=t}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0.1"};void 0!==(e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},e="s_nr"+(t=t||30);var s=new Date,a=cookieRead(e),o=a.split("-"),n=s.getTime();return s.setTime(n+864e5*t),""===a||18e5>n-o[0]&&"New"===o[1]?(cookieWrite(e,n+"-New",s),"New"):(cookieWrite(e,n+"-Repeat",s),"Repeat")}e.exports.getNewRepeat=t}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){function t(){function e(){var e=performance.timing;if(0<e.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))){var t=window,s=t.cookieWrite,a=e.loadEventEnd,o=e.navigationStart;a=0<=a&&0<=o?6e4>a-o&&0<=a-o?parseFloat((a-o)/1e3).toFixed(2):60:void 0,s.call(t,"s_plt",a),window.cookieWrite("s_pltp",window.pageName)}window.ptc=e.loadEventEnd}if(arguments&&"-v"===arguments[0])return{plugin:"getPageLoadTime",version:"2.0.2"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getPageLoadTime="2.0.2"),window.pageName=void 0!==t&&t.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((t=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<t.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===t.timing.loadEventEnd?window.pi=setInterval((function(){e()}),250):0<t.timing.loadEventEnd&&(window.ptc?window.ptc===t.timing.loadEventEnd&&1===t.getEntries().length&&(window.pwp=setInterval((function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))}),500)):e()))}e.exports.getPageLoadTime=t}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){var t=function(e,t,s,a){var o=e,n=t,i=s,r=a;if("-v"===o)return{plugin:"getPageName",version:"4.2"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}void 0!==d&&(d.contextData.getPageName="4.2");var l=location.hostname,u=location.pathname.substring(1).split("/"),b=u.length,m=location.search.substring(1).split("&"),f=m.length;if(c=(d=location.hash.substring(1).split("&")).length,r=r||"|",o=o||l,n=n||"",i=i||"",1===b&&""===u[0])o=o+r+"home";else for(l=0;l<b;l++)o=o+r+decodeURIComponent(u[l]);if(n&&(1!==f||""!==m[0]))for(b=(u=n.split(",")).length,l=0;l<b;l++)for(n=0;n<f;n++)if(u[l]===m[n].split("=")[0]){o=o+r+decodeURIComponent(m[n]);break}if(i&&(1!==c||""!==d[0]))for(m=(i=i.split(",")).length,l=0;l<m;l++)for(n=0;n<c;n++)if(i[l]===d[n].split("=")[0]){o=o+r+decodeURIComponent(d[n]);break}return o.substring(o.length-r.length)===r?o.substring(0,o.length-r.length):o};e.exports.getPageName=t}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){function t(e,t){var s=e,a=t;if("-v"===s)return{plugin:"getPreviousValue",version:"3.0.1"};var o,n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==n&&(n.contextData.getPreviousValue="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},a=a||"s_gpv",(n=new Date).setTime(n.getTime()+18e5),window.cookieRead(a)&&(o=window.cookieRead(a)),s?window.cookieWrite(a,s,n):window.cookieWrite(a,o,n),o}e.exports.getPreviousValue=t}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){function t(e,t,s){function a(e,t){var s=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<s||t.indexOf("=")>s))for(var a=0,o=(s=(s=t.substring(s+1)).split("&")).length;a<o;a++){var n=s[a].split("="),i=n[1];if(n[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(i||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var o=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==o&&(o.contextData.getQueryParam="4.0"),e){t=t||"",s=(s||void 0!==o&&o.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&s&&4>s.length&&(o=t,t=s,s=o),o="";for(var n=e.split(","),i=n.length,r=0;r<i;r++)"string"==typeof(e=a(n[r],s))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,o+=o?t+e:e):o=""===o?e:o+(t+e);return o}}e.exports.getQueryParam=t}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){var t=function(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if(void 0!==window.s_c_il)for(var i,r=0;r<window.s_c_il.length;r++)if((i=window.s_c_il[r])._c&&"s_c"===i._c){r=i;break e}r=void 0}return void 0!==r&&(r.contextData.getResponsiveLayout="1.1"),isNaN(a)||isNaN(o)||isNaN(n)||o<a||n<o?void 0:(r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(a<o&&r<=o?r<=a?"phone portrait layout":"phone landscape layout":r<=o?"phone layout":r<=n?"tablet layout":"desktop layout")+":"+r+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))};e.exports.getResponsiveLayout=t}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){function t(e,t,s,o,n,i,r,c,d){var l=e,u=t,b=s,m=o,f=n,p=i,v=r,h=c,P=d;if("-v"===l)return{plugin:"getTimeBetweenEvents",version:"3.0.1"};var y=function(){
if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==y&&(y.contextData.getTimeBetweenEvents="3.0.1",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.inList=window.inList||function(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1},"string"==typeof l&&void 0!==u&&"string"==typeof b&&void 0!==m)){f=f||"s_tbe",p=isNaN(p)?1:Number(p);var j=!1,C=!1,w=l.split(","),R=b.split(",");P=P?P.split(","):[];for(var x,I=window.cookieRead(f),E=new Date,T=E.getTime(),A=new Date,L=0;L<P.length;++L)if(window.inList(y.events,P[L]))return A.setDate(A.getDate()-1),void window.cookieWrite(f,"",A);for(A.setTime(A.getTime()+864e5*p),L=0;L<w.length&&!j&&!0!==(j=window.inList(y.events,w[L]));++L);for(L=0;L<R.length&&!C&&!0!==(C=window.inList(y.events,R[L]));++L);return 1===w.length&&1===R.length&&l===b&&j&&C?(I&&(x=(T-I)/1e3),window.cookieWrite(f,T,p?A:0)):(!j||1!=u&&I||window.cookieWrite(f,T,p?A:0),C&&I&&(x=(E.getTime()-I)/1e3,!0===m&&(A.setDate(A.getDate()-1),window.cookieWrite(f,"",A)))),x?window.formatTime(x,v,h):""}}e.exports.getTimeBetweenEvents=t}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){function t(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var s,a=0;a<window.s_c_il.length;a++)if((s=window.s_c_il[a])._c&&"s_c"===s._c){a=s;break e}a=void 0}return void 0!==a&&(a.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",a=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4]+" | month="+a[2]+" | date="+a[3]+" | day="+a[1]+" | time="+(a[6]+a[7])}e.exports.getTimeParting=t}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getTimeSinceLastVisit",version:"2.0.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getTimeSinceLastVisit="2.0.1"),window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""};var t=(e=new Date).getTime(),s=cookieRead("s_tslv")||0,o=Math.round((t-s)/1e3);return e.setTime(t+63072e6),cookieWrite("s_tslv",t,e),s?1800<o||cookieRead("s_inv")?(cookieRead("s_inv")&&(o=cookieRead("s_inv")),cookieWrite("s_inv",o,30),"0"!==o?formatTime(o):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}e.exports.getTimeSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){function t(e,t,s,o){var n=e,i=t,r=s,c=o;if("-v"===n)return{plugin:"getTimeToComplete",version:"4.0.1"};var d=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==d&&(d.contextData.getTimeToComplete="4.0.1"),window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},"stop"===(n=n?n.toLowerCase():"start")||"start"===n){if(i=i||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(r=30,c=6e4),r=isNaN(r)?30:r,r*=c,d=cookieRead(i),c=new Date,"stop"===n&&d)return r=Math.round((c.getTime()-d)/1e3),cookieWrite(i,"",0),formatTime(r);"start"!==n||d?d&&Number(d)<c.getTime()+18e5&&cookieWrite(i,d,30):(n=String(c.getTime()),c.setTime(c.getTime()+r),cookieWrite(i,n,c))}}e.exports.getTimeToComplete=t}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,i=s,r=a;if(arguments&&"-v"===arguments[0])return{plugin:"getValOnce",version:"3.0.1"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},o&&(n=n||"s_gvo",i=i||0,r="m"===r?6e4:864e5,o!==this.c_r(n))?((c=new Date).setTime(c.getTime()+i*r),cookieWrite(n,o,0===i?0:r),o):""}e.exports.getValOnce=t}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getVisitDuration",version:"2.1.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getVisitDuration="2.1.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},e=(new Date).getTime();var t=cookieRead("s_dur"),s=0;return(isNaN(t)||18e5<e-t)&&(t=e),s=e-t,cookieWrite("s_dur",t+"",30),0===s?"first hit of visit":0===(s=Math.floor(s/6e4))?"less than a minute":1===s?"1 minute":s+" minutes"}e.exports.getVisitDuration=t}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){function t(e,t){function s(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function a(e){var t=new Date,s=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(s=6-t.getDay()),"m"===e){s=t.getMonth()+1;var a=t.getFullYear();s=new Date(a||1970,s||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+s),"y"===e&&(t.setMonth(11),t.setDate(31)),t}var o=e,n=t;if("-v"===o)return{plugin:"getVisitNum",version:"4.2.1"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==i&&(i.contextData.getVisitNum="4.2.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},o=o||365,n=void 0!==n?!!n:!!s(o);var r=(new Date).getTime();if(i=a(o),window.cookieRead("s_vnc"+o))var c=window.cookieRead("s_vnc"+o).split("&vn="),d=c[1];return window.cookieRead("s_ivc")?d?(window.cookieWrite("s_ivc",!0,30),d):"unknown visit number":void 0!==d?(d++,c=n&&s(o)?r+864e5*o:c[0],i.setTime(c),window.cookieWrite("s_vnc"+o,c+"&vn="+d,i),window.cookieWrite("s_ivc",!0,30),d):(c=s(o)?r+864e5*o:a(o).getTime(),window.cookieWrite("s_vnc"+o,c+"&vn=1",i),window.cookieWrite("s_ivc",!0,30),"1")}e.exports.getVisitNum=t}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,i=s,r=a;if("-v"===o)return{plugin:"inList",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((s=window.s_c_il[c])._c&&"s_c"===s._c){c=s;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof n)return!1;if("string"==typeof o)o=o.split(i||",");else if("object"!=typeof o)return!1;for(i=0,c=o.length;i<c;i++)if(1==r&&n===o[i]||n.toLowerCase()===o[i].toLowerCase())return!0;return!1}e.exports.inList=t}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){function t(e){var t=this;t[e]&&("events"!==e&&-1===e.indexOf("contextData")?(t[e]=t[e].toString(),0!==t[e].indexOf("D=")&&(t[e]=t[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),t.contextData[e]&&(t.contextData[e]=t.contextData[e].toString().toLowerCase())))}e.exports.lowerCaseVars=t}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"manageVars",version:"3.0"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==i){if(i.contextData.manageVars="3.0",i.blankVars=function(e){this[e]&&(0>e.indexOf("contextData")?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},i.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},i.cleanStr=function(e){function t(e){if("string"==typeof e){for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}return""}this[e]&&"function"==typeof t&&(0>e.indexOf("contextData")?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},i.pt=function(e,t,s,a){if(e&&this[s]){t=(e=e.split(t||",")).length;for(var o,n=0;n<t;n++)if(o=this[s](e[n],a))return o}},!i[a])return!1;o=o||"",n=n||!0;var r,c="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(r=1;76>r;r++)c+=",prop"+r;for(r=1;251>r;r++)c+=",eVar"+r;for(r=1;6>r;r++)c+=",hier"+r;for(r=1;4>r;r++)c+=",list"+r;for(r in i.contextData)c+=",contextData."+r;if(o){if(1==n)c=o.replace("['",".").replace("']","");else if(0==n){for(x in o=o.split(","),n=c.split(","),c="",o)for(y in-1<o[x].indexOf("contextData")&&(o[x]="contextData."+o[x].split("'")[1]),n)o[x]===n[y]&&(n[y]="");for(y in n)c+=n[y]?","+n[y]:""}return i.pt(c,",",a,0),!0}return!(""!==o||!n||(i.pt(c,",",a,0),0))}}e.exports.manageVars=t}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){function t(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var t,s=0;s<window.s_c_il.length;s++)if((t=window.s_c_il[s])._c&&"s_c"===t._c){s=t;break e}s=void 0}return void 0!==s&&(s.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}e.exports.p_fo=t}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){function t(e,t){if(0<=e&&0<=t)return 6e4>e-t&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}e.exports.performanceCheck=t}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){function t(){var e=this,t=performance.timing;0<t.loadEventEnd&&(clearInterval(e.pi),""===e.c_r("s_plt")&&(e.c_w("s_plt",e.performanceCheck(t.loadEventEnd,t.navigationStart)),e.c_w("s_pltp",e.pageName))),e.ptc=t.loadEventEnd}e.exports.performanceWriteFull=t}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){function t(){var e=this,t=performance;0<t.getEntries().length&&(e.ppfe===t.getEntries().length?clearInterval(e.pwp):e.ppfe=t.getEntries().length),""===e.c_r("s_plt")&&(e.c_w("s_plt",((t.getEntries()[t.getEntries().length-1].responseEnd-t.getEntries()[0].startTime)/1e3).toFixed(2)),e.c_w("s_pltp",e.pageName))}e.exports.performanceWritePart=t}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){function t(){if("undefined"!=typeof s_c_il){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var s=s_c_il[e];break}if(s&&s.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+o,t=Math.min(Math.round(e/a*100),100);var n=Math.floor(e/o);o=Math.floor(a/o);var i="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID)||1==s.ppvChange&&s.c_r("s_tp")&&a!=s.c_r("s_tp")){if((s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",e),s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");var r=-1<(i=s.c_r("s_ppv")).indexOf(",")?i.split(","):[];i=r[0]?r[0]:"",r=r[3]?r[3]:"";var c=s.c_r("s_ips");i=i+","+Math.round(r/a*100)+","+Math.round(c/a*100)+","+r+","+n}s.c_w("s_tp",a)}else i=s.c_r("s_ppv");var d=i&&-1<i.indexOf(",")?i.split(",",6):[];a=0<d.length?d[0]:escape(s.ppvID),r=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):o,0<t&&(i=a+","+(t>r?t:r)+","+c+","+(e>l?e:l)+","+(n>u?n:u)+","+(o>d?o:d)),s.c_w("s_ppv",i)}}}e.exports.handlePPVevents=t}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){function t(e,t){function s(){if(window.ppvID){var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,a=Math.min(Math.round(s/e*100),100),o=Math.floor(s/t);t=Math.floor(e/t);var n="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",s),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var i=-1<(n=window.cookieRead("s_ppv")).indexOf(",")?n.split(","):[];n=i[0]?i[0]:"",i=i[3]?i[3]:"";var r=window.cookieRead("s_ips");n=n+","+Math.round(i/e*100)+","+Math.round(r/e*100)+","+i+","+o}window.cookieWrite("s_tp",e)}else n=window.cookieRead("s_ppv");var c=n&&-1<n.indexOf(",")?n.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),i=1<c.length?parseInt(c[1]):a,r=2<c.length?parseInt(c[2]):a;var d=3<c.length?parseInt(c[3]):s,l=4<c.length?parseInt(c[4]):o;c=5<c.length?parseInt(c[5]):t,0<a&&(n=e+","+(a>i?a:i)+","+r+","+(s>d?s:d)+","+(o>l?o:l)+","+(t>c?t:c)),window.cookieWrite("s_ppv",n)}}var a=e,o=t;if("-v"===a)return{plugin:"getPercentPageViewed",version:"5.0.2"};var n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.getPercentPageViewed="5.0.2"),window.pageName=void 0!==n&&n.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var i=new Date;i.setTime(i.getTime()+6e4*s)}else i=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; secure; path=/;"+(s?" expires="+i.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var i=window.cookieRead("s_ppv");i=-1<i.indexOf(",")?i.split(","):[],a=a||(window.pageName?window.pageName:document.location.href),i[0]=decodeURIComponent(i[0]),window.ppvChange=void 0===o||1==o,void 0!==n&&n.linkType&&"o"===n.linkType||(window.ppvID&&window.ppvID===a||(window.ppvID=a,window.cookieWrite("s_ppv",""),s()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",s,!1),window.addEventListener("click",s,!1),window.addEventListener("scroll",s,!1)),this._ppvPreviousPage=i[0]?i[0]:"",this._ppvHighestPercentViewed=i[1]?i[1]:"",this._ppvInitialPercentViewed=i[2]?i[2]:"",this._ppvHighestPixelsSeen=i[3]?i[3]:"",this._ppvFoldsSeen=i[4]?i[4]:"",this._ppvFoldsAvailable=i[5]?i[5]:"")}e.exports.getPercentPageViewed=t}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,i=s,r=a;if("-v"===o)return{plugin:"pt",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}if(void 0!==d&&(d.contextData.pt="3.0",o&&d[i])){n=(o=o.split(n||",")).length;for(var l=0;l<n;l++)if(c=d[i](o[l],r))return c}}e.exports.pt=t}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){function t(e,t,s,a,o){var n=e,i=t,r=s,c=a,d=o;if("-v"===n)return{plugin:"rfl",version:"2.1"};e:{if(void 0!==window.s_c_il)for(var l,u=0;u<window.s_c_il.length;u++)if((l=window.s_c_il[u])._c&&"s_c"===l._c){u=l;break e}u=void 0}if(void 0!==u&&(u.contextData.rfl="2.1"),!n||!i)return"";u=[],l="",r=r||",",c=c||r,d=d||!1,r=(n=n.split(r)).length;for(var b=0;b<r;b++)-1<n[b].indexOf(":")&&((l=n[b].split(":"))[1]=l[0]+":"+l[1],n[b]=l[0]),-1<n[b].indexOf("=")&&((l=n[b].split("="))[1]=l[0]+"="+l[1],n[b]=l[0]),n[b]!==i&&l?u.push(l[1]):n[b]!==i?u.push(n[b]):n[b]===i&&d&&(l?u.push(l[1]):u.push(n[b]),d=!1),l="";return u.join(c)}e.exports.rfl=t}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){function t(e){return void 0===e||void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}e.exports.twoDecimals=t}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){function t(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t))return"";var s=t-e.toString().length+1;return Array(+(0<s&&s)).join("0")+e}e.exports.zeroPad=t}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){function t(e){e="number"==typeof e?17>Math.abs(e)?Math.round(Math.abs(e)):17:10;for(var t="1",s=0;s<e;s++)t+="0";return t=Number(t),(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad&&(t=zeroPad(t,e)),t}e.exports.randomNumber=t}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbdfb4b2e3570442dafcd49b858f2288a/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"bmwag.d3.sc.omtrdc.net"},{name:"trackingServerSecure",value:"bmwag.d3.sc.omtrdc.net"},{name:"cookieDomain",value:"%topLevelDomain%"},{name:"idSyncContainerID",value:"%AAM-containerID%"}],isIabContext:!1,doesOptInApply:!0,previousPermissions:"%ECID-previousPermissions%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-document"),n=s("../codeLibrary/VisitorAPI"),i=s("../../view/utils/timeUnits"),r=function(e){return e.reduce((function(e,t){var s=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=s,e}),{})},c=function(e){var t=a.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var s=r(t.variables||[]),o=t.doesOptInApply;o&&("boolean"==typeof o?s.doesOptInApply=o:t.optInCallback&&(s.doesOptInApply=t.optInCallback));var n=t.isOptInStorageEnabled;n&&(s.isOptInStorageEnabled=n);var c=t.optInCookieDomain;c&&(s.optInCookieDomain=c);var d=t.optInStorageExpiry;if(d){var l=t.timeUnit;if(l&&i[l]){var u=d*i[l];s.optInStorageExpiry=u}}else!0===n&&(s.optInStorageExpiry=33696e3);var b=t.previousPermissions;b&&(s.previousPermissions=b);var m=t.preOptInApprovals;if(m)s.preOptInApprovals=m;else{var f=t.preOptInApprovalInput;f&&(s.preOptInApprovals=f)}var p=t.isIabContext;p&&(s.isIabContext=p);var g=e.getInstance(t.orgId,s);return a.logger.info('Created instance using orgId: "'+t.orgId+'"'),a.logger.info("Set variables: "+JSON.stringify(s)),g.getMarketingCloudVisitorID((function(e){a.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),g},d=function(e){return(a.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},l=null;_satellite.getVisitorId=function(){return l},d(o.location.pathname)?a.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):l=c(n),e.exports=l},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function s(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var s=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(s,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var s=this.callbacks[e].shift();"function"==typeof s?s.apply(null,t):s instanceof Array&&s[1].apply(s[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!L.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var s=void 0!==e[t]?e[t]:"";this.execute(t,s)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function a(e,t,s){var a=null==e?void 0:e[t];return void 0===a?s:a}function o(e){for(var t=/^\d+$/,s=0,a=e.length;s<a;s++)if(!t.test(e[s]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function i(e,t){for(var s=0;s<e.length;s++){var a=parseInt(e[s],10),o=parseInt(t[s],10);if(a>o)return 1;if(o>a)return-1}return 0}function r(e,t){if(e===t)return 0;var s=e.toString().split("."),a=t.toString().split(".");return o(s.concat(a))?(n(s,a),i(s,a)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function d(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=le("log",e,t),this.warn=le("warn",e,t),this.error=le("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:xe,set:xe,remove:xe};var s={remove:function(){t.remove(e)},get:function(){var s=t.get(e),a={};try{a=JSON.parse(s)}catch(s){a={}}return a},set:function(a,o){o=o||{};var n=s.get(),i=Object.assign(n,a);t.set(e,JSON.stringify(i),{domain:o.optInCookieDomain||"",cookieLifetime:o.optInStorageExpiry||3419e4,expires:!0})}};return s}function b(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function m(){function e(e,t){var s=pe(e);return s.length?s.every((function(e){return!!t[e]})):ge(t)}function t(){I(R),x(te.COMPLETE),g(p.status,p.permissions),r&&f.set(p.permissions,{optInCookieDomain:c,optInStorageExpiry:d}),v.execute(ke)}function s(e){return function(s,a){if(!ve(s))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return x(te.CHANGED),Object.assign(R,he(pe(s),e)),a||t(),p}}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.doesOptInApply,n=a.previousPermissions,i=a.preOptInApprovals,r=a.isOptInStorageEnabled,c=a.optInCookieDomain,d=a.optInStorageExpiry,l=a.isIabContext,b=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,m=Ie(n);Ee(m,"Invalid `previousPermissions`!"),Ee(i,"Invalid `preOptInApprovals`!");var f=u({cookieName:"adobeujs-optin"},{cookies:b}),p=this,g=ee(p),v=re(),h=je(m),P=je(i),y=r?f.get():{},j={},C=function(e,t){return Ce(e)||t&&Ce(t)?te.COMPLETE:te.PENDING}(h,y),w=function(e,t,s){var a=he(ie,!o);return o?Object.assign({},a,e,t,s):a}(P,h,y),R=Pe(w),x=function(e){return C=e},I=function(e){return w=e};p.deny=s(!1),p.approve=s(!0),p.denyAll=p.deny.bind(p,ie),p.approveAll=p.approve.bind(p,ie),p.isApproved=function(t){return e(t,p.permissions)},p.isPreApproved=function(t){return e(t,P)},p.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t?p.on(te.COMPLETE,e):xe;return!o||o&&p.isComplete||i?e(p.permissions):t||v.add(ke,(function(){return e(p.permissions)})),s},p.complete=function(){p.status===te.CHANGED&&t()},p.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(_e);j[e.name]||(j[e.name]=e,e.onRegister.call(e,p))},p.execute=Le(j),p.memoizeContent=function(e){Re(e)&&f.set(e,{optInCookieDomain:c,optInStorageExpiry:d})},p.getMemoizedContent=function(e){var t=f.get();if(t)return t[e]},Object.defineProperties(p,{permissions:{get:function(){return w}},status:{get:function(){return C}},Categories:{get:function(){return se}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return p.status===te.PENDING}},isComplete:{get:function(){return p.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(j)}},isIabContext:{get:function(){return l}}})}
function f(e,t){function s(){o=null,e.call(e,new b("The call took longer than you wanted!"))}function a(){o&&(clearTimeout(o),e.apply(e,arguments))}if(void 0===t)return e;var o=setTimeout(s,t);return a}function p(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var s={};return window.__tcfapi=function(e,a,o,n){var i=Math.random()+"",r={__tcfapiCall:{command:e,parameter:n,version:a,callId:i}};s[i]=o,t.postMessage(r,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var a=t.__tcfapiReturn;"function"==typeof s[a.callId]&&(s[a.callId](a.returnValue,a.success),delete s[a.callId])}}),!1),window.__tcfapi}me.error("__tcfapi not found")}else me.error("__tcfapi not found")}function g(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=!0===e.vendor.consents[t],o=s.every((function(t){return!0===e.purpose.consents[t]}));return a&&o}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,s=re(),a={transparencyAndConsentData:null},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[e]=t};e.fetchConsentData=function(e){var t=f(e.callback,e.timeout);n({callback:t})},e.isApproved=function(e){var t=e.callback,s=e.category,o=e.timeout;if(a.transparencyAndConsentData)return t(null,g(a.transparencyAndConsentData,ae[s],oe[s]));var i=f((function(e,a){t(e,g(a,ae[s],oe[s]))}),o);n({category:s,callback:i})},e.onRegister=function(s){t=s;var a=Object.keys(ae),o=function(e,t){!e&&t&&(a.forEach((function(e){var a=g(t,ae[e],oe[e]);s[a?"approve":"deny"](e,!0)})),s.complete())};e.fetchConsentData({callback:o})};var n=function(e){var n=e.callback;if(a.transparencyAndConsentData)return n(null,a.transparencyAndConsentData);s.add("FETCH_CONSENT_DATA",n),i((function(e,n){if(n){var i=Pe(e),r=t.getMemoizedContent("iabConsentHash"),c=be(i.tcString).toString(32);i.consentString=e.tcString,i.hasConsentChangedSinceLastCmpPull=r!==c,o("transparencyAndConsentData",i),t.memoizeContent({iabConsentHash:c})}s.execute("FETCH_CONSENT_DATA",[null,a.transparencyAndConsentData])}))},i=function(e){var t=Ae(ae),s=p();"function"==typeof s&&s("getTCData",2,e,t)}}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,s,a=1;a<arguments.length;++a)for(t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e};var P,y,j={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},C=j.STATE_KEYS_MAP,w=function(e){function t(){}function s(t,s){var a=this;return function(){var o=e(0,t),n={};return n[t]=o,a.setStateAndPublish(n),s(o),o}}this.getMarketingCloudVisitorID=function(e){e=e||t;var a=this.findField(C.MCMID,e),o=s.call(this,C.MCMID,e);return void 0!==a?a:o()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},R=j.MESSAGES,x=j.ASYNC_API_MAP,I=j.SYNC_API_MAP,E=function(){function e(){}function t(e,t){var s=this;return function(){return s.callbackRegistry.add(e,t),s.messageParent(R.GETSTATE),""}}function s(s){this[x[s]]=function(a){a=a||e;var o=this.findField(s,a),n=t.call(this,s,a);return void 0!==o?o:n()}}function a(t){this[I[t]]=function(){return this.findField(t,e)||{}}}Object.keys(x).forEach(s,this),Object.keys(I).forEach(a,this)},T=j.ASYNC_API_MAP,A=function(){Object.keys(T).forEach((function(e){this[T[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},L=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,s){s.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},s.isValueEmpty=function(e){return""===e||s.isObjectEmpty(e)};var a=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};s.getIeVersion=function(){return document.documentMode?document.documentMode:a()?7:null},s.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},s.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},s.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},s.defineGlobalNamespace=function(){return window.adobe=s.isObject(window.adobe)?window.adobe:{},window.adobe},s.pluck=function(e,t){return t.reduce((function(t,s){return e[s]&&(t[s]=e[s]),t}),Object.create(null))},s.parseOptOut=function(e,t,s){t||(t=s,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var a=parseInt(e.d_ottl,10);return isNaN(a)&&(a=7200),{optOut:t,d_ottl:a}},s.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),k=(L.isObjectEmpty,L.isValueEmpty,L.getIeVersion,L.isFirefox,L.encodeAndBuildRequest,L.isObject,L.defineGlobalNamespace,L.pluck,L.parseOptOut,L.normalizeBoolean,s),_=j.MESSAGES,O={0:"prefix",1:"orgID",2:"state"},D=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,s){void 0!==e&&(t[O[s]]=2!==s?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(s){var a=this.parse(s);if(!a||Object.keys(a).length<2)return!0;var o=e!==a.orgID,n=!t||s.origin!==t,i=-1===Object.keys(_).indexOf(a.prefix);return o||n||i},this.send=function(s,a,o){var n=a+"|"+e;o&&o===Object(o)&&(n+="|"+JSON.stringify(o));try{s.postMessage(n,t)}catch(e){}}},S=j.MESSAGES,N=function(e,t,s,a){function o(e){Object.assign(m,e)}function n(e){Object.assign(m.state,e),Object.assign(m.state.ALLFIELDS,e),m.callbackRegistry.executeAll(m.state)}function i(e){if(!g.isInvalid(e)){p=!1;var t=g.parse(e);m.setStateAndPublish(t.state)}}function r(e){!p&&f&&(p=!0,g.send(a,e))}function c(){o(new w(s._generateID)),m.getMarketingCloudVisitorID(),m.callbackRegistry.executeAll(m.state,!0),h.removeEventListener("message",d)}function d(e){if(!g.isInvalid(e)){var t=g.parse(e);p=!1,h.clearTimeout(m._handshakeTimeout),h.removeEventListener("message",d),o(new E(m)),h.addEventListener("message",i),m.setStateAndPublish(t.state),m.callbackRegistry.hasCallbacks()&&r(S.GETSTATE)}}function l(){f&&postMessage?(h.addEventListener("message",d),r(S.HANDSHAKE),m._handshakeTimeout=setTimeout(c,250)):c()}function u(){h.s_c_in||(h.s_c_il=[],h.s_c_in=0),m._c="Visitor",m._il=h.s_c_il,m._in=h.s_c_in,m._il[m._in]=m,h.s_c_in++}function b(){function e(e){0!==e.indexOf("_")&&"function"==typeof s[e]&&(m[e]=function(){})}Object.keys(s).forEach(e),m.getSupplementalDataID=s.getSupplementalDataID,m.isAllowed=function(){return!0}}var m=this,f=t.whitelistParentDomain;m.state={ALLFIELDS:{}},m.version=s.version,m.marketingCloudOrgID=e,m.cookieDomain=s.cookieDomain||"",m._instanceType="child";var p=!1,g=new D(e,f);m.callbackRegistry=k(),m.init=function(){u(),b(),o(new A(m)),l()},m.findField=function(e,t){if(void 0!==m.state[e])return t(m.state[e]),m.state[e]},m.messageParent=r,m.setStateAndPublish=n},V=j.MESSAGES,F=j.ALL_APIS,M=j.ASYNC_API_MAP,B=j.FIELDGROUP_TO_FIELD,U=function(e,t){function s(){var t={};return Object.keys(F).forEach((function(s){var a=F[s],o=e[a]();L.isValueEmpty(o)||(t[s]=o)})),t}function a(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(s){if(e._loading[s]){var a=B[s];t.push(a)}})),t.length?t:null}function o(t){return function s(){var o=a();if(o){var n=M[o[0]];e[n](s,!0)}else t()}}function n(e,a){var o=s();t.send(e,a,o)}function i(e){c(e),n(e,V.HANDSHAKE)}function r(e){o((function(){n(e,V.PARENTSTATE)}))()}function c(s){function a(a){o.call(e,a),t.send(s,V.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var o=e.setCustomerIDs;e.setCustomerIDs=a}return function(e){t.isInvalid(e)||(t.parse(e).prefix===V.HANDSHAKE?i:r)(e.source)}},G=function(e,t){function s(e){return function(s){a[e]=s,++o===n&&t(a)}}var a={},o=0,n=Object.keys(e).length;Object.keys(e).forEach((function(t){var a=e[t];if(a.fn){var o=a.args||[];o.unshift(s(t)),a.fn.apply(a.context||null,o)}}))},K={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),s=t.indexOf(";"+e+"="),a=s<0?s:t.indexOf(";",s+1);return s<0?"":decodeURIComponent(t.substring(s+2+e.length,a<0?t.length:a))},set:function(e,t,s){var o=a(s,"cookieLifetime"),n=a(s,"expires"),i=a(s,"domain"),r=a(s,"secure"),c=a(s,"sameSite"),d=r?"Secure":"",l=c?"SameSite="+c+";":"";if(n&&"SESSION"!==o&&"NONE"!==o){var u=""!==t?parseInt(o||0,10):-60;if(u)(n=new Date).setTime(n.getTime()+1e3*u);else if(1===n){var b=(n=new Date).getYear();n.setYear(b+2+(b<1900?1900:0))}}else n=0;return e&&"NONE"!==o?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(i?" domain="+i+";":"")+l+d,this.get(e)===t):0},remove:function(e,t){var s=a(t,"domain");s=s?" domain="+s+";":"";var o=a(t,"secure"),n=a(t,"sameSite"),i=o?"Secure":"",r=n?"SameSite="+n+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+s+r+i}},H=function(e,t){!e&&h.location&&(e=h.location.hostname);var s,a=e.split("."),o=t||{};for(s=a.length-2;s>=0;s--)if(o.domain=a.slice(s).join("."),K.set("TEST_AMCV_COOKIE_WRITE","cookie",o))return K.remove("TEST_AMCV_COOKIE_WRITE",o),o.domain;return""},W={compare:r,isLessThan:function(e,t){return r(e,t)<0},areVersionsDifferent:function(e,t){return 0!==r(e,t)},isGreaterThan:function(e,t){return r(e,t)>0},isEqual:function(e,t){return 0===r(e,t)}},q=!!h.postMessage,z={postMessage:function(e,t,s){var a=1;t&&(q?s.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(s.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(e,t){var s;try{q&&(e&&(s=function(s){if("string"==typeof t&&s.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(s.origin))return!1;e(s)}),h.addEventListener?h[e?"addEventListener":"removeEventListener"]("message",s):h[e?"attachEvent":"detachEvent"]("onmessage",s))}catch(e){}}},$=function(e){var t,s,a="0123456789",o="",n="",i=8,r=10,c=10,d=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(a+="ABCDEF",t=0;16>t;t++)s=Math.floor(Math.random()*i),4>t&&d[t]<i&&(s=+d[t]),o+=a.substring(s,s+1),s=Math.floor(Math.random()*i),n+=a.substring(s,s+1),i=16;return o+"-"+n}for(t=0;19>t;t++)s=Math.floor(Math.random()*r),6>t&&d[t]<r?(o+=d[t],s=d[t]):o+=a.substring(s,s+1),0===t&&9==s?r=3:((1==t||2==t)&&10!=r&&2>s||2<t)&&(r=10),s=Math.floor(Math.random()*c),n+=a.substring(s,s+1),0===t&&9==s?c=3:((1==t||2==t)&&10!=c&&2>s||2<t)&&(c=10);return o+n},Y=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new h[this.corsMetadata.corsType]},fireCORS:function(t,s){function a(e){var s;try{if((s=JSON.parse(e))!==Object(s))return void o.handleCORSError(t,null,"Response is not JSON")}catch(e){return void o.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var a=t.callback,n=h,i=0;i<a.length;i++)n=n[a[i]];n(s)}catch(e){o.handleCORSError(t,e,"Error forming callback function")}}var o=this;s&&(t.loadErrorHandler=s);try{var n=this.getCORSInstance();n.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=e.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&a(this.responseText)}),n.onerror=function(e){o.handleCORSError(t,e,"onerror")},n.ontimeout=function(e){o.handleCORSError(t,e,"ontimeout")},n.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,s,a){e.CORSErrors.push({corsData:t,error:s,description:a}),t.loadErrorHandler&&("ontimeout"===a?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Z={POST_MESSAGE_ENABLED:!!h.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},J=function(e,t){var s=h.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,a="http://fast.",o="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(s.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(a=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=a+this.subdomain+".demdex.net/dest5.html"+o,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(s.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Z.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(o=s.createElement("iframe")).sandbox="allow-scripts allow-same-origin",o.title="Adobe ID Syncing iFrame",o.id=a.id,o.name=a.id+"_name",o.style.cssText="display: none; width: 0; height: 0;",o.src=a.url,a.newIframeCreated=!0,t(),s.body.appendChild(o)}function t(e){o.addEventListener("load",(function(){o.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()}))}this.startedAttachingIframe=!0;var a=this,o=s.getElementById(this.id);o?"IFRAME"!==o.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==o.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=o,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=o},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function s(){o.jsonForComparison.push(t),o.jsonWaiting.push(t),o.processSyncOnPage(t)}var a,o=this;if(t===Object(t)&&t.ibs)if(a=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var n,i,r,c=!1;for(n=0,i=this.jsonForComparison.length;n<i;n++)if(r=this.jsonForComparison[n],a===JSON.stringify(r.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):s()}else s();if((this.receivedThirdPartyCookiesNotification||!Z.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){o.messageSendingInterval=Z.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,s){var a=e._getField("MCAAMLH"),o=t.d_region||t.dcs_region;return a?o&&(e._setFieldExpire("MCAAMLH",s),e._setField("MCAAMLH",o),parseInt(a,10)!==o&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),a=o)):(a=o)&&(e._setFieldExpire("MCAAMLH",s),e._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,s,a,o;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(a=0;a<s;a++)(o=t[a]).syncOnPage&&this.checkFirstPartyCookie(o,"","syncOnPage")},process:function(e){var t,s,a,o,n,i=encodeURIComponent,r=!1;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(r=!0,a=0;a<s;a++)o=t[a],n=[i("ibs"),i(o.id||""),i(o.tag||""),L.encodeAndBuildRequest(o.url||[],","),i(o.ttl||""),"","",o.fireURLSync?"true":"false"],o.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(n.join("|")):o.fireURLSync&&this.checkFirstPartyCookie(o,n.join("|")));r&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,s,a){var o="syncOnPage"===a,n=o?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var i,r,c=e._getField(n),d=!1,l=!1,u=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);c?(i=c.split("*"),d=(r=this.pruneSyncData(i,t.id,u)).dataPresent,l=r.dataValid,d&&l||this.fireSync(o,t,s,i,n,u)):(i=[],this.fireSync(o,t,s,i,n,u))},pruneSyncData:function(e,t,s){var a,o,n,i=!1,r=!1;for(o=0;o<e.length;o++)a=e[o],n=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(i=!0,s<n?r=!0:(e.splice(o,1),o--)):s>=n&&(e.splice(o,1),o--);return{dataPresent:i,dataValid:r}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,s,a,o,n,i){var r=this;if(t){if("img"===s.tag){var c,d,l,u,b=s.url,m=e.loadSSL?"https:":"http:";for(c=0,d=b.length;c<d;c++){l=b[c],u=/^\/\//.test(l);var f=new Image;f.addEventListener("load",function(t,s,a,o){return function(){r.onPagePixels[t]=null,e._readVisitor();var i,c,d,l,u=e._getField(n),b=[];if(u)for(c=0,d=(i=u.split("*")).length;c<d;c++)(l=i[c]).match("^"+s.id+"-")||b.push(l);r.setSyncTrackingData(b,s,a,o)}}(this.onPagePixels.length,s,n,i)),f.src=(u?m:"")+l,this.onPagePixels.push(f)}}}else this.addMessage(a),this.setSyncTrackingData(o,s,n,i)},addMessage:function(t){var s=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Z.POST_MESSAGE_ENABLED?"":s)+t)},setSyncTrackingData:function(t,s,a,o){t.push(s.id+"-"+(o+Math.ceil(s.ttl/60/24))),this.manageSyncsSize(t),e._setField(a,t.join("*"))},sendMessages:function(){var e,t=this,s="",a=encodeURIComponent;this.regionChanged&&(s=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Z.POST_MESSAGE_ENABLED?(e=s+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(s+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){z.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,s=/^---destpub-to-parent---/;"string"==typeof e&&s.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(s,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(a){(null==this.url||a.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=a.subdomain||"",this.url=this.getUrl()),a.ibs instanceof Array&&a.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===s.readyState||"loaded"===s.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(a):this.requestToProcess(a),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(a)},canMakeSyncIDCall:function(t,s){return e._forceSyncIDCall||!t||s-t>Z.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(s.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Q={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},X={getConfigNames:function(){return Object.keys(Q)},getConfigs:function(){return Q},normalizeConfig:function(e,t){return Q[e]&&"boolean"===Q[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,s,a){if(!s||"function"!=typeof s)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var o=t[e].push({callback:s,context:a})-1;return function(){t[e].splice(o,1),t[e].length||delete t[e]}},e.off=function(e,s){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==s)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var s=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,s)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},se={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ae=(t(P={},se.AAM,565),t(P,se.ECID,565),P),oe=(t(y={},se.AAM,[1,10]),t(y,se.ECID,[1,10]),y),ne=["videoaa","iabConsentHash"],ie=function(e){return Object.keys(e).map((function(t){return e[t]}))}(se),re=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,s){if(!d(s))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var a=e.callbacks[t].push(s)-1;return function(){e.callbacks[t].splice(a,1)}},e.execute=function(t,s){if(e.callbacks[t]){s=(s=void 0===s?[]:s)instanceof Array?s:[s];try{for(;e.callbacks[t].length;){var a=e.callbacks[t].shift();"function"==typeof a?a.apply(null,s):a instanceof Array&&a[1].apply(a[0],s)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,s){(s||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(s){var a=void 0!==t[s]?t[s]:"";e.execute(s,a)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},de=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},le=function(e,t,s){return s()?function(){if(de(e)){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];console[e].apply(console,[t].concat(a))}}:ce},ue=l,be=function(){for(var e=[],t=0;t<256;t++){for(var s=t,a=0;a<8;a++)s=1&s?3988292384^s>>>1:s>>>1;e.push(s)}return function(t,s){t=unescape(encodeURIComponent(t)),s||(s=0),s^=-1;for(var a=0;a<t.length;a++){var o=255&(s^t.charCodeAt(a));s=s>>>8^e[o]}return(s^=-1)>>>0}}(),me=new ue("[ADOBE OPT-IN]"),fe=function(t,s){return e(t)===s},pe=function(e,t){return e instanceof Array?e:fe(e,"string")?[e]:t||[]},ge=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||ye(e))&&pe(e).every((function(e){return ie.indexOf(e)>-1||t&&ne.indexOf(e)>-1}))},he=function(e,t){return e.reduce((function(e,s){return e[s]=t,e}),{})},Pe=function(e){return JSON.parse(JSON.stringify(e))},ye=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},je=function(e){if(Re(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Ce=function(e){return void 0===e||(Re(e)?ve(Object.keys(e),!0):we(e))},we=function(e){try{var t=JSON.parse(e);return!!e&&fe(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},Re=function(e){return null!==e&&fe(e,"object")&&!1===Array.isArray(e)},xe=function(){},Ie=function(e){return fe(e,"function")?e():e},Ee=function(e,t){Ce(e)||me.error("".concat(t))},Te=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ae=function(e){return Te(e).filter((function(e,t,s){return s.indexOf(e)===t}))},Le=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.command,a=t.params,o=void 0===a?{}:a,n=t.callback,i=void 0===n?xe:n;if(!s||-1===s.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var r=s.split("."),c=e[r[0]],d=r[1];if(!c||"function"!=typeof c[d])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(o,{callback:i});c[d].call(c,l)}catch(e){me.error("[execute] Something went wrong: "+e.message)}}};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b;var ke="fetchPermissions",_e="[OptIn#registerPlugin] Plugin is invalid.";m.Categories=se,m.TimeoutError=b;var Oe=Object.freeze({OptIn:m,IabPlugin:v}),De=function(e,t){e.publishDestinations=function(s){var a=arguments[1],o=arguments[2];try{o="function"==typeof o?o:s.callback}catch(e){o=function(){}}var n=t;if(n.readyToAttachIframePreliminary()){if("string"==typeof s){if(!s.length)return void o({error:"subdomain is not a populated string."});if(!(a instanceof Array&&a.length))return void o({error:"messages is not a populated array."});var i=!1;if(a.forEach((function(e){"string"==typeof e&&e.length&&(n.addMessage(e),i=!0)})),!i)return void o({error:"None of the messages are populated strings."})}else{if(!L.isObject(s))return void o({error:"Invalid parameters passed."});var r=s;if("string"!=typeof(s=r.subdomain)||!s.length)return void o({error:"config.subdomain is not a populated string."});var c=r.urlDestinations;if(!(c instanceof Array&&c.length))return void o({error:"config.urlDestinations is not a populated array."});var d=[];c.forEach((function(e){L.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):d.push(e))})),function e(){d.length&&setTimeout((function(){var t=new Image,s=d.shift();t.src=s.url,n.onPageDestinationsFired.push(s),e()}),100)}()}n.iframe?(o({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(n.subdomain=s,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push((function(e){o({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),n.attachIframe()):o({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push((function(e){o({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else o({error:"The destination publishing iframe is disabled in the Visitor library."})}},Se=function e(t){function s(e,t){return e>>>t|e<<32-t}for(var a,o,n=Math.pow,i=n(2,32),r="",c=[],d=8*t.length,l=e.h=e.h||[],u=e.k=e.k||[],b=u.length,m={},f=2;b<64;f++)if(!m[f]){for(a=0;a<313;a+=f)m[a]=f;l[b]=n(f,.5)*i|0,u[b++]=n(f,1/3)*i|0}for(t+="\x80";t.length%64-56;)t+="\0";for(a=0;a<t.length;a++){if((o=t.charCodeAt(a))>>8)return;c[a>>2]|=o<<(3-a)%4*8}for(c[c.length]=d/i|0,c[c.length]=d,o=0;o<c.length;){var p=c.slice(o,o+=16),g=l;for(l=l.slice(0,8),a=0;a<64;a++){var v=p[a-15],h=p[a-2],P=l[0],y=l[4],j=l[7]+(s(y,6)^s(y,11)^s(y,25))+(y&l[5]^~y&l[6])+u[a]+(p[a]=a<16?p[a]:p[a-16]+(s(v,7)^s(v,18)^v>>>3)+p[a-7]+(s(h,17)^s(h,19)^h>>>10)|0);(l=[j+((s(P,2)^s(P,13)^s(P,22))+(P&l[1]^P&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+j|0}for(a=0;a<8;a++)l[a]=l[a]+g[a]|0}for(a=0;a<8;a++)for(o=3;o+1;o--){var C=l[a]>>8*o&255;r+=(C<16?0:"")+C.toString(16)}return r},Ne=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Se(e)),e},Ve=function(e){return String(e).trim().toLowerCase()},Fe=Oe.OptIn;L.defineGlobalNamespace(),window.adobe.OptInCategories=Fe.Categories;var Me=function(t,s,a){function o(){P._customerIDsHashChanged=!1}function n(e){var t=e;return function(e){var s=e||I.location.href;try{var a=P._extractParamFromUri(s,t);if(a)return te.parsePipeDelimetedKeyValues(a)}catch(e){}}}function i(e){function t(e,t,s){e&&e.match(Z.VALID_VISITOR_ID_REGEX)&&(s===_&&(x=!0),t(e))}t(e[_],P.setMarketingCloudVisitorID,_),P._setFieldExpire(F,-1),t(e[N],P.setAnalyticsVisitorID)}function r(e){e=e||{},P._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",P._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},P._supplementalDataIDLast=e.supplementalDataIDLast||"",P._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,s){return(s=s?s+="|":s)+(e+"=")+encodeURIComponent(t)}function s(e,s){var a=s[0],o=s[1];return null!=o&&o!==M&&(e=t(a,o,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(s,""))}function d(e){var t=e.minutesToLive,s="";return(P.idSyncDisableSyncs||P.disableIdSyncs)&&(s=s||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(s=s||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(s=s||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(s=s||"Error: config.minutesToLive needs to be a positive number")),{error:s,ttl:t}}function l(){return!(!P.configs.doesOptInApply||y.optIn.isComplete&&u())}function u(){return P.configs.doesOptInApply&&P.configs.isIabContext?y.optIn.isApproved(y.optIn.Categories.ECID)&&R:y.optIn.isApproved(y.optIn.Categories.ECID)}function b(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],s=2===e.length?e[1]:"",a=P[t];P[t]=function(e){return u()&&P.isAllowed()?a.apply(P,arguments):("function"==typeof e&&P._callCallback(e,[s]),s)}}))}function m(){var e=P._getAudienceManagerURLData(),t=e.url;return P._loadData(k,t,null,e)}function f(e,t){if(R=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(C=t.consentString,w=t.hasConsentChangedSinceLastCmpPull?1:0),m(),v()}function p(e,t){if(R=!0,e)throw new Error("[IAB plugin] : "+e)
;t.gdprApplies&&(C=t.consentString,w=t.hasConsentChangedSinceLastCmpPull?1:0),P.init(),v()}function g(){y.optIn.isComplete&&(y.optIn.isApproved(y.optIn.Categories.ECID)?P.configs.isIabContext?y.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(P.init(),v()):P.configs.isIabContext?y.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(b(),v()))}function v(){y.optIn.off("complete",g)}if(!a||a.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var P=this,y=window.adobe,C="",w=0,R=!1,x=!1;P.version="5.4.0";var I=h,E=I.Visitor;E.version=P.version,E.AuthState=j.AUTH_STATE,E.OptOut=j.OPT_OUT,I.s_c_in||(I.s_c_il=[],I.s_c_in=0),P._c="Visitor",P._il=I.s_c_il,P._in=I.s_c_in,P._il[P._in]=P,I.s_c_in++,P._instanceType="regular",P._log={requests:[]},P.marketingCloudOrgID=t,P.cookieName="AMCV_"+t,P.sessionCookieName="AMCVS_"+t;var T={};s&&s.secureCookie&&s.sameSiteCookie&&(T={sameSite:s.sameSiteCookie,secure:s.secureCookie}),P.cookieDomain=P.useLocalStorage?"":H(null,T),P.loadSSL=!0,P.loadTimeout=3e4,P.CORSErrors=[],P.marketingCloudServer=P.audienceManagerServer="dpm.demdex.net",P.sdidParamExpiry=30;var A=null,k="MC",_="MCMID",O="MCIDTS",S="A",N="MCAID",V="AAM",F="MCAAMB",M="NONE",B=function(e){return!Object.prototype[e]},q=Y(P);P.FIELDS=j.FIELDS,P.cookieRead=function(e){return P.useLocalStorage?e===P.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):K.get(e)},P.cookieWrite=function(e,t,s){var a=""+t;if(P.useLocalStorage)return e===P.sessionCookieName?sessionStorage.setItem(e,a):localStorage.setItem(e,a);var o=P.cookieLifetime?(""+P.cookieLifetime).toUpperCase():"",n={expires:s,domain:P.cookieDomain,cookieLifetime:o};return P.configs&&P.configs.secureCookie&&"https:"===location.protocol&&(n.secure=!0),P.configs&&P.configs.sameSiteCookie&&"https:"===location.protocol&&(n.sameSite=j.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()]||"Lax"),K.set(e,a,n)},P.removeCookie=function(e){if(P.useLocalStorage)return e===P.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:P.cookieDomain};return P.configs&&P.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),P.configs&&P.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=j.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()]||"Lax"),K.remove(e,t)},P.resetState=function(e){e?P._mergeServerState(e):r()},P._isAllowedDone=!1,P._isAllowedFlag=!1,P.isAllowed=function(){return P._isAllowedDone||(P._isAllowedDone=!0,(P.cookieRead(P.cookieName)||P.cookieWrite(P.cookieName,"T",1))&&(P._isAllowedFlag=!0)),"T"===P.cookieRead(P.cookieName)&&P.removeCookie(P.cookieName),P._isAllowedFlag},P.setMarketingCloudVisitorID=function(e){P._setMarketingCloudFields(e)},P._use1stPartyMarketingCloudServer=!1,P.getMarketingCloudVisitorID=function(e,t){P.marketingCloudServer&&P.marketingCloudServer.indexOf(".demdex.net")<0&&(P._use1stPartyMarketingCloudServer=!0);var s=P._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;return P._getRemoteField(_,a,e,t,s)};var Q=function(e,t){var s={};P.getMarketingCloudVisitorID((function(){t.forEach((function(e){s[e]=P._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?P.isOptedOut((function(t){s.MCOPTOUT=t,e(s)}),null,!0):e(s)}),!0)};P.getVisitorValues=function(e,t){var s={MCMID:{fn:P.getMarketingCloudVisitorID,args:[!0],context:P},MCOPTOUT:{fn:P.isOptedOut,args:[void 0,!0],context:P},MCAID:{fn:P.getAnalyticsVisitorID,args:[!0],context:P},MCAAMLH:{fn:P.getAudienceManagerLocationHint,args:[!0],context:P},MCAAMB:{fn:P.getAudienceManagerBlob,args:[!0],context:P}},a=t&&t.length?L.pluck(s,t):s;t&&-1===t.indexOf("MCAID")?Q(e,t):G(a,e)},P._currentCustomerIDs={},P._customerIDsHashChanged=!1,P._newCustomerIDsHash="",P.setCustomerIDs=function(t,s){if(!P.isOptedOut()&&t){if(!L.isObject(t)||L.isObjectEmpty(t))return!1;var a,n,i,r;for(a in P._readVisitor(),t)if(B(a)&&(P._currentCustomerIDs.dataSources=P._currentCustomerIDs.dataSources||{},s=(n=t[a]).hasOwnProperty("hashType")?n.hashType:s,n))if("object"===e(n)){var c={};if(n.id){if(s){if(!(r=Ne(Ve(n.id),s)))return;n.id=r,c.hashType=s}c.id=n.id}null!=n.authState&&(c.authState=n.authState),P._currentCustomerIDs.dataSources[a]=c}else if(s){if(!(r=Ne(Ve(n),s)))return;P._currentCustomerIDs.dataSources[a]={id:r,hashType:s}}else P._currentCustomerIDs.dataSources[a]={id:n};var d=P.getCustomerIDs(!0),l=P._getField("MCCIDH"),u="";for(i in l||(l=0),d){var b=d[i];if(!L.isObjectEmpty(b))for(a in b)B(a)&&(u+=(u?"|":"")+a+"|"+((n=b[a]).id?n.id:"")+(n.authState?n.authState:""))}P._newCustomerIDsHash=String(P._hash(u)),P._newCustomerIDsHash!==l&&(P._customerIDsHashChanged=!0,P._mapCustomerIDs(o))}},P.syncIdentity=function(t,s){if(!P.isOptedOut()&&t){if(!L.isObject(t)||L.isObjectEmpty(t))return!1;var a,n,i,r,c;for(a in P._readVisitor(),t)if(B(a)&&(P._currentCustomerIDs.nameSpaces=P._currentCustomerIDs.nameSpaces||{},s=(n=t[a]).hasOwnProperty("hashType")?n.hashType:s,n&&"object"===e(n))){var d={};if(n.id){if(s){if(!(i=Ne(Ve(n.id),s)))return;n.id=i,d.hashType=s}d.id=n.id}null!=n.authState&&(d.authState=n.authState),n.dataSource&&(P._currentCustomerIDs.dataSources=P._currentCustomerIDs.dataSources||{},r=n.dataSource,P._currentCustomerIDs.dataSources[r]=d),P._currentCustomerIDs.nameSpaces[a]=d}var l=P.getCustomerIDs(!0),u=P._getField("MCCIDH"),b="";for(c in u||(u="0"),l){var m=l[c];if(!L.isObjectEmpty(m))for(a in m)B(a)&&(b+=(b?"|":"")+a+"|"+((n=m[a]).id?n.id:"")+(n.authState?n.authState:""))}P._newCustomerIDsHash=String(P._hash(b)),P._newCustomerIDsHash!==u&&(P._customerIDsHashChanged=!0,P._mapCustomerIDs(o))}},P.getCustomerIDs=function(e){P._readVisitor();var t,s,a={dataSources:{},nameSpaces:{}},o=P._currentCustomerIDs.dataSources;for(t in o)B(t)&&(s=o[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=s.id,null!=s.authState?a.dataSources[t].authState=s.authState:a.dataSources[t].authState=E.AuthState.UNKNOWN,s.hashType&&(a.dataSources[t].hashType=s.hashType));var n=P._currentCustomerIDs.nameSpaces;for(t in n)B(t)&&(s=n[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=s.id,null!=s.authState?a.nameSpaces[t].authState=s.authState:a.nameSpaces[t].authState=E.AuthState.UNKNOWN,s.hashType&&(a.nameSpaces[t].hashType=s.hashType));return e?a:a.dataSources},P.setAnalyticsVisitorID=function(e){P._setAnalyticsFields(e)},P.getAnalyticsVisitorID=function(e,t,s){if(!te.isTrackingServerPopulated()&&!s)return P._callCallback(e,[""]),"";var a="";if(s||(a=P.getMarketingCloudVisitorID((function(){P.getAnalyticsVisitorID(e,!0)}))),a||s){var o=s?P.marketingCloudServer:P.trackingServer,n="";P.loadSSL&&(s?P.marketingCloudServerSecure&&(o=P.marketingCloudServerSecure):P.trackingServerSecure&&(o=P.trackingServerSecure));var i={};if(o){var r="http"+(P.loadSSL?"s":"")+"://"+o+"/id",c=P.configs.cookieLifetime,d="d_visid_ver="+P.version+"&mcorgid="+encodeURIComponent(P.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(c?"&cl="+encodeURIComponent(c):"")+(P.idSyncDisable3rdPartySyncing||P.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",P._in,"_set"+(s?"MarketingCloud":"Analytics")+"Fields"];n=r+"?"+d+"&callback=s_c_il%5B"+P._in+"%5D._set"+(s?"MarketingCloud":"Analytics")+"Fields",i.corsUrl=r+"?"+d,i.callback=l}return i.url=n,P._getRemoteField(s?_:N,n,e,t,i)}return""},P.getAudienceManagerLocationHint=function(e,t){if(P.getMarketingCloudVisitorID((function(){P.getAudienceManagerLocationHint(e,!0)}))){var s=P._getField(N);if(!s&&te.isTrackingServerPopulated()&&(s=P.getAnalyticsVisitorID((function(){P.getAudienceManagerLocationHint(e,!0)}))),s||!te.isTrackingServerPopulated()){var a=P._getAudienceManagerURLData(),o=a.url;return P._getRemoteField("MCAAMLH",o,e,t,a)}}return""},P.getLocationHint=P.getAudienceManagerLocationHint,P.getAudienceManagerBlob=function(e,t){if(P.getMarketingCloudVisitorID((function(){P.getAudienceManagerBlob(e,!0)}))){var s=P._getField(N);if(!s&&te.isTrackingServerPopulated()&&(s=P.getAnalyticsVisitorID((function(){P.getAudienceManagerBlob(e,!0)}))),s||!te.isTrackingServerPopulated()){var a=P._getAudienceManagerURLData(),o=a.url;return P._customerIDsHashChanged&&P._setFieldExpire(F,-1),P._getRemoteField(F,o,e,t,a)}}return""},P._supplementalDataIDCurrent="",P._supplementalDataIDCurrentConsumed={},P._supplementalDataIDLast="",P._supplementalDataIDLastConsumed={},P.getSupplementalDataID=function(e,t){P._supplementalDataIDCurrent||t||(P._supplementalDataIDCurrent=P._generateID(1));var s=P._supplementalDataIDCurrent;return P._supplementalDataIDLast&&!P._supplementalDataIDLastConsumed[e]?(s=P._supplementalDataIDLast,P._supplementalDataIDLastConsumed[e]=!0):s&&(P._supplementalDataIDCurrentConsumed[e]&&(P._supplementalDataIDLast=P._supplementalDataIDCurrent,P._supplementalDataIDLastConsumed=P._supplementalDataIDCurrentConsumed,P._supplementalDataIDCurrent=s=t?"":P._generateID(1),P._supplementalDataIDCurrentConsumed={}),s&&(P._supplementalDataIDCurrentConsumed[e]=!0)),s};var X=!1;P._liberatedOptOut=null,P.getOptOut=function(e,t){var s=P._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;if(u())return P._getRemoteField("MCOPTOUT",a,e,t,s);if(P._registerCallback("liberatedOptOut",e),null!==P._liberatedOptOut)return P._callAllCallbacks("liberatedOptOut",[P._liberatedOptOut]),X=!1,P._liberatedOptOut;if(X)return null;X=!0;var o="liberatedGetOptOut";return s.corsUrl=s.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),s.callback=[o],h[o]=function(e){if(e===Object(e)){var t,s,a=L.parseOptOut(e,t,M);t=a.optOut,s=1e3*a.d_ottl,P._liberatedOptOut=t,setTimeout((function(){P._liberatedOptOut=null}),s)}P._callAllCallbacks("liberatedOptOut",[t]),X=!1},q.fireCORS(s),null},P.isOptedOut=function(e,t,s){t||(t=E.OptOut.GLOBAL);var a=P.getOptOut((function(s){var a=s===E.OptOut.GLOBAL||s.indexOf(t)>=0;P._callCallback(e,[a])}),s);return a?a===E.OptOut.GLOBAL||a.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};P.onReceiveEcid=function(e){if(u())return P.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},P._fields=null,P._fieldsExpired=null,P._hash=function(e){var t,s=0;if(e)for(t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;return s},P._generateID=$,P._generateLocalMID=function(){var e=P._generateID(0);return oe.isClientSideMarketingCloudVisitorID=!0,e},P._callbackList=null,P._callCallback=function(e,t){try{"function"==typeof e?e.apply(I,t):e[1].apply(e[0],t)}catch(e){}},P._registerCallback=function(e,t){t&&(null==P._callbackList&&(P._callbackList={}),null==P._callbackList[e]&&(P._callbackList[e]=[]),P._callbackList[e].push(t))},P._callAllCallbacks=function(e,t){if(null!=P._callbackList){var s=P._callbackList[e];if(s)for(;s.length>0;)P._callCallback(s.shift(),t)}},P._addQuerystringParam=function(e,t,s,a){var o=encodeURIComponent(t)+"="+encodeURIComponent(s),n=te.parseHash(e),i=te.hashlessUrl(e);if(-1===i.indexOf("?"))return i+"?"+o+n;var r=i.split("?"),c=r[0]+"?",d=r[1];return c+te.addQueryParamAtLocation(d,o,a)+n},P._extractParamFromUri=function(e,t){var s=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(s&&s.length)return decodeURIComponent(s[1])},P._parseAdobeMcFromUrl=n(Z.ADOBE_MC),P._parseAdobeMcSdidFromUrl=n(Z.ADOBE_MC_SDID),P._attemptToPopulateSdidFromUrl=function(e){var s=P._parseAdobeMcSdidFromUrl(e),a=1e9;s&&s.TS&&(a=te.getTimestampInSeconds()-s.TS),s&&s.SDID&&s.MCORGID===t&&a<P.sdidParamExpiry&&(P._supplementalDataIDCurrent=s.SDID,P._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},P._attemptToPopulateIdsFromUrl=function(){var e=P._parseAdobeMcFromUrl();if(e&&e.TS){var s=te.getTimestampInSeconds()-e.TS;if(Math.floor(s/60)>Z.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;i(e)}},P._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[P.marketingCloudOrgID]){var t=e[P.marketingCloudOrgID];!function(e){te.isObject(e)&&P.setCustomerIDs(e)}(t.customerIDs),r(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},P._timeout=null,P._loadData=function(e,t,s,a){t=P._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=P._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=P._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),oe.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===q.corsMetadata.corsType&&q.fireCORS(a,s,e)},P._clearTimeout=function(e){null!=P._timeout&&P._timeout[e]&&(clearTimeout(P._timeout[e]),P._timeout[e]=0)},P._settingsDigest=0,P._getSettingsDigest=function(){if(!P._settingsDigest){var e=P.version;P.audienceManagerServer&&(e+="|"+P.audienceManagerServer),P.audienceManagerServerSecure&&(e+="|"+P.audienceManagerServerSecure),P._settingsDigest=P._hash(e)}return P._settingsDigest},P._readVisitorDone=!1,P._readVisitor=function(){if(!P._readVisitorDone){P._readVisitorDone=!0;var e,t,s,a,o,n,i=P._getSettingsDigest(),r=!1,c=P.cookieRead(P.cookieName),d=new Date;if(c||x||P.discardTrackingServerECID||(c=P.cookieRead(Z.FIRST_PARTY_SERVER_COOKIE)),null==P._fields&&(P._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==i&&(r=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)s=(t=c[e].split("-"))[0],a=c[e+1],t.length>1?(o=parseInt(t[1],10),n=t[1].indexOf("s")>0):(o=0,n=!1),r&&("MCCIDH"===s&&(a=""),o>0&&(o=d.getTime()/1e3-60)),s&&a&&(P._setField(s,a,1),o>0&&(P._fields["expire"+s]=o+(n?"s":""),(d.getTime()>=1e3*o||n&&!P.cookieRead(P.sessionCookieName))&&(P._fieldsExpired||(P._fieldsExpired={}),P._fieldsExpired[s]=!0)));!P._getField(N)&&te.isTrackingServerPopulated()&&(c=P.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(a=c[1]).indexOf("["))>=0&&(a=a.substring(0,e)),a&&a.match(Z.VALID_VISITOR_ID_REGEX)&&P._setField(N,a))}},P._appendVersionTo=function(e){var t="vVersion|"+P.version,s=e?P._getCookieVersion(e):null;return s?W.areVersionsDifferent(s,P.version)&&(e=e.replace(Z.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},P._writeVisitor=function(){var e,t,s=P._getSettingsDigest();for(e in P._fields)B(e)&&P._fields[e]&&"expire"!==e.substring(0,6)&&(t=P._fields[e],s+=(s?"|":"")+e+(P._fields["expire"+e]?"-"+P._fields["expire"+e]:"")+"|"+t);s=P._appendVersionTo(s),P.cookieWrite(P.cookieName,s,1)},P._getField=function(e,t){return null==P._fields||!t&&P._fieldsExpired&&P._fieldsExpired[e]?null:P._fields[e]},P._setField=function(e,t,s){null==P._fields&&(P._fields={}),P._fields[e]=t,s||P._writeVisitor()},P._getFieldList=function(e,t){var s=P._getField(e,t);return s?s.split("*"):null},P._setFieldList=function(e,t,s){P._setField(e,t?t.join("*"):"",s)},P._getFieldMap=function(e,t){var s=P._getFieldList(e,t);if(s){var a,o={};for(a=0;a<s.length;a+=2)o[s[a]]=s[a+1];return o}return null},P._setFieldMap=function(e,t,s){var a,o=null;if(t)for(a in o=[],t)B(a)&&(o.push(a),o.push(t[a]));P._setFieldList(e,o,s)},P._setFieldExpire=function(e,t,s){var a=new Date;a.setTime(a.getTime()+1e3*t),null==P._fields&&(P._fields={}),P._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(s?"s":""),t<0?(P._fieldsExpired||(P._fieldsExpired={}),P._fieldsExpired[e]=!0):P._fieldsExpired&&(P._fieldsExpired[e]=!1),s&&(P.cookieRead(P.sessionCookieName)||P.cookieWrite(P.sessionCookieName,"1"))},P._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=M),t&&(t===M||t.match(Z.VALID_VISITOR_ID_REGEX))||(t="")),t},P._setFields=function(t,s){if(P._clearTimeout(t),null!=P._loading&&(P._loading[t]=!1),oe.fieldGroupObj[t]&&oe.setState(t,!1),t===k){!0!==oe.isClientSideMarketingCloudVisitorID&&(oe.isClientSideMarketingCloudVisitorID=!1);var a=P._getField(_);if(!a||P.overwriteCrossDomainMCIDAndAID){if(!(a="object"===e(s)&&s.mid?s.mid:P._findVisitorID(s))){if(P._use1stPartyMarketingCloudServer&&!P.tried1stPartyMarketingCloudServer)return P.tried1stPartyMarketingCloudServer=!0,void P.getAnalyticsVisitorID(null,!1,!0);a=P._generateLocalMID()}P._setField(_,a)}a&&a!==M||(a=""),"object"===e(s)&&((s.d_region||s.dcs_region||s.d_blob||s.blob)&&P._setFields(V,s),P._use1stPartyMarketingCloudServer&&s.mid&&P._setFields(S,{id:s.id})),P._callAllCallbacks(_,[a])}if(t===V&&"object"===e(s)){var o=604800;null!=s.id_sync_ttl&&s.id_sync_ttl&&(o=parseInt(s.id_sync_ttl,10));var n=se.getRegionAndCheckIfChanged(s,o);P._callAllCallbacks("MCAAMLH",[n]);var i=P._getField(F);(s.d_blob||s.blob)&&((i=s.d_blob)||(i=s.blob),P._setFieldExpire(F,o),P._setField(F,i)),i||(i=""),P._callAllCallbacks(F,[i]),!s.error_msg&&P._newCustomerIDsHash&&P._setField("MCCIDH",P._newCustomerIDsHash)}if(t===S){var r=P._getField(N);r&&!P.overwriteCrossDomainMCIDAndAID||((r=P._findVisitorID(s))?r!==M&&P._setFieldExpire(F,-1):r=M,P._setField(N,r)),r&&r!==M||(r=""),P._callAllCallbacks(N,[r])}if(P.idSyncDisableSyncs||P.disableIdSyncs)se.idCallNotProcesssed=!0;else{se.idCallNotProcesssed=!1;var c={};c.ibs=s.ibs,c.subdomain=s.subdomain,se.processIDCallData(c)}if(s===Object(s)){var d,l;u()&&P.isAllowed()&&(d=P._getField("MCOPTOUT"));var b=L.parseOptOut(s,d,M);d=b.optOut,l=b.d_ottl,P._setFieldExpire("MCOPTOUT",l,!0),P._setField("MCOPTOUT",d),P._callAllCallbacks("MCOPTOUT",[d])}},P._loading=null,P._getRemoteField=function(e,t,s,a,o){var n,i="",r=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&P.isAllowed())if(P._readVisitor(),!(!(i=P._getField(e,!0===c[e]))||P._fieldsExpired&&P._fieldsExpired[e])||P.disableThirdPartyCalls&&!r)i||(e===_?(P._registerCallback(e,s),i=P._generateLocalMID(),P.setMarketingCloudVisitorID(i)):e===N?(P._registerCallback(e,s),i="",P.setAnalyticsVisitorID(i)):(i="",a=!0));else if(e===_||"MCOPTOUT"===e?n=k:"MCAAMLH"===e||e===F?n=V:e===N&&(n=S),n)return!t||null!=P._loading&&P._loading[n]||(null==P._loading&&(P._loading={}),P._loading[n]=!0,n===V&&(w=0),P._loadData(n,t,(function(t){if(!P._getField(e)){t&&oe.setState(n,!0);var s="";e===_?s=P._generateLocalMID():n===V&&(s={error_msg:"timeout"}),P._setFields(n,s)}}),o)),P._registerCallback(e,s),i||(t||P._setFields(n,{id:M}),"");return e!==_&&e!==N||i!==M||(i="",a=!0),s&&a&&P._callCallback(s,[i]),e===_&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){P._callCallback(e,[i])})),ee.subscribed=!1,ee.callbacks.length=0),i},P._setMarketingCloudFields=function(e){P._readVisitor(),P._setFields(k,e)},P._mapCustomerIDs=function(e){P.getAudienceManagerBlob(e,!0)},P._setAnalyticsFields=function(e){P._readVisitor(),P._setFields(S,e)},P._setAudienceManagerFields=function(e){P._readVisitor(),P._setFields(V,e)},P._getAudienceManagerURLData=function(e){var t=P.audienceManagerServer,s="",a=P._getField(_),o=P._getField(F,!0),n=P._getField(N),i=n&&n!==M?"&d_cid_ic=AVID%01"+encodeURIComponent(n):"";if(P.loadSSL&&P.audienceManagerServerSecure&&(t=P.audienceManagerServerSecure),t){var r,c,d,l=P.getCustomerIDs(!0);if(l)for(c in l){var u=l[c];if(!L.isObjectEmpty(u)){var b="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(r in u)B(r)&&(d=u[r],i+=b+encodeURIComponent(r)+"%01"+encodeURIComponent(d.id?d.id:"")+(d.authState?"%01"+d.authState:""))}}e||(e="_setAudienceManagerFields");var m="http"+(P.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+P.version+(C&&-1!==m.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+C:"")+(w&&-1!==m.indexOf("demdex.net")?"&d_cf="+w:"")+"&d_rtbd=json&d_ver=2"+(!a&&P._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(P.marketingCloudOrgID)+"&d_nsid="+(P.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(P.idSyncDisable3rdPartySyncing||P.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===A?"&d_coop_safe=1":!1===A?"&d_coop_unsafe=1":"")+(o?"&d_blob="+encodeURIComponent(o):"")+i,p=["s_c_il",P._in,e];return{url:s=m+"?"+f+"&d_cb=s_c_il%5B"+P._in+"%5D."+e,corsUrl:m+"?"+f,callback:p}}return{url:s}},P.appendVisitorIDsTo=function(e){try{var t=[[_,P._getField(_)],[N,P._getField(N)],["MCORGID",P.marketingCloudOrgID]];return P._addQuerystringParam(e,Z.ADOBE_MC,c(t))}catch(t){return e}},P.appendSupplementalDataIDTo=function(e,t){if(!(t=t||P.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var s=c([["SDID",t],["MCORGID",P.marketingCloudOrgID]]);return P._addQuerystringParam(e,Z.ADOBE_MC_SDID,s)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,s){var a=e.split("&");return s=null!=s?s:a.length,a.splice(s,0,t),a.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,s){return e===N&&(t||(t=P.trackingServer),s||(s=P.trackingServerSecure),!("string"!=typeof(a=P.loadSSL?s:t)||!a.length)&&a.indexOf("2o7.net")<0&&a.indexOf("omtrdc.net")<0);var a},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){K.remove(e,{domain:P.cookieDomain})},isTrackingServerPopulated:function(){return!!P.trackingServer||!!P.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var s=t.split("=");return e[s[0]]=decodeURIComponent(s[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",s="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=s[Math.floor(Math.random()*s.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var s in e)e.hasOwnProperty(s)&&"function"==typeof e[s]&&(e[s]=t);return e}};P._helpers=te;var se=J(P,E);P._destinationPublishing=se,P.timeoutMetricsLog=[];var ae,oe={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case k:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case S:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case V:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};P.isClientSideMarketingCloudVisitorID=function(){return oe.isClientSideMarketingCloudVisitorID},P.MCIDCallTimedOut=function(){return oe.MCIDCallTimedOut},P.AnalyticsIDCallTimedOut=function(){return oe.AnalyticsIDCallTimedOut},P.AAMIDCallTimedOut=function(){return oe.AAMIDCallTimedOut},P.idSyncGetOnPageSyncInfo=function(){return P._readVisitor(),P._getField("MCSYNCSOP")},P.idSyncByURL=function(e){if(!P.isOptedOut()){var t=d(e||{});if(t.error)return t.error;var s,a,o=e.url,n=encodeURIComponent,i=se;return o=o.replace(/^https:/,"").replace(/^http:/,""),s=L.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),a=["ibs",n(e.dpid),"img",n(o),t.ttl,"",s],i.addMessage(a.join("|")),i.requestToProcess(),"Successfully queued"}},P.idSyncByDataSource=function(e){if(!P.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,P.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},De(P,se),P._getCookieVersion=function(e){e=e||P.cookieRead(P.cookieName);var t=Z.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},P._resetAmcvCookie=function(e){var t=P._getCookieVersion();t&&!W.isLessThan(t,e)||P.removeCookie(P.cookieName)},P.setAsCoopSafe=function(){A=!0},P.setAsCoopUnsafe=function(){A=!1},function(){if(P.configs=Object.create(null),te.isObject(s))for(var e in s)B(e)&&(P[e]=s[e],P.configs[e]=s[e])}(),b(),P.init=function(){l()&&(y.optIn.fetchPermissions(g,!0),!y.optIn.isApproved(y.optIn.Categories.ECID))||ae||(ae=!0,function(){if(te.isObject(s)){P.idSyncContainerID=P.idSyncContainerID||0,A="boolean"==typeof P.isCoopSafe?P.isCoopSafe:te.parseBoolean(P.isCoopSafe),P.resetBeforeVersion&&P._resetAmcvCookie(P.resetBeforeVersion),P._attemptToPopulateIdsFromUrl(),P._attemptToPopulateSdidFromUrl(),P._readVisitor();var e=P._getField(O),t=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);P.idSyncDisableSyncs||P.disableIdSyncs||!se.canMakeSyncIDCall(e,t)||(P._setFieldExpire(F,-1),P._setField(O,t)),P.getMarketingCloudVisitorID(),P.getAudienceManagerLocationHint(),P.getAudienceManagerBlob(),P._mergeServerState(P.serverState)}else P._attemptToPopulateIdsFromUrl(),P._attemptToPopulateSdidFromUrl()}(),function(){if(!P.idSyncDisableSyncs&&!P.disableIdSyncs){se.checkDPIframeSrc();var e=function(){var e=se;e.readyToAttachIframe()&&e.attachIframe()};I.addEventListener("load",(function(){E.windowLoaded=!0,e()}));try{z.receiveMessage((function(e){se.receiveMessage(e.data)}),se.iframeHost)}catch(e){}}}(),P.whitelistIframeDomains&&Z.POST_MESSAGE_ENABLED&&(P.whitelistIframeDomains=P.whitelistIframeDomains instanceof Array?P.whitelistIframeDomains:[P.whitelistIframeDomains],P.whitelistIframeDomains.forEach((function(e){var s=new D(t,e),a=U(P,s);z.receiveMessage(a,e)}))))}};Me.config=X,h.Visitor=Me;var Be=Me,Ue=function(e){if(L.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&X.getConfigs()[t]})).reduce((function(t,s){var a=X.normalizeConfig(s,e[s]),o=L.normalizeBoolean(a);return t[s]=o,t}),Object.create(null))},Ge=Oe.OptIn,Ke=Oe.IabPlugin;Be.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var s=function(){var t=h.s_c_il;if(t)for(var s=0;s<t.length;s++){var a=t[s];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===e)return a}}();if(s)return s;var a=Ue(t)||{};!function(e){h.adobe.optIn=h.adobe.optIn||function(){var t=L.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),s=e.optInCookieDomain||e.cookieDomain;s=(s=s||H())===window.location.hostname?"":s,t.optInCookieDomain=s;var a=new Ge(t,{cookies:K});if(t.isIabContext&&t.doesOptInApply){var o=new Ke;a.registerPlugin(o)}return a}()}(a||{});var o=e.split("").reverse().join(""),n=new Be(e,null,o);a.cookieDomain&&(n.cookieDomain=a.cookieDomain),a.sameSiteCookie&&a.secureCookie&&(n.configs={sameSiteCookie:a.sameSiteCookie,secureCookie:a.secureCookie}),h.s_c_il.splice(--h.s_c_in,1);var i=L.getIeVersion();if("number"==typeof i&&i<10)return n._helpers.replaceMethodsWithFunction(n,(function(){}));var r=function(){try{return h.self!==h.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(n)||L.isFirefox()&&!a.whitelistParentDomain)&&h.parent?new N(e,a,n,h.parent):new Be(e,a,o);return n=null,r.init(),r},function(){function e(){Be.windowLoaded=!0}h.addEventListener?h.addEventListener("load",e):h.attachEvent&&h.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"bmw-group-utility-kit":{displayName:"Utility Kit",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/",settings:{webDL:{dataElement:"%webDL%"},privacyManager:{type:{code:function(e){return"true"===_satellite.getVar("splitConsentEnabled")?e.EPAAS_SPLIT:e.EPAAS_NON_SPLIT}},methodSettings:{code:function(){}}}},modules:{"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js":{name:"snapshot-attribute",displayName:"Snapshot Attribute",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(e){var t=e.snapshotAttribute&&e.snapshotAttribute.path;return a.getSnapshot().get(t)}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js":{name:"data-layer-snapshot",displayName:"Data Layer Snapshot",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(){return a.getSnapshot()}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js":{name:"helper-tools",displayName:"Helper Tools",script:function(e,t,s){"use strict";var a=s("../helpers/external_modules/deepFreeze.js")({cache:s("../helpers/cache.js"),hooks:s("../helpers/hooks.js"),privacyManager:s("../helpers/privacyManager.js")});e.exports=function(){return a}}},"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js":{name:"discard-snapshot",displayName:"Discard Snapshot",script:function(e,t,s,a){"use strict";var o=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(){o.removeSnapshot(),n&&n().then((function(){o.removeSnapshot()}))}}},"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js":{name:"take-snapshot",displayName:"Take Snapshot",script:function(e,t,s,a){"use strict";var o=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(e,t){t.detail=t.detail||{},t.detail.snapshotDL=o.takeSnapshot(t.$rule.name,t.detail.webDL),n&&n().then((function(){o.takeSnapshot(t.$rule.name,t.detail.snapshotDL.snapshot)}))}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js":{script:function(e,t,s,a){"use strict";function o(e,t,s){if(!e)throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class");this.debug={takenAt:e};var o=a.getExtensionSettings().webDL&&a.getExtensionSettings().webDL.dataElement;t||o?(this.snapshot=JSON.parse(JSON.stringify(t||o)),this.debug.type=s||(t?r.PARAMETER:o?r.WEBDL:r.EMPTY)):(a.logger.warn("NOTE: Website datalayer not available while creating the snapshot"),this.snapshot={},this.debug.type=r.EMPTY)}var n,i=s("./external_modules/deepFreeze"),r={FALLBACK:"CURRENT_DATALAYER_STATE",WEBDL:"WEBSITE_DATALAYER",PARAMETER:"CUSTOM_PARAMETER",EMPTY:"EMPTY"};o.prototype.get=function(e,t){try{for(var s=["","na","not set","n/a","not available","not yet available","not selected","unknown"],o=(e=e||"").split("."),n=this.snapshot,i=0;i<o.length&&null!=n;i++)n=Array.isArray(n)&&/-[0-9]+/.test(o[i])?n[n.length-Math.abs(parseInt(o[i]))]:n[o[i]];return"string"==typeof n&&s.indexOf(n.toLowerCase())>-1?t||"datalayer field empty":n||t||"datalayer field missing"}catch(e){a.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-",e)}};var c=function(){this.takeSnapshot=function(e,t){return n=new o(e,t),i(n)},this.getSnapshot=function(){return n||(a.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"),i(new o("NO_SNAPSHOT_AVAILABLE",void 0,r.FALLBACK)))},this.removeSnapshot=function(){n=void 0}};e.exports=new c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js":{script:function(e){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(s){!t.hasOwnProperty(s)||null===t[s]||"object"!=typeof t[s]&&"function"!=typeof t[s]||Object.isFrozen(t[s])||e(t[s])})),t}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js":{script:function(e,t,s,a){"use strict";function o(e){return r[e]}function n(e,t){void 0!==o(e)&&a.logger.log('Overwriting cache["'+e+'"]'),r[e]=t}function i(e){return delete r[e]}var r={};e.exports={get:o,set:n,remove:i}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js":{script:function(e,t,s,a){function o(e){this.action=e.action,this.type=e.type&&"string"==typeof e.type&&e.type.toLowerCase()}function n(e){this.newReference=void 0,this.reference=e.method,this.hooks=[new o(e)]}function i(){var e=[];this.find=function(t){for(var s=e.length-1;s>=0;s--)if(e[s].reference===t||e[s].newReference===t)return e[s]},this.findIndex=function(t){for(var s=e.length-1;s>=0;s--)if(e[s].reference===t||e[s].newReference===t)return s},this.add=function(t){e.push(t)},this.remove=function(t){var s=this.findIndex(t);if(s)return e.splice(s,1)[0]}}function r(){var e=new i;this.add=function(t){if("object"!=typeof t||!t.method||!t.action||!t.type)throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys");var s=e.find(t.method);return s?s.addHook(t):e.add(new n(t)),e.find(t.method).getNewDefinition()},this.remove=function(t,s){var a=e.find(t);a&&a.removeHook(s)},this.removeAll=function(t){return e.remove(t).reference},this.get=function(t){var s=e.find(t);return s?s.getHooks():[]}}o.prototype.execute=function(e,t){try{return this.action.apply(e,t)}catch(e){a.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-",e)}},n.prototype.removeHook=function(e){for(var t=this.hooks.length-1;t>=0;t--)this.hooks[t].action===e&&this.hooks.splice(t,1)},n.prototype.addHook=function(e){
e.type&&"string"==typeof e.type&&"overwrite"===e.type.toLowerCase()?(this.hooks.length&&a.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-",this.hooks),this.hooks=[new o(e)]):"overwrite"===this.hooks[0].type?a.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ",this.hooks[0]):this.hooks=this.hooks.concat(new o(e))},n.prototype.getHooks=function(){return this.hooks},n.prototype.executePreHooks=function(e,t){for(var s=this.hooks.filter((function(e){return"pre"===e.type})),a=0;a<s.length;a++)t=s[a].execute(e,JSON.parse(JSON.stringify(t)))||t;return t},n.prototype.executePostHooks=function(e,t){for(var s=this.hooks.filter((function(e){return"post"===e.type})),a=0;a<s.length;a++)t=s[a].execute(e,[JSON.parse(JSON.stringify(t))])||t;return t},n.prototype.getNewDefinition=function(){var e=this;return e.newReference=e.newReference||function(){var t="overwrite"===e.hooks[0].type?e.hooks[0]:void 0;if(t)return t.execute(this,arguments);var s=Array.prototype.slice.call(arguments);s=e.executePreHooks(this,s);try{var o=e.reference.apply(this,s)}catch(e){a.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-",e)}return o=e.executePostHooks(this,o)},e.newReference};var c=new r;e.exports=c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js":{script:function(e,t,s,a){function o(e){a.logger.error("UTILITY-KIT:"+e),a.logger.debug("UTILITY-KIT:Privacy Manager State-"+this.state),a.logger.debug("UTILITY-KIT:Privacy Manager Type-"+this.type)}function n(e){var t;Object.defineProperty(this,"type",{get:function(){return e}}),Object.defineProperty(this,"state",{get:function(){return t}}),Object.defineProperty(this,"ENUM_TYPE",{get:function(){return c(b)}});var s=this;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT||this.type==b.CON_TRACKING_API?(t=m.IDENTIFIED,this.onInit((function(){t=m.INITIALIZED,s.type==b.EPAAS_SPLIT&&(r.get=d.add({method:r.get,action:consentcontroller.api.getPersistence,type:"overwrite"}),r.set=d.add({method:r.set,action:function(){return consentcontroller.api.setPersistence(arguments[0],arguments[1])},type:"overwrite"}))}))):t=m.UNKNOWN}var i=s("@adobe/reactor-window"),r=s("@adobe/reactor-cookie"),c=s("./external_modules/deepFreeze.js"),d=s("./hooks"),l=a.getExtensionSettings(),u=l&&l.privacyManager||{},b={EPAAS_SPLIT:"EPAAS_SPLIT",EPAAS_NON_SPLIT:"EPAAS_NON_SPLIT",CON_TRACKING_API:"CON_TRACKING_API",OTHERS:"OTHERS"},m={IDENTIFIED:"WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT",INITIALIZED:"WEBSITE_API_INITIALIZED",UNKNOWN:"WEBSITE_API_NOT_RECOGNIZED"};n.prototype.onInit=function(e){this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?(i.consentcontroller&&i.consentcontroller.api||i).addEventListener("consentcontroller.api.initialized",e):this.type==b.CON_TRACKING_API?i.digital&&i.digital.tracking&&null!=i.digital.tracking.dtmReady?e():i.addEventListener("digital:tracking:trackingReady",e):o.call(this,"Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method")},n.prototype.isTrackingAllowed=function(e){return this.state!=m.INITIALIZED?(a.logger.warn("UTILITY-KIT:"+this.type+" is not initialized, tracking status will be returned as false"),!1):this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?consentcontroller.api.isUsageAllowed(e):this.type==b.CON_TRACKING_API?!i.digital.tracking.isTrackingDisabled():(o.call(this,"Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"),!1)},n.prototype.registerOnConsentChange=function(){var e=arguments;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.onInit((function(){consentcontroller.api.registerOnUserConsentChange.apply(null,e)})):this.type==b.CON_TRACKING_API?this.onInit((function(){i.digital.tracking.registerOnConsentChange.apply(i.digital.tracking,e)})):o.call(this,"Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method")},n.prototype.isCookieDrawerShown=function(){return this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.state==m.INITIALIZED&&consentcontroller.api.showDisclaimer():this.type==b.CON_TRACKING_API?void 0===r.get("cc_ConsentCookie"):void o.call(this,"Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method")};try{var f;u.type&&u.type.code&&(f=u.type.code(b))}catch(e){a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}f!==b.EPAAS_SPLIT&&f!==b.EPAAS_NON_SPLIT&&f!==b.CON_TRACKING_API&&f!==b.OTHERS&&(a.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"),f=b.OTHERS);var p=new n(f);try{f===b.OTHERS&&u.methodSettings&&u.methodSettings.code&&u.methodSettings.code(p)}catch(e){a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}e.exports=p}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-cookie");e.exports=function(e){return a.get(e.name)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return a.location.href;case"hostname":return a.location.hostname;case"pathname":return a.location.pathname;case"protocol":return a.location.protocol;case"referrer":return a.referrer;case"title":return a.title}}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-query-string");e.exports=function(e){var t=o.parse(a.location.search);if(!e.caseInsensitive)return t[e.name];for(var s=e.name.toLowerCase(),n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];if(r.toLowerCase()===s)return t[r]}}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,s,a){"use strict";var o,n,i,r,c=s("@adobe/reactor-document"),d=s("@adobe/reactor-promise"),l=s("./helpers/decorateCode"),u=s("./helpers/loadCodeSequentially"),b=s("../../../node_modules/postscribe/dist/postscribe"),m=s("./helpers/unescapeHtmlCode"),f=s("../helpers/findPageScript").getTurbine,p=(n=function(e){b(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return o&&"script"===t&&(e.attrs.nonce=o),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){a.logger.error(e.msg)}})},i=[],r=function(){if(c.body)for(;i.length;)n(i.shift());else setTimeout(r,20)},function(e){i.push(e),r()}),g=function(){if(c.currentScript)return c.currentScript.async;var e=f();return!e||e.async}();e.exports=function(e,t){var s;o=a.getExtensionSettings().cspNonce;var n={settings:e,event:t},i=n.settings.source;if(i)return n.settings.isExternal?u(i).then((function(e){return e?(s=l(n,e),p(s.code),s.promise):d.resolve()})):(s=l(n,i),g||"loading"!==c.readyState?p(s.code):c.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?c.write(s.code):p(s.code),s.promise)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,s,a){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var s=o[e];if(s){var n={identifier:e,detail:t};s.forEach((function(e){e(n)}));var i=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&i.push(t),a.logger.log.apply(a.logger,i)}else a.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var s=o[e.identifier];s||(s=o[e.identifier]=[]),s.push(t)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.hostname;return e.subdomains.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,s){"use strict";var a=s("../helpers/stringAndNumberUtils").isString,o=s("../helpers/stringAndNumberUtils").isNumber,n=s("../helpers/stringAndNumberUtils").castToStringIfNumber,i=s("../helpers/stringAndNumberUtils").castToNumberIfString,r=function(e,t){return t&&a(e)?e.toLowerCase():e},c=function(e){return function(t,s,o){return t=n(t),s=n(s),a(t)&&a(s)&&e(t,s,o)}},d=function(e){return function(t,s){return t=i(t),s=i(s),o(t)&&o(s)&&e(t,s)}},l=function(e){return function(t,s,a){return e(r(t,a),r(s,a))}},u={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,s){return new RegExp(t,s?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:d((function(e,t){return e<t})),lessThanOrEqual:d((function(e,t){return e<=t})),greaterThan:d((function(e,t){return e>t})),greaterThanOrEqual:d((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.pathname;return e.paths.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),o=[];e.exports=function(e,t){var s=e.type;-1===o.indexOf(s)&&(o.push(s),window.addEventListener(s,a.evaluateEvent,!0)),a.addListener(e,(function(e){e.nativeEvent.type===s&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("./helpers/createBubbly")(),n=new(s("./helpers/weakMap")),i=2,r=s("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==i)for(var t=e.target;t;){var s=t.tagName;if(s&&"a"===s.toLowerCase()){var o=t.getAttribute("href"),n=t.getAttribute("target");return o&&(!n||"_self"===n||"_top"===n&&a.top===a||n===a.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",o.evaluateEvent,!0),e.exports=function(e,t){o.addListener(e,(function(s){var o=s.nativeEvent;if(!o.s_fe){var i=r(e.anchorDelay);if(i&&!n.has(o)){var d=c(o);d&&(o.preventDefault(),setTimeout((function(){a.location=d.href}),i)),n.set(o,!0)}t(s)}}))},e.exports.__reset=o.__reset}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.pathname+a.location.search;return e.paths.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),o=s("../helpers/textMatch");document.addEventListener("change",a.evaluateEvent,!0),e.exports=function(e,t){var s=Array.isArray(e.acceptableChangeValues)?e.acceptableChangeValues:[];"string"==typeof e.value&&s.push({value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}),a.addListener(e,(function(e){return s.length?(s.forEach((function(s){var a=s.valueIsRegex?new RegExp(s.value,"i"):s.value;if(o(e.target.value,a))return t(e),!0})),!1):(t(e),!0)}))}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,s){"use strict";var a=s("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,s)}))}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=/[|\\{}()[\]^$+*?.-]/g,n=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")};e.exports=function(e){var t=a.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+n(e)+"$","i"))}))}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,s){"use strict";var a=s("./helpers/debounce"),o=s("./helpers/once"),n=window.history,i=window.location.href,r=[],c=function(e,t,s){var a=e[t];e[t]=function(){var t=a.apply(e,arguments);return s.apply(null,arguments),t}},d=a((function(){var e=window.location.href;i!==e&&(r.forEach((function(e){e()})),i=e)}),0),l=o((function(){n&&(n.pushState&&c(n,"pushState",d),n.replaceState&&c(n,"replaceState",d)),window.addEventListener("popstate",d),window.addEventListener("hashchange",d)}));e.exports=function(e,t){l(),r.push(t)}}},"core/src/lib/actions/directCall.js":{name:"direct-call",displayName:"Trigger Direct Call",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window");e.exports=function(e){if(e&&e.identifier){var t=e.detail;if(t&&Array.isArray(t.eventObjectEntries)&&t.eventObjectEntries.length){var s={};t.eventObjectEntries.forEach((function(e){s[e.key]=e.value})),a._satellite.track(e.identifier,s)}else a._satellite.track(e.identifier)}}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")();document.addEventListener("submit",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,t)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,s,a){"use strict";var o={},n={};setInterval((function(){Object.keys(o).forEach((function(e){var t=JSON.stringify(a.getDataElementValue(e));if(t!==n[e]){var s={dataElementName:e};o[e].forEach((function(e){e(s)})),n[e]=t}}))}),1e3),e.exports=function(e,t){var s=e.name,i=o[s];i||(i=o[s]=[],n[s]=JSON.stringify(a.getDataElementValue(s))),i.push(t)}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,s){"use strict";var a=s("../helpers/getObjectProperty"),o=s("../helpers/textMatch");e.exports=function(e){var t;t=Array.isArray(e.variableValues)?e.variableValues:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}];var s=a(window,e.name);return t.some((function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(s,t)}))}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,s){"use strict";var a,o=s("@adobe/reactor-document"),n=s("@adobe/reactor-window"),i=s("./helpers/weakMap"),r=s("./helpers/enableWeakMapDefaultValue"),c=s("./helpers/matchesSelector"),d=s("./helpers/matchesProperties"),l=s("../helpers/stringAndNumberUtils").castToNumberIfString,u=s("../helpers/intersectionObserverIntervals"),b={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},m=r(new i,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),f={},p=function(e){var t=m.get(e);t.inViewport||(t.inViewport=!0,Object.keys(f).forEach((function(s){c(e,s)&&f[s].forEach((function(s){if(d(e,s.settings.elementProperties)&&-1===t.completedListeners.indexOf(s)){var a=function(){(s.settings.frequency||b.FIRST_ENTRY)===b.FIRST_ENTRY&&t.completedListeners.push(s),s.trigger({element:e,target:e,delay:s.settings.delay})};if(s.settings.delay){var o=n.setTimeout((function(){Boolean(m.get(e).inViewport)&&a()}),s.settings.delay);t.timeoutIds.push(o)}else a()}}))})))},g=function(e){var t=m.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},v=[],h=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?p(e.target):g(e.target)}))}),{root:null,rootMargin:"0px"}),P=function(e){e&&o.querySelectorAll(e).forEach((function(e){h.observe(e)}))};a=function(){P(v.join(",")),v=[];var e=n.setInterval((function(){P(Object.keys(f).join(","))}),u.standard.pageElementsRefresh);n.addEventListener("beforeunload",(function(){h.disconnect(),n.clearInterval(e)}),!1)},"loading"!==o.readyState?a():o.addEventListener("DOMContentLoaded",a),e.exports=function(e,t){if(e.elementSelector){var s=f[e.elementSelector],a=Boolean(!s);a&&(s=f[e.elementSelector]=[]),e.delay=l(e.delay),s.push({settings:e,trigger:t}),"loading"===o.readyState?v.push(e.elementSelector):a&&P(e.elementSelector)}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,s){"use strict";var a=s("./decorators/decorateGlobalJavaScriptCode"),o=s("./decorators/decorateNonGlobalJavaScriptCode"),n={javascript:function(e,t){return e.settings.global?a(e,t):o(e,t)},html:s("./decorators/decorateHtmlCode")};e.exports=function(e,t){return n[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise"),o=s("./getSourceByUrl"),n=a.resolve();e.exports=function(e){var t=new a((function(t){var s=o(e);a.all([s,n]).then((function(e){var s=e[0];t(s)}))}));return n=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var s,a;s=this,a=function(){return function(e){function t(a){if(s[a])return s[a].exports;var o=s[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(s(1));e.exports=o.default},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function n(){}function i(){var e=f.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=r.apply(void 0,e),t.afterStreamStart()}}function r(e,t,s){function a(e){e=s.beforeWrite(e),p.write(e),s.afterWrite(e)}(p=new l.default(e,s)).id=m++,p.name=s.name||p.id,c.streams[p.name]=p;var o=e.ownerDocument,r={close:o.close,open:o.open,write:o.write,writeln:o.writeln};d(o,{close:n,open:n,write:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return a(t.join("")+"\n")}});var u=p.win.onerror||n;return p.win.onerror=function(e,t,a){s.error({msg:e+" - "+t+": "+a}),u.apply(p.win,[e,t,a])},p.write(t,(function(){d(o,r),p.win.onerror=u,s.done(),p=null,i()})),p}function c(e,t,s){if(u.isFunction(s))s={done:s};else if("clear"===s)return f=[],p=null,void(m=0);s=u.defaults(s,b);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,s];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=n}},s.beforeEnqueue(a),f.push(a),p||i(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};t.default=c;var l=o(s(2)),u=a(s(4)),b={afterAsync:n,afterDequeue:n,afterStreamStart:n,afterWrite:n,autoFix:!0,beforeEnqueue:n,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:n,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,f=[],p=null;d(c,{streams:{},queue:f,WriteStream:l.default})},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var s=b+t,a=e.getAttribute(s);return l.existy(a)?String(a):a}function r(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=b+t;l.existy(s)&&""!==s?e.setAttribute(a,s):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},d=o(s(3)),l=a(s(4)),u=!1,b="data-ps-",m="ps-style",f="ps-script",p=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.root=t,this.options=s,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:s.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,s=void 0,a=void 0,o=[];(t=this.parser.readToken())&&!(s=l.isScript(t))&&!(a=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&o.push(t);o.length>0&&this._writeStaticTokens(o),s&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,s=[],a=[],o=[],n=e.length,i=0;i<n;i++){var r=e[i],c=r.toString();if(s.push(c),r.attrs){if(!/^noscript$/i.test(r.tagName)){var d=t++;a.push(c.replace(/(\/?>)/," "+b+"id="+d+" $1")),r.attrs.id!==f&&r.attrs.id!==m&&o.push("atomicTag"===r.type?"":"<"+r.tagName+" "+b+"proxyof="+d+(r.unary?" />":">"))}}else a.push(c),o.push("endTag"===r.type?c:"")}return{tokens:e,raw:s.join(""),actual:a.join(""),proxy:o.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var s=1===e.nodeType;if(!s||!i(e,"proxyof")){s&&(this.actuals[i(e,"id")]=e,r(e,"id"));var a=e.parentNode&&i(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,s=this.parser.clear();s&&this.writeQueue.unshift(s),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,s){t.setAttribute(e,s)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var s=this.doc.getElementById(t);s&&s.parentNode.replaceChild(e,s)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var s=this._buildScript(e),a=this._shouldRelease(s),o=this.options.afterAsync;e.src&&(s.src=e.src,this._scriptLoadHandler(s,a?o:function(){t(),o()}));try{this._insertCursor(s,f),s.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,s){t.setAttribute(e,s)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function s(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){s(),null!=t&&t(),t=null}function o(e){s(),i(e),null!=t&&t(),t=null}function n(e,t){var s=e["on"+t];null!=s&&(e["_on"+t]=s)}var i=this.options.error;n(e,"load"),n(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){o({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void o({msg:"onerror handler failed "+t+" @ "+e.src})}o({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=p},function(e){var t;t=function(){return function(e){function t(a){if(s[a])return s[a].exports;var o=s[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(s(1));e.exports=o.default},function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=o(s(2)),r=o(s(3)),c=a(s(6)),d=s(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.stream=s;var o=!1,r={};for(var d in i)i.hasOwnProperty(d)&&(a.autoFix&&(r[d+"Fix"]=!0),o=o||r[d+"Fix"]);o?(this._readToken=(0,c.default)(this,r,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,r,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=r[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var b in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=(0,d.escapeQuotes)(e[s],null));return t},u.supports=i,i)i.hasOwnProperty(b)&&(u.browserHasFlaw=u.browserHasFlaw||!i[b]&&b)},function(e,t){"use strict";t.__esModule=!0;var s=!1,a=!1,o=window.document.createElement("div");try{var n="<P><I></P></I>";o.innerHTML=n,t.tagSoup=s=o.innerHTML!==n}catch(e){t.tagSoup=s=!1}try{o.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===o.childNodes.length}catch(e){t.selfClose=a=!1}o=null,t.tagSoup=s,t.selfClose=a},function(e,t,s){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new d.CommentToken(e.substr(4,t-1),t+3)}function o(e){var t=e.indexOf("<");return new d.CharsToken(t>=0?t:e.length)}function n(e){var t,s,a;if(-1!==e.indexOf(">")){var o=e.match(l.startTag);if(o){var n=(t={},s={},a=o[2],o[2].replace(l.attr,(function(e,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",s[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(o)&&o||"":t[o]="",a=a.replace(e,"")})),{v:new d.StartTagToken(o[1],o[0].length,t,s,!!o[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===n?"undefined":c(n)))return n.v}}}function i(e){var t=n(e);if(t){var s=e.slice(t.length);if(s.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=s.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new d.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function r(e){var t=e.match(l.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=o,t.startTag=n,t.atomicTag=i,t.endTag=r;var d=s(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,s){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var o=s(5),n=(t.Token=function e(t,s){a(this,e),this.type=t,this.length=s,this.text=""},t.CommentToken=function(){function e(t,s){a(this,e),this.type="comment",this.length=s||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){
function e(t,s,o,n,i){a(this,e),this.type=t,this.length=o,this.text="",this.tagName=s,this.attrs=n,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){s+=" "+a;var n=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(s+='="'+(0,o.escapeQuotes)(n)+'"')}return e.rest&&(s+=" "+e.rest),e.unary&&!e.html5Unary?s+="/>":s+=">",null!=t&&(s+=t+"</"+e.tagName+">"),s},e}());t.StartTagToken=function(){function e(t,s,o,n,i,r){a(this,e),this.type="startTag",this.length=s,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=n,this.html5Unary=!1,this.unary=i,this.rest=r}return e.prototype.toString=function(){return n.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,s,o,n,i){a(this,e),this.type="atomicTag",this.length=s,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return n.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,s){a(this,e),this.type="endTag",this.length=s,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=s},function(e,t){"use strict";function s(e){return e&&"startTag"===e.type&&(e.unary=r.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,o=s(t());return e.stream=a,o}function o(e,t){var s=t.pop();e.prepend("</"+s.tagName+">")}function n(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,s=0;t=this[s];s++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function r(){var t=a(e,i);t&&l[t.type]&&l[t.type](t)}var d=n(),l={startTag:function(s){var a=s.tagName;"TR"===a.toUpperCase()&&d.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),r()):t.selfCloseFix&&c.test(a)&&d.containsTagName(a)?d.lastTagNameEq(a)?o(e,d):(e.prepend("</"+s.tagName+">"),r()):s.unary||d.push(s)},endTag:function(s){d.last()?t.tagSoupFix&&!d.lastTagNameEq(s.tagName)?o(e,d):d.pop():t.tagSoupFix&&(i(),r())}};return function(){return r(),s(i())}}t.__esModule=!0,t.default=i;var r=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function s(e){return null!=e}function a(e){return"function"==typeof e}function o(e,t,s){var a=void 0,o=e&&e.length||0;for(a=0;a<o;a++)t.call(s,e[a],a)}function n(e,t,s){for(var a in e)e.hasOwnProperty(a)&&t.call(s,a,e[a])}function i(e,t){return e=e||{},n(t,(function(t,a){s(e[t])||(e[t]=a)})),e}function r(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(s=[],o(e,(function(e){s.push(e)})),{v:s});if("object"===(void 0===t?"undefined":b(t)))return t.v}var s}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=s,t.isFunction=a,t.each=o,t.eachKey=n,t.defaults=i,t.toArray=r,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():s.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=function(e){for(var t=a.querySelectorAll("script"),s=0;s<t.length;s++){var o=t[s];if(e.test(o.src))return o}},n=function(){return o(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:n,byRegexPattern:o}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise"),o=0;e.exports=function(e,t){var s="_runScript"+ ++o,n=new a((function(t,o){_satellite[s]=function(n){delete _satellite[s],new a((function(t){t(n.call(e.event.element,e.event,e.event.target,a))})).then(t,o)}}));return{code:'<script>_satellite["'+s+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:n}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-promise"),n=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var r=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var s;return d(e)&&(t=a.replaceTokens(t,e.event)),r(t)?(s=new o((function(e,t){i[String(n)]={resolve:e,reject:t}})),t=c(t,n),n+=1):s=o.resolve(),{code:t,promise:s}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-load-script"),o=s("@adobe/reactor-promise"),n=s("../../helpers/findPageScript").byRegexPattern,i={},r={},c=function(e){return r[e]||(r[e]=a(e)),r[e]};_satellite.__registerScript=function(e,t){var s;if(document.currentScript)s=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");s=n(a).getAttribute("src")}i[s]=t},e.exports=function(e){return i[e]?o.resolve(i[e]):new o((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-document"),n=-1!==a.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",r="DOM_READY",c="PAGE_BOTTOM",d=[c,r,i],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach((function(e){u[e]=[]}));var b=function(e,t){d.slice(0,f(e)+1).forEach((function(e){p(t,e)}))},m=function(){return"complete"===o.readyState?i:"interactive"===o.readyState?n?null:r:void 0},f=function(e){return d.indexOf(e)},p=function(e,t){u[t].forEach((function(t){g(e,t)})),u[t]=[]},g=function(e,t){var s=t.trigger,a=t.syntheticEventFn;s(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=b.bind(null,c),o.addEventListener("DOMContentLoaded",b.bind(null,r),!0),a.addEventListener("load",b.bind(null,i),!0),a.setTimeout((function(){var e=m();e&&b(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[r].push({trigger:e,syntheticEventFn:l.bind(null,o)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,a)})}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},s=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},o=function(e){return s(e)?Number(e):e};e.exports={isNumber:t,isString:s,castToStringIfNumber:a,castToNumberIfString:o}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,s){"use strict";var a=s("./weakMap"),o=s("./matchesProperties"),n=s("./matchesSelector");e.exports=function(){var e=[],t=new a,s={addListener:function(t,s){e.push({settings:t,callback:s})},evaluateEvent:function(s,a){if(e.length&&!t.has(s)){for(var i=s.target,r=!1;i;){for(var c=!1,d=!1,l=0;l<e.length;l++){var u=e[l],b=u.settings.elementSelector,m=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!r)&&(i===s.target||!1!==u.settings.bubbleFireIfParent)&&(i===s.target||b||m&&Object.keys(m).length)&&(!b||n(i,b))&&(!m||o(i,m))){var f={};a?Object.keys(s).forEach((function(e){f[e]=s[e]})):f.nativeEvent=s,f.element=i,f.target=s.target,!1!==u.callback(f)&&(d=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;d&&(r=!0),i=i.parentNode}t.set(s,!0)}},__reset:function(){e=[]}};return s}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window").WeakMap;if(void 0===a){var o=Object.defineProperty,n=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}).prototype={set:function(e,t){var s=e[this.name];return s&&s[0]===e?s[1]=t:o(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,s){"use strict";var a=s("./../../helpers/textMatch"),o=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var s=o(e,t.name),n=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return a(s,n)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,s,a){"use strict";e.exports=function(e,t){var s=e.matches||e.msMatchesSelector;if(s)try{return s.call(e,t)}catch(e){return a.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,s){var a=null;return function(){var o=s||this,n=arguments;clearTimeout(a),a=setTimeout((function(){e.apply(o,n)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var s;return function(){return e&&(s=e.apply(t||this,arguments),e=null),s}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var s=t.split("."),a=e,o=0,n=s.length;o<n;o++){if(null==a)return;a=a[s[o]]}return a}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var s=e.get;return e.get=function(a){return e.has(a)||e.set(a,t()),s.apply(this,arguments)},e}}},"core/src/lib/helpers/intersectionObserverIntervals.js":{script:function(e){"use strict";e.exports={standard:{pageElementsRefresh:3e3}}}}}},"bmw-launch-core":{displayName:"BMW Launch Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP7a2d4b0bfd1c4d909323145e36c42023/",settings:{pvTimeout:"500",acdlAfterPvTimeout:"10000"},modules:{"bmw-launch-core/src/lib/actions/tp2Exec.js":{name:"tp2_exec",displayName:"Prepare and Execute (lazy loaded)",script:function(e){"use strict";function t(e,t){const s={};return e&&e.vars&&Object.entries(e.vars).filter((([e,t])=>t)).map((([e,t])=>e)).forEach((a=>{try{s[a]=({std:()=>({geoRegion:t.get("page.pageInfo.geoRegion"),pageName:t.get("page.pageInfo.pageName"),pageType:t.get("page.category.pageType"),pagePrimaryCategory:t.get("page.category.primaryCategory"),pageSubCategory1:t.get("page.category.subCategory1"),pageSubCategory2:t.get("page.category.subCategory2"),eventEffect:t.get("eventInfo.effect"),eventName:t.get("eventInfo.eventName"),componentName:t.get("component."+t.get("eventInfo.reference.linkedComponent")+".componentInfo.componentName"),mmdr:adobeDataLayer.util.getFirstFunctionWithNonZeroValue([()=>t.get("eventInfo.reference.linkedProducts",[]).map((e=>t.subSom("product."+e))).map((e=>e.get(["attributes.mmdr","attributes,mmdrVG"]))).join(","),()=>t.get("page.pageInfo.reference.defaultProducts",[]).map((e=>t.subSom("product."+e))).map((e=>e.get(["attributes.mmdr","attributes,mmdrVG"]))).join(",")])}),linkedProducts:()=>t.get("eventInfo.reference.linkedProducts",[]).map((e=>t.subSom("product."+e))),mainProduct:()=>t.get("eventInfo.reference.linkedProducts",[]).map((e=>t.subSom("product."+e)))[0],component:()=>t.subSom("component."+t.get("eventInfo.reference.linkedComponent")),thisTool:()=>t.subSom(["tools."+e.processingID,"tools."+e.processingID.toLowerCase()]),processingID:()=>e.processingID}[a]||(()=>t.subSom(a.replace(/_/g,"."))))()}catch(e){}})),s}e.exports=function(e,s){if(!s.detail instanceof adobeDataLayer.Som&&(s.fullState=s.fullState||adobeDataLayer.getState())&&(s.detail=new adobeDataLayer.Som(s.fullState),s.detail.merge(s.message||s.detail)),!e.toolsProcessingId||!s.detail||s.detail.get("tools."+e.processingID))return e.type=e.type||"PaE",e.withVarsFct=t,adobeDataLayer.util.execAction(e,s)}}},"bmw-launch-core/src/lib/conditions/nodeCompare.js":{name:"nodecompare",displayName:"NodeCompare",script:function(e,t,s,a){const o=e=>(t,s)=>{const a=s.match(/(?<prefix>[^\s]*?)v(?<major>\d+)\.(?<minor>\d+)\.(?<patch>\d+)/).groups,o=t.match(new RegExp(`${a.prefix}v?(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)`)).groups;return e(1e6*o.major+1e3*o.minor+1*o.patch,1e6*a.major+1e3*a.minor+1*a.patch)},n={equals:(e,t)=>e===t,notequals:(e,t)=>e!==t,includes:(e,t)=>e&&e.includes(t),regex:(e,t)=>e&&new RegExp(t).test(e),versionBefore:o(((e,t)=>e<t)),versionFrom:o(((e,t)=>e>=t))};e.exports=function(e,t){let s=e.condition||{};s.operator=s.operator||"equals";const o=t&&t.detail?t.detail:window.adobeDataLayer._getExtEvntData(t.message&&t.message.event)||window._satellite.getVar("snapshotDL");try{return s&&o&&n[s.operator](o.get(s.node),s.value)}catch(e){try{globalThis.turbine&&a.logger.error("BMWcore: nodeCompare: ",o&&o.get(s.node),o&&s.operator&&s.value)}catch(e){}return!1}}}},"bmw-launch-core/src/lib/actions/dlpExec.js":{name:"dlp_exec",displayName:"DLP Execute (in lib)",script:function(e){"use strict";e.exports=function(e,t){if(!e.toolsProcessingId||!t.detail||t.detail.get("tools."+e.processingID))return e.type=e.type="DLP",adobeDataLayer.util.execAction(e,t)}}},"bmw-launch-core/src/lib/events/promising.js":{name:"promising",displayName:"Promising",script:function(e,t,s,a){"use strict";e.exports=function(e,t){const s=[],o=a.getExtensionSettings();if((e.afterPageView||e.afterNoPageView)&&s.push(a12r.eventPromises.afterPageView({timeout:1*e.timeout||1*(o.pvTimeout||0),acdlAfterPvTimeout:1*e.acdlAfterPvTimeout||1*(o.acdlAfterPvTimeout||0),rejectOnPV:e.afterNoPageView,isCleansed:e.afterPageView,withConsent:e.withConsent})),e.withConsent&&s.push(a12r.eventPromises.onConsent(e.withConsent)),"function"==typeof e.code){const t=e.code();t instanceof Promise&&s.push(t)}const n=e.postPromise||o.postPromise||a12r.bounceTimer.postPromise;e.eventRegex?a12r.eventPromises.triggerOnRegexListener(new RegExp(e.eventRegex),t,s,n):a12r.eventPromises.triggerOnAll(t,s)}}},"bmw-launch-core/src/lib/conditions/conditioner.js":{name:"conditioner",displayName:"Conditioner",script:function(e){"use strict";e.exports=function(e,t){let s=e.conditions;return window.adobeDataLayer.util.condition.fitsWithRuleName({event:t,withBrand:s.brand,withMarket:s.market,withApp:s.app,withComponent:s.component})}}},"bmw-launch-core/src/lib/actions/setSubMap.js":{name:"set_sub_map",displayName:"Analytics set SubMap",script:function(e){"use strict";e.exports=function(e,t){return e.type=e.type||"MAP",adobeDataLayer.util.execAction(e,t).then((e=>adobeDataLayer.util.mapper.setSubMap(t.detail,e)))}}},"bmw-launch-core/src/lib/actions/dynExec.js":{name:"dyn_exec",displayName:"Dynamic Execute (lazy loaded)",script:function(e){"use strict";e.exports=function(e,t){if(!e.toolsProcessingId||!t.detail||t.detail.get("tools."+e.processingID))return e.type=e.type="DYN",adobeDataLayer.util.execAction(e,t)}}},"bmw-launch-core/src/lib/actions/bounceTimer.js":{name:"bounce_timer",displayName:"Initialize Bounce Timer",script:function(e){"use strict";e.exports=function(){window.adobeDataLayer&&adobeDataLayer.util&&adobeDataLayer.util.bounceTimer.getPromise()}}},"bmw-launch-core/src/lib/actions/analyticsMapAndSend.js":{name:"analytics_map_and_send",displayName:"Analytics Map And Send",script:function(e,t,a){"use strict";const o=a("../LogDescriptor");e.exports=function(e,t){let a=e.flags||{};if(window.s&&s.clearVars){let e;s.clearVars();try{if(!t.message&&t.detail){const s=t.detail;e=new o(t,{actionName:"AnalyticsMapAndSendActionType",dl:s}),t.message={event:s.get("event"),eventInfo:s.get("eventInfo")},t.fullState=Object.assign({},s.get()),delete t.fullState.event,delete t.fullState.eventInfo}t.message.eventInfo.tools=t.message.eventInfo.tools||{};let n=_satellite.property.name;"production"!==_satellite.environment.stage&&(n+=": "+_satellite.environment.id),Object.assign(t.message.eventInfo.tools,{launch:{prop_rule:n+"|"+(t.$rule&&t.$rule.name)}});const i=t.fullState;window.processingWrapper&&(i.ePaaS=processingWrapper.getProcessingInfo("BaseTracking")),adobeDataLayer.util.mapper.mapSatellite({dataLayer:i,event:{event:t.message.event,eventInfo:t.message.eventInfo},s:s}),s.isFromACDL=!0,a.withPV?s.t():s.tl(!0,"o",t.message.eventInfo.eventName||"noEventName"),e&&e.finish()}catch(t){e?e.finish("exception"):console.error("error in AA mapping",t)}}}}},"bmw-launch-core/src/lib/actions/setupTools.js":{name:"setup_tools",displayName:"Setup Tools",script:function(e){"use strict";e.exports=function(e,t){if(e.type=e.type||"TOOLS",t.detail&&(!e.processingID||t.detail.get("tools."+e.processingID)))return adobeDataLayer.util.execAction(e,t).then((s=>{const a=e.processingID?`.${e.processingID}`:"";t.detail.mergeDeep("tools"+a,s)}))}}},"bmw-launch-core/src/lib/main.js":{script:function(e,t,s){globalThis.window=globalThis.window||globalThis,globalThis.a12r=globalThis.adobeDataLayer=globalThis.adobeDataLayer||[],adobeDataLayer.util=new(s("./Util.js")),adobeDataLayer.util.cache=new adobeDataLayer.util.Cache,adobeDataLayer.eventPromises=new(s("./Promises.js")),adobeDataLayer.util.dbg=new(s("./DebugSupport.js")),adobeDataLayer.util.session=new(s("./Session.js")),adobeDataLayer.Som=s("../../external/Simple-Object-Manager/src/Som"),adobeDataLayer.util.condition=adobeDataLayer.condition=new(s("./Condition.js")),adobeDataLayer.util.bounceTimer=adobeDataLayer.bounceTimer=new(s("./BounceTimer.js")),adobeDataLayer.util.mapper=new(s("./DataLayerMapper.js")),adobeDataLayer.util.performance=new(s("./Performance.js")),adobeDataLayer.util.LogDescriptor=s("./LogDescriptor.js"),adobeDataLayer.extEvntData=new(s("./ExtEvntData.js")),adobeDataLayer.cookieSupport=new(s("./CookieSupport.js"))({util:adobeDataLayer.util}),window._satellite&&window._satellite.property&&!window._satellite.property.id&&new(s("./SandboxOnly.js"))({util:adobeDataLayer.util}),window._satellite&&!_satellite.getVar("KIT-helpers")&&_satellite.setVar("KIT-helpers",adobeDataLayer.util),adobeDataLayer.util.dbg.debugThisRule("__redirect_afterInit")&&adobeDataLayer.util.execAction({ID:"afterInit",type:"base"},{$rule:{}}),window.performance&&window.performance.mark&&window.performance.mark("ACDL:init finished")}},"bmw-launch-core/src/lib/LogDescriptor.js":{script:function(e,t,s){const a=s("./Performance");e.exports=class{constructor(e,{actionName:t,cacheDesc:s,dl:o,perf:n}){this.id=e.$rule.name+":"+t,this.launchEvent=e,this.$rule=e.$rule,this.perf=n||new a,this.state="started",this.cacheDesc=s,o&&(this.dlSom=o,this.addToState())}finish(e="finished"){this.state=e,this.perf.finish()}addToState(e=this.dlSom){e&&e.push("eventInfo.state",this)}addInfo(e){this.info=this.info||[],this.info.push(e)}addError(e){this.error=this.error||[],this.error.push(e)}}}},"bmw-launch-core/src/lib/Performance.js":{script:function(e){e.exports=class e{constructor(e){this.isActive=!0,this.start=e||(new Date).getTime(),this.relStart=globalThis.performance.now()}new(){return new e}finish(){this.isActive=!1,this.finish=(new Date).getTime(),this.relFinish=globalThis.performance.now(),this.duration=this.relFinish-this.relStart}initDL(t){this.isActive&&!t.somPush&&(t.somPush=t.push,t.push=function(s,a){if("eventInfo.state"===s&&a){if(a.noStatePush)return;a.id&&a.name&&(a=new a12r.util.LogDescriptor({$rule:a,id:a.name},{perf:a.perf}),arguments[1]=a),a.perf=a.perf||new e,"start"===a.state?a.state="finished":a.state="start"}return t.somPush.apply(this,arguments)})}getMax(e){return(Array.isArray(e)?e:e.get("eventInfo.state")).reduce(((e,t)=>(e.diff=t.perf.duration||e.last&&e.last.perf.start&&t.perf.start&&t.perf.start-e.last.perf.start,e.diff>e.max.diff&&(e.max.diff=e.diff,e.max.current=t,e.max.before=e.last),e.last=t,e)),{diff:0,max:{diff:0}})}getOrderedState(e,t="start"){const s=Object.assign([],e.get("eventInfo.state"));switch(t){case"start":return s.sort(((e,t)=>e.perf.start==t.perf.start?0:e.perf.start<t.perf.start?-1:1));case"duration":for(let e=0;e<=s.length;e++)s[e].perf.duration=s[e].perf.duration||s[e+1].perf.start-s[e].perf.start;return s.sort(((e,t)=>e.perf.duration==t.perf.duration?0:e.perf.duration>t.perf.duration?-1:1))}}}}},"bmw-launch-core/src/lib/Util.js":{script:function(e,t,s){const a=s("./LogDescriptor");class o{constructor(){this.Cache=s("./Cache.js"),this.codeCache={},this.merge=window.processingWrapper&&window.processingWrapper.util.deepmerge||((e,t)=>{const s=new adobeDataLayer.Som(e);return s.mergeDeep("",t),s.get()})}withEPaaS(e,t=[]){const s=globalThis.epaas&&globalThis.epaas.api||globalThis;s.addEventListener?s.addEventListener("consentcontroller.api.initialized",(()=>{e(...t)})):e(...t)}getFirstFunctionWithValue(e,t){Array.isArray(e)||(e=[e]);for(let s of e)try{const e=s.apply(this,[t]);if(void 0!==e&&(!t||!t.isValid||t.isValid(e)))return e}catch(e){}}getFirstFunctionWithNonZeroValue(e,t={}){return adobeDataLayer.util.getFirstFunctionWithValue(e,t.isValid?t:Object.assign(t,{isValid:e=>!!e}))}getLegacyTrackingAPI(){return this.getFirstFunctionWithNonZeroValue([()=>"function"==typeof window.conTrackingApi.getLastFrame&&window.conTrackingApi,()=>"function"==typeof digital.tracking.getLastFrame&&digital.tracking,()=>digital.tracking.getInstance(globalThis.dataLayer),()=>digital.tracking.lib,()=>digitals2.tracking.api,()=>digital.tracking.api])}getLegacyTrackingPage(){return this.getFirstFunctionWithNonZeroValue([()=>window.conTrackingApi.getLastFrame(),()=>digital.tracking.getLastFrame(),()=>{const e=globalThis.digitals2||globalThis.digital,t=e.tracking.getInstance?e.tracking.getInstance(globalThis.dataLayer):e.tracking.lib||e.tracking.api;return t.getPageObject(t.getCurrentPageIndex())},()=>mnm.mnmnsc.page.currentPage.getTrackingService().getDigitalData(),()=>dataLayer.pages[dataLayer.activePageIndex]],{isValid:e=>Object.entries(e).length})}execAction(e,t){let s=this.codeCache[e.ID]||this.prepareCacheDescriptor(e,t);return("function"==typeof s.code?Promise.resolve():(s.loading||Promise.resolve()).then((()=>this.fetchIfDynamic(Object.assign(e,{RLid:t.$rule.id})).then((t=>this.initCodeString(e,t)))))).then((()=>this.execCachedCode(e.ID,{event:t,actionName:e.ID,settings:e})))}execCachedCode(e,{event:t,actionName:s,settings:o}){const n=this.codeCache[e];return new Promise((function(i,r){let c;(t.$rule.code=t.$rule.code||{})[e]=n.code;const d=new a(t,{actionName:s,cacheDesc:n});let l=t.detail;l||(l=adobeDataLayer.util.getFirstFunctionWithNonZeroValue([()=>adobeDataLayer._getExtEvntData(t.message.eventInfo.extEvntID),()=>adobeDataLayer.extEvntData.new().DL])),n.ctx=o&&o.withVarsFct?o.withVarsFct(o,l):{},d.addToState(l),n.debugOn&&n.byScript;try{adobeDataLayer.util.dbg.setContextForStack({rule:t.$rule.name,code:n.code,action:e}),c=n.code({event:t,dl:l,logDesc:d,...n.ctx}),d.finish(),adobeDataLayer.util.dbg.setContextForStack({})}catch(e){d.finish("exception"),d.addError(e),r(e)}i(c)}))}fetchIfDynamic({code:e,ID:t,path:s,type:a="CUSTOM",RLid:o,forceRedirect:n}){if(n||adobeDataLayer.util.dbg.debugThisRule("__redirect_"+t)){const s=adobeDataLayer.util.getFirstFunctionWithValue([()=>e.startsWith("http")?void 0:o?"?rlid="+o:"",()=>"?rcid="+e.split("/").pop().split("-")[0]]||"")||"";e=`http://localhost:9000/${a}/${t}.js`+s}else if(adobeDataLayer.util.dbg.debugThisRule("__redirect_"+s)){const t=adobeDataLayer.util.getFirstFunctionWithValue([()=>"?rcid="+e.split("/").pop().split("-")[0]]||"");e="http://localhost:9000/"+s+".js"+t}return e.startsWith("http")?fetch(e,{}).then((e=>e.text())):Promise.resolve(e)}prepareCacheDescriptor(e,t){let s=adobeDataLayer.util.codeCache[e.ID]={};var a;return s.params={event:t,actionName:e.ID,settings:e},s.debugOn=adobeDataLayer.util.dbg.debugThisRule(e.ID,t.$rule)||adobeDataLayer.util.dbg.debugThisRule(e.path),s.byScript=!0,s.scriptTag=document.createElement("script"),s.scriptTag.id=e.ID,s.varList=(a=e.vars||{},Object.entries(a).filter((([e,t])=>t)).map((([e,t])=>e)).join(",")),s.varList&&(s.varList=","+s.varList),s}initCodeString(e,t){e.code=t.replace(/.*\/\/ DO NOT EDIT THIS LINE - WDPTA(\r\n|\n|\r)?/g,"");let s=adobeDataLayer.util.codeCache[e.ID];return s.loading=new Promise((t=>{s.resolve=t;const a=e.processingID&&e.useEPaaS&&!window.epaas.api.isUsageAllowed(e.processingID.split(".")[0]),o=adobeDataLayer.util.dbg.getDebugLevel();s.scriptTag,s.scriptTag.append(`((cacheDesc) => cacheDesc.resolve(\n({event, dl, logDesc ${s.varList}}) => { ${a?'(window.p15r=window.p15r||[]).push({ processingId: "'+e.processingID.split(".")[0]+'", action: "directExecute", callback: function() {':""} ${o?"try {":""}\n${s.debugOn?`debugger; // rule: ${s.params.event.$rule.name}`:""}\n${e.code} \n${o?'} catch(dynEx) {console.groupCollapsed(`%cDLP exception in rule: %c${logDesc.$rule.name}`, "color:red;font-size:14px;", "font-size:12px;");console.error(dynEx);console.log(`consider %c adobeDataLayer._dbgRules("${logDesc.id}")%c to debug`, "color:blue;font-style:italic;", "");console.groupEnd();throw(dynEx)}\n':""}\n${a?"}})":""} })\n)(adobeDataLayer.util.codeCache['${e.ID}']);\n      `),document.getElementsByTagName("head")[0].appendChild(s.scriptTag)})).then((e=>{s.code=e,s.scriptTag.remove(),delete s.scriptTag,delete s.params,delete s.loading}))}initSatRegister(){globalThis._satellite.___registerScript||(globalThis._satellite.___registerScript=globalThis._satellite.__registerScript,globalThis._satellite.__registerScript=function(e,t){const s=t.match(/processingId\s*:\s*["']\w+["']/g)?.map((e=>e.match(/["'](\w+)["']/)[1]))||[""],a=globalThis._satellite._container.rules.find((t=>t.actions.find((t=>t.settings.source===e)))),o=a.actions.findIndex((t=>t.settings.source===e)),n="__redirect_"+a.name;if(s.filter((e=>adobeDataLayer.util.dbg.debugThisRule(e,{name:n}))).length||adobeDataLayer.util.dbg.debugThisRule(o,{name:n}))globalThis._satellite.___registerScript(e,`\n  return adobeDataLayer.util.execAction({code:'${e}', ID: '${a.name}:${o}', forceRedirect:true}, event)\n          `);else{const o=adobeDataLayer.util.dbg.debugThisRule("__performance");o&&(t='\n  const perfDL = (event.detail instanceof a12r.Som) && event.detail;\n  let perfLogDesc\n  if (perfDL) {\n    event.$rule.actionInx = (event.$rule.actionInx || 0) + 1;\n    perfLogDesc = new a12r.util.LogDescriptor(event, {\n        actionName: event.$rule.actionInx,\n      })\n    event.$rule.noStatePush = true;\n    perfDL.push("eventInfo.state", perfLogDesc);\n  }\n  try {\n'+t),s.filter((e=>adobeDataLayer.util.dbg.debugThisRule(e,a))).length&&(t="debugger;\n"+t),adobeDataLayer.util.dbg.debugThisRule("__withSomStack")&&(t=`\n  adobeDataLayer.util.dbg.setContextForStack({rule: event.$rule.name});\n  ${t}\n  adobeDataLayer.util.dbg.setContextForStack({});\n  `),o&&(t+=';\n    if (perfLogDesc) {\n      perfLogDesc.finish();\n    }\n  } catch (ex) {\n    if (perfLogDesc) {\n      perfLogDesc.finish("exception");\n      perfLogDesc.addError(ex)\n    }\n    throw(ex)\n  }\n'),globalThis._satellite.___registerScript(e,t)}})}getReferencedNode(e,t){let s,a,o=e.indexOf(".");o>0?(s=e.slice(0,o),a=e.slice(o)):(s=e,a="");const n=t?t.get.bind(t):a12r.getState.bind(a12r),i=s.endsWith("s"),r=s.charAt(0).toUpperCase()+s.slice(1);return i&&(s=s.slice(0,-1)),this.getFirstFunctionWithNonZeroValue([()=>!i&&n(`${s}.${n("eventInfo.reference.linked"+r)}${a}`),()=>!i&&n(`${s}.${n("eventInfo.reference.linked"+r+"s")[0]}${a}`),()=>i&&n("eventInfo.reference.linked"+r,[]).map((e=>n(`${s}.${e}${a}`))),()=>n(`${s}.${n("page.pageInfo.reference.default"+r)}${a}`)])}getComponentClass(e){return this.getFirstFunctionWithNonZeroValue([()=>this.getReferencedNode("component.category.subCategory1",e),()=>this.getReferencedNode("component.category.primaryCategory",e),()=>_satellite.getVar("DL-resolver")("component")])}getMarket(e){return this.getFirstFunctionWithNonZeroValue([()=>e.get("page.pageInfo.geoRegion"),()=>_satellite.getVar("DL-resolver")("market"),()=>"MS"])}}e.exports=o}},"bmw-launch-core/src/lib/Promises.js":{script:function(e,t,s){const a=s("./Performance.js");class o{onConsent(e="AdobeAnalytics"){return this.oneConsent=this.oneConsent||{},this.oneConsent[e]=this.oneConsent[e]||new Promise((t=>{adobeDataLayer.util.withEPaaS((()=>{epaas.api.isUsageAllowed(e)?(adobeDataLayer._dbg.log("onConsent","resolving ePaaS AA directly"),t()):epaas.api.registerOnUserConsentChange(e,(()=>{adobeDataLayer._dbg.log("onConsent","resolving ePaaS AA on change"),t()}))}))})),this.oneConsent[e]}afterPageView({timeout:e,acdlAfterPvTimeout:t=2e3,isCleansed:s=!1,rejectOnPV:o=!1,withConsent:n=!1}){this.onePV=this.onePV||{};const i=(window._satellite&&_satellite.getVar("DL-getTimeoutPV")||(()=>0))()||0;return i<0&&o?Promise.reject():(e=(e||500)+(o?0:t)+i,adobeDataLayer._dbg.log("afterPageView",`setting up afterPageView promises for ${o?"no-":""}pageview with timeout ${e}ms`,new a),this.onePV[o]=this.onePV[o]||Promise.all([this.onPageLoad(),!n||this.onConsent()]).then((()=>new Promise(((t,a)=>{let n,i;adobeDataLayer._dbg.log("afterPageView",`setting up listener for ${o?"no-":""}pageview with timeout ${e}ms ${s?"/cleansed":""}`);const r=(e,t)=>{adobeDataLayer._dbg.log("afterPageView",`cleaning ${o?"(no-pv-found-check)":"(got-pv-check)"} `),adobeDataLayer.removeEventListener("adobeDataLayer:event",i),clearTimeout(n),e(t)};i=e=>{new RegExp("^((aem|con|tron|launch)? page (loaded|view)|pageview)"+(s?"-cleansed$":"$")).test(e.event)&&(adobeDataLayer._dbg.log("afterPageView",(o?"(no-pv-found-check rejecting)":"(got-pv-check resolving)")+" "),r(o?a:t,!1))},n=n||setTimeout((()=>{adobeDataLayer._dbg.log("afterPageView",(o?"(no-pv-found-check)":"(got-pv-check)")+" timedOut"),r(t,!0)}),e),adobeDataLayer.push((function(e){e.addEventListener("adobeDataLayer:event",i)}))})))),this.onePV[o])}onPageLoad(){return this.onePL=this.onePL||new Promise((e=>{"complete"===document.readyState?(adobeDataLayer._dbg.log("onPageLoad","resolved"),e()):window.addEventListener("load",(()=>{adobeDataLayer._dbg.log("onPageLoad","resolved(event)"),e()}))})),this.onePL}triggerOnRegexListener(e,t,s,a){window.adobeDataLayer.addEventListener("adobeDataLayer:event",(o=>{const n=o.event;if(e.test(n)){a12r._dbg.log("triggerOnRegexListener",`incoming matching event ${n}`);const i={fullState:window.adobeDataLayer.getState(),fullEvent:o,message:{event:n,eventInfo:o.eventInfo}};delete i.fullState.event,delete i.fullState.eventInfo,(s&&s.length?Promise.all(s):Promise.resolve()).then((()=>{a12r._dbg.log("triggerOnRegexListener",`triggered OnRegexListener ${e} with event ${n}`),("function"==typeof a?a(i):Promise.resolve()).then((()=>t(i))).catch((()=>a12r._dbg.log("triggerOnRegexListener","rejected by postPromise")))}),(()=>!1)).catch((e=>a12r._dbg.log("Promises","error: "+e)))}}))}onWait(e,t,s=[],a){const o="function"==typeof t?t:()=>t;return Array.isArray(s)||(s="function"==typeof s?[s]:[]),new Promise(((t,n)=>{const i=r=>{if(r<=0)a?t():n();else{for(let e=0;e<s.length;e++){let a;try{a=s[e](t,n)}catch(e){}if("function"==typeof a)return!!a()}setTimeout((()=>i(r-1)),o(e-r))}};i(e)}))}triggerOnAll(e,t){Promise.all(t).then(e,(()=>!1)).catch((e=>a12r._dbg.log("Promises","error: "+e)))}triggerOnAny(e,t){
Promise.any(t).then(e,(()=>!1)).catch((e=>a12r._dbg.log("Promises","error: "+e)))}}e.exports=o}},"bmw-launch-core/src/lib/DebugSupport.js":{script:function(e){class t{constructor(){this.DEBUG_ITEM_NAME="a12r_debug",a12r._getExtEvntData=function(e){return"string"==typeof e?a12r.extEvntData[e]:e&&e.message&&e.message.eventInfo?a12r.extEvntData[e.message.eventInfo.extEvntID]:a12r.extEvntData.getLastDL()},a12r._showExtEvntData=function(e){return a12r._getExtEvntData("string"==typeof e?void 0:e).get("string"==typeof e?e:void 0)},a12r.__copyEvent=function(e){const t=processingWrapper.util.deepmerge({},void 0!==e?a12r[e]:a12r.filter((e=>e.event?.indexOf("-cleansed")<0)).pop());return t.eventInfo&&(t.eventInfo.timeStamp+=1e3),t},a12r._copyEvent=function(e){copy(`adobeDataLayer.push(${JSON.stringify(a12r.__copyEvent(e),void 0,2)}`)},a12r._replayEvent=function(e){a12r.push(a12r.__copyEvent(e))},a12r._dbgGetParams=function(){return a12r.util.getFirstFunctionWithValue((()=>JSON.parse(localStorage.getItem(this.DEBUG_ITEM_NAME))))||{rules:[]}}.bind(this),a12r._dbgSetParams=function(e,t,s){(e=e||{})[t]=s,localStorage.setItem(this.DEBUG_ITEM_NAME,JSON.stringify(e)),this.debug=e}.bind(this),a12r._dbgRules=function(e){const t=a12r._dbgGetParams();let s;s=Array.isArray(e)?e:Array.from(new Set(t&&t.rules).union(new Set(arguments))),a12r._dbgSetParams(t,"rules",s)},a12r._dbgRulesRemove=function(e){const t=a12r._dbgGetParams();let s=Array.from(new Set(t&&t.rules).difference(new Set(arguments)));a12r._dbgSetParams(t,"rules",s)},a12r._dbgEnv=function(e){if("string"==typeof e){const t={};t[processingWrapper._version.tenant]=e,a12r._dbgSetParams(a12r._dbgGetParams(),"env",t)}},this.debug=a12r._dbgGetParams(),this.debug.rules=this.debug.rules||[],a12r._dbg={log:this.getDebugLevel()?(e,t)=>{var s,a;s=e,a=t,console.groupCollapsed(`WDPTA:%c${s}:%c${a}`,"color:orange;font-size:14px;","color:black;font-size:12px;"),console.trace("TS: ",performance.now()),console.groupEnd(),performance.mark(`WDPTA:${e}:${t}`)}:()=>!1},this.__initDbgComfort(),[this.__repairConsoleLog,this.__askBeforeUnload].forEach(function(e){this.debugThisRule(e.name)&&e()}.bind(this)),Object.defineProperty(adobeDataLayer,"_dbg$",{get:function(){return a12r._dbgRules("_"),"debug level set"},configurable:!0})}getDebugLevel(){try{return this.debug.rules.length>0?1:0}catch(e){return 0}}debugThisRule(e,t){if(this.debug&&this.debug.rules){if(this.debug.rules.indexOf(e)>=0||t&&this.debug.rules.indexOf(t.name)>=0)return!0;if(t&&e)return this.debug.rules.indexOf(t.name+":"+e)>=0}return!1}__initDbgComfort(){Object.defineProperty(window,"a12r$",{get:function(){return(console.log.length?a12r.util.dbg.__repairConsoleLog():Promise.resolve()).then((()=>{console.log("%cadobeDataLayer","color:red;font-size:14px;"),a12r.filter((e=>e instanceof Object&&e.event)).forEach((e=>console.log(`${e.event}:${e.eventInfo?.eventName||""}:${e.eventInfo?.effect||""}`,e))),console.log("%cextEvntData%c (event:eventName:effect)","color:red;font-size:14px;","color:black;font-size:10px;"),Object.values(a12r.extEvntData).filter((e=>e instanceof a12r.Som&&e.get("eventInfo.state",[]).length>2)).forEach((e=>{const t=e.get();console.log(`${new Intl.NumberFormat("de",{minimumFractionDigits:1,maximumFractionDigits:1,minimumIntegerDigits:5,useGrouping:!1}).format(t.eventInfo?.state[0].perf?.relStart)}:${t.event}:${t.eventInfo?.eventName||""}:${t.eventInfo?.effect||""}`,t)})),a12r.util.dbg.getDebugLevel()&&(console.groupCollapsed("WDPTA performance marks"),performance.getEntries().filter((e=>e.name.startsWith("WDPTA:"))).forEach((e=>console.log(new Intl.NumberFormat("de",{minimumFractionDigits:1,maximumFractionDigits:1,minimumIntegerDigits:5,useGrouping:!1}).format(e.startTime),e.name.substring(6),e.startTime))),console.groupEnd())})),""},configurable:!0})}__repairConsoleLog(){try{return adobeDataLayer.eventPromises.onWait(50,10,(e=>!!document.body&&e())).then((()=>{const e=document.createElement("iframe");e.id="console-repair-dummy",e.style.display="none",document.body.insertAdjacentElement("beforeend",e);const t=document.querySelector("#console-repair-dummy").contentWindow.console;window.console!==t&&(console.log("repairing overridden console.log"),window.console=t,console.log("repaired overridden console.log"))}),(()=>console.log("no document.body found")))}catch(e){console.error("cannot repair console.log",e)}}__askBeforeUnload(){window.addEventListener("beforeunload",(e=>{e.preventDefault(),e.returnValue=!0}))}getContextForStack(e){if(this.execContext){let t=Object.assign({},this.execContext);return t.accTS=window.performance.now(),e&&(t.value=e.value),t}}setContextForStack(e){this.execContext=e}getStackSom(e){if("object"!=typeof e&&(e=adobeDataLayer._getExtEvntData(e<1e4?1e4+e:e)),e?.stack){let t=e.stack.filter((e=>"get"!==e.method)),s=new adobeDataLayer.Som,a=0;return t.forEach((e=>s.assign(e.path+"._"+a++,{method:e.method,ctx:e.context}))),s}console.error("parameter either is not of type Som or was not initialized with stack option")}}e.exports=t}},"bmw-launch-core/src/lib/Session.js":{script:function(e){class t{constructor(){this.experiences={},this.B62="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}getID(){return this.launchSession=this.launchSession||window.epaas&&window.epaas.api.getPersistence("launchSession"),this.launchSession||(this.launchSession=this.randomB62(),window.epaas&&epaas.api.setPersistence("launchSession",this.launchSession),delete this.intCache),this.launchSession}randomB62(e=11){const t={digits:e,result:""};for(let a=0;a<e;a++)(s=t).r=62*(s.r||Math.random()),s.int=Math.floor(s.r),s.r=s.r-s.int,s.r,t.result+=this.B62.charAt(t.int);var s;return t.result}_setIntID(e){this.intCache=e;let t="";for(;e;)t=this.B62.charAt(Number(e%62))+t,e=e/62|0;return this.launchSession=t,window.epaas&&epaas.api.setPersistence("launchSession",this.launchSession),Object.values(this.experiences).forEach((e=>this.setPctBase(e))),t}_getIntID(e=this.launchSession){if(e=this.getID(),!this.intCache){let t=0,s=e.length>7?7:e.length;for(let a=0;a<s;a++){let s=e.charCodeAt(a)||48;t=62*t+(s-97<0?s-65<0?s-48:s-65+10:s-97+36)}this.intCache=t}return this.intCache}isInShare(e,t=1){return e<1&&(t=1e3*e,e=1e3),this._getIntID()%e<t}createExperience(e){if(!this.hasExperience(e.name)){const t=this.experiences[e.name]=Object.assign(e);this.setPctBase(t);let s=100;return t.variants.forEach((e=>{e.from=s-e.pct,e.to=s,s-=e.pct})),!0}return!1}setPctBase(e){let t=1;for(let e=1;e<Object.keys(this.experiences).length;e++)t*=100;e.pctBase=Number(this._getIntID()/t%100)}hasExperience(e){return!!this.experiences[e]}removeExperience(e){delete this.experiences[e]}getExperienceVariant(e){const t=this.experiences[e];for(let e=0;e<Object.keys(t.variants).length;e++){const s=t.variants[e];if(s.from<=t.pctBase&&s.to>t.pctBase)return s}}}e.exports=t}},"bmw-launch-core/external/Simple-Object-Manager/src/Som.js":{script:function(e){"use strict";class t{constructor(e,s={dv:void 0,deepcopy:!0,stack:!1,context:void 0}){function a(){const e=new WeakSet;return(t,s)=>{if("object"==typeof s&&null!==s){if(e.has(s))return;e.add(s)}return s}}if(this.data={},this.version="1.0.3",this.deepcopy=null==s.deepcopy||s.deepcopy,this.defaultvalue="string"==typeof arguments[1]?arguments[1]:s.dv,s.stack&&(this.stack=[],this.options={context:s.context}),"object"==typeof e&&e instanceof t==0)if(Array.isArray(e)&&e.length>0){let t=this.data;if("object"==typeof e[0]){let s=this;e.forEach((function(e){if(s.deepcopy)try{t=Object.assign(t,e)}catch(s){console.warn("issue assigning object, trying removing circular references."),t=Object.assign(t,e,a())}else t=Object.assign(t,e)}))}else this.deepcopy?this.data=Object.assign({},e):this.data=e}else try{this.deepcopy&&0!=arguments[2]?this.data=Object.assign({},e):this.data=e}catch(t){console.warn("issue assigning object, trying removing circular references."),this.data=Object.assign({},e,a())}else if("object"==typeof e&&e instanceof t==1)try{this.deepcopy?this.data=Object.assign({},e.data):this.data=e.data}catch(t){console.warn("issue assigning object, trying removing circular references."),this.data=Object.assign({},e.data,a())}}get(e,t,s={origin:void 0,arraycheck:!1}){let a=s.origin,o=s.arraycheck;if(void 0===e||""==e){if(this.stack&&Array.isArray(this.stack)&&"internal"!=a){let t={method:"get",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"get",value:this.data}):this.options.context),this.stack.push(t)}return this.data}let n=[];Array.isArray(e)?n=e:n.push(e);let i={};for(const e of n)i[e]={pathSplit:"",value:void 0};for(const e of n)if("string"==typeof e){i[e].pathSplit=e.split(".");let s=this.data,a=e.split(".");for(var r=0;r<a.length&&null!=s;r++)if(s instanceof Set){const e=s;s=!!s.has(a[r]),0==s&&parseInt(a[r])&&(s=!!e.has(parseInt(a[r])))}else{if(Array.isArray(s[a[r]])&&r==a.length-2&&o){const e=s[a[r]];s=!!s[a[r]].includes(a[r+1]),0==s&&parseInt(a[r+1])&&(s=!!e.includes(parseInt(a[r+1])));break}s=Array.isArray(s)&&Math.abs(parseInt(a[r]))<=s.length?parseInt(a[r])<0?s[s.length-Math.abs(parseInt(a[r]))]:s[parseInt(a[r])]:Array.isArray(s)&&Math.abs(parseInt(a[r]))>s.length?t||this.defaultvalue||void 0:s[a[r]]}(""===s||void 0===s&&""==t)&&(i[e].value=""),i[e].value=s}let c="";for(let e in i)c=c||i[e].value;if(void 0===c&&""===t||""===c||!1===c||0===c){if(this.stack&&Array.isArray(this.stack)&&"internal"!=a){let t={method:"get",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"get",value:""}):this.options.context),this.stack.push(t)}return!1===c?c:0===c?0:""}{let s=c||this.defaultvalue||t;if(this.stack&&Array.isArray(this.stack)&&"internal"!=a){let t={method:"get",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"get",value:s}):this.options.context),this.stack.push(t)}return s}}assign(e,t,s,a={origin:void 0,type:Object,override:void 0}){let o="object"==typeof a?a.origin:a,n="object"==typeof a?a.override:"override"==a,i="object"==typeof a?a.type:Object;if(this.stack&&Array.isArray(this.stack)&&"internal"!=o&&"override"!=o){let s={method:"assign",path:e};s.method,null!=this.options.context&&(s.context="function"==typeof this.options.context?this.options.context({method:"assign",value:t}):this.options.context),this.stack.push(s)}if(void 0===t&&(t=s||this.defaultvalue),void 0!==e&&""!=e&&"string"==typeof e){for(var r=e.split("."),c=this.data,d=0;d<r.length&&null!=c;d++)if("["!=r[d][0]&&"]"!=r[d][r[d].length-1])if(Object(c).hasOwnProperty(r[d]))if(d==r.length-1)if(c[r[d]]instanceof Set)if(n)if(i==Set)if(c[r[d]]=new Set,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Array)if(c[r[d]]=new Array,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else if(c[r[d]]=new Set,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Array){let e=Array.from(c[r[d]]);if(t instanceof Set||t instanceof Array)for(let s of t)e.push(s);else e.push(t);c[r[d]]=e}else if(i==Object&&!t instanceof Set&&!t instanceof Array)c[r[d]]=t;else if(t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(c[r[d]]instanceof Array)if(n)if(i==Set)if(c[r[d]]=new Set,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Array)if(c[r[d]]=new Array,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else if(c[r[d]]=new Array,t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else if(i==Set)if(c[r[d]]=new Set(c[r[d]]),t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Object&&!t instanceof Set&&!t instanceof Array)c[r[d]]=t;else if(t instanceof Set||t instanceof Array)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else if(n)if(i==Set)if(c[r[d]]=new Set,t instanceof Array||t instanceof Set)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Array)if(c[r[d]]=new Array,t instanceof Array||t instanceof Set)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else c[r[d]]=t;else if(i==Set)if(c[r[d]]=new Set([c[r[d]]]),t instanceof Array||t instanceof Set)for(let e of t)c[r[d]].add(e);else c[r[d]].add(t);else if(i==Array)if(c[r[d]]=new Array(c[r[d]]),t instanceof Array||t instanceof Set)for(let e of t)c[r[d]].push(e);else c[r[d]].push(t);else c[r[d]]=t;else"string"!=typeof c[r[d]]&&void 0!==c[r[d]]&&"number"!=typeof c[r[d]]||(c[r[d]]={}),c=c[r[d]];else if(d==r.length-1){if("object"!=typeof c)return;i==Set?c[r[d]]=new Set([t]):c[r[d]]=i==Array?new Array(t):t}else"["!=r[d+1][0]&&"]"!=r[d][r[d+1].length-1]?c[r[d]]={}:c[r[d]]=[],c=c[r[d]];else if("["==r[d][0]&&"]"==r[d][r[d].length-1]){let e=r[d].slice(1,r[d].length-1);Array.isArray(c)&&Math.abs(e)<c.length?d==r.length-1?c[e]=t:c=c[e]:Array.isArray(c)&&e>=c.length&&(d==r.length-1?c.push(t):(c.push({}),c=c[c.length-1]))}}else"object"==typeof e&&(this.data=Object.assign(this.data,e));return this.data}merge(e,t){if("object"==typeof e&&void 0===t)t=e,e=void 0;else if("string"==typeof e&&"object"==typeof t);else if("object"==typeof e&&"string"==typeof t){let s=e;e=t,t=s}if(this.stack&&Array.isArray(this.stack)){let s={method:"merge",path:e};null!=this.options.context&&(s.context="function"==typeof this.options.context?this.options.context({method:"merge",value:t}):this.options.context),this.stack.push(s)}if(void 0===e||""==e)return this.data=Object.assign(this.data,t),this.data;{let o=e.split("."),n=this.data;for(var s=0;s<o.length&&null!=n;s++)n=Array.isArray(n)&&Math.abs(parseInt(o[s]))<=n.length?parseInt(o[s])<0?n[n.length-Math.abs(parseInt(o[s]))]:n[parseInt(o[s])]:Array.isArray(n)&&Math.abs(parseInt(o[s]))>n.length?this.defaultvalue||void 0:n[o[s]];if(void 0!==n||n!=this.defaultvalue){if(n instanceof Set&&(t instanceof Array||t instanceof Set))t.forEach((function(e){n.add(e)}));else if(Array.isArray(n)&&Array.isArray(t))t.forEach((function(e){n.push(e)}));else if(Array.isArray(n))n.push(t);else{var a=Object.assign(n,t);this.data=this.assign(e,a,void 0,{origin:"internal"})}return this.data}return this.assign(e,t,void 0,{origin:"internal"}),this.data}}remove(e,t){if(this.stack&&Array.isArray(this.stack)&&"internal"!=origin){let t={method:"remove",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"remove",value:void 0}):this.options.context),this.stack.push(t)}if(void 0===t&&(t=!1),""==e||void 0===e)this.clear();else for(var s=e.split("."),a=this.data,o=0;o<s.length&&null!=a;o++)if("string"==typeof s[o]&&1==isNaN(s[o])){if(!Object(a).hasOwnProperty(s[o]))return this.data;if(o==s.length-2)if(a[s[o]]instanceof Set)a[s[o]].delete(s[o+1]);else if(a[s[o]]instanceof Array){let e=a[s[o]].indexOf(s[o+1]);-1!=e&&a[s[o]].splice(e,1)}o==s.length-1?"object"==typeof a[s[o]]||t?delete a[s[o]]:a[s[o]]=void 0:a=a[s[o]]}else if("string"==typeof s[o]&&0==isNaN(s[o])){if(!(Array.isArray(a)&&Math.abs(s[o])<a.length))return this.data;if(o==s.length-1)return a.splice(s[o],1),this.data;a=a[s[o]]}}push(e,t,s=!1){if(this.stack&&Array.isArray(this.stack)&&"internal"!=origin){let s={method:"push",path:e};null!=this.options.context&&(s.context="function"==typeof this.options.context?this.options.context({method:"push",value:t}):this.options.context),this.stack.push(s)}if(""==e||void 0===e)this.data=[this.data],this.data.push(t);else if(e.length>0){let a=this.get(e);if(void 0===a||s)this.assign(e,[t],void 0,{override:!0});else if(a instanceof Set)a.add(t);else if(Array.isArray(a))a.push(t);else if(("object"==typeof a||"string"==typeof a)&&0==s){let s=[a,t];this.assign(e,s,void 0,{origin:"internal"})}}return this.data}mergeDeep(e,t,s,a){if("string"==typeof e?(t=Array.isArray(t)?Array.from(t):Object.assign({},t),void 0===(s=s||this.get(e,void 0,{origin:"internal"}))&&(this.assign(e,{}),s=this.get(e,void 0,{origin:"internal"}))):"object"==typeof e&&(s=t||this.data,t=Array.isArray(t)?Array.from(e):Object.assign({},e)),"object"!=typeof t)throw new Error("expect an object as input");let o=s||this.data;if(this.stack&&Array.isArray(this.stack)&&"internal"!=a){let s={method:"mergeDeep",path:e};null!=this.options.context&&(s.context="function"==typeof this.options.context?this.options.context({method:"mergeDeep",value:t}):this.options.context),this.stack.push(s)}if(Array.isArray(t)){if(Array.isArray(t)&&Array.isArray(o))for(let e in t)"object"!=typeof t[e]?o.push(t[e]):"object"==typeof t[e]&&this.mergeDeep(t[e],o[e],o[e],"internal")}else for(let e in t)if("object"!=typeof t[e])o[e]=t[e];else if("object"==typeof t[e])if("object"!=typeof o[e])o[e]=t[e];else if(!1===Array.isArray(t[e])&&!1===Array.isArray(o[e]))this.mergeDeep(t[e],o[e],o[e],"internal");else if(Array.isArray(t[e])&&Array.isArray(o[e]))for(let s=0;s<Math.max(t[e].length,o[e].length);s++)void 0===t[e][s]||(void 0===o[e][s]?o[e][s]=t[e][s]:"object"!=typeof t[e][s]?-1==o[e].indexOf(t[e][s])&&o[e].push(t[e][s]):this.mergeDeep(t[e][s],o[e][s],o[e][s],"internal"));else Array.isArray(t[e])&&!Array.isArray(o[e])?o[e]=t[e]:!Array.isArray(t[e])&&Array.isArray(o[e])&&o[e].push(t[e])}replace(e,s,a=!1,o,n){if(this.stack&&Array.isArray(this.stack)&&"internal"!=n){let t={method:"replace"};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"replace",value:e,new_value:s}):this.options.context),this.stack.push(t)}let i,r=o||this.data;if(a&&(i=new RegExp(e)),"object"==typeof r)for(let o in r)if("object"!=typeof r[o])a?i.test(r[o])&&(r[o]=s):r[o]==e&&(r[o]=s);else if("object"==typeof r[o])if(Array.isArray(r[o])){let t=this,n=!1;r[o].length>0&&(n="string"==typeof r[o][0]||"number"==typeof r[o][0]);let c=r[o].indexOf(e);if(-1!=c&&(r[o][c]=s),a&&n)for(c=0;c<r[o].length;c++)i.test(r[o][c])&&(r[o][c]=s);else r[o].forEach((function(o){"object"==typeof o&&t.replace(e,s,a,o,"internal")}))}else if(r[o]instanceof Set)for(let t of r[o])a?i.test(t)&&(r[o].delete(t),r[o].add(s)):t==e&&(r[o].delete(e),r[o].add(s));else{if(null==r[o]||void 0===r[o]||r[o]instanceof t)return;this.replace(e,s,a,r[o],"internal")}}searchValue(e,t=!1,s,a,o,n){let i,r=s||this.data,c=null==o?"":o,d=null==a?[]:a;if(t&&(i=new RegExp(e)),"object"==typeof r)for(let s in r)if("object"!=typeof r[s]){if(t){if(i.test(r[s])){let e=""==c?s:c+"."+s;d.push(e)}}else if(r[s]==e){let e=""==c?s:c+"."+s;d.push(e)}}else if(r[s]instanceof Set){if(t){for(let e of r[s])if(i.test(e)){let t=""==c?s:c+"."+s+"."+e;d.push(t)}}else for(let t of r[s])if(t==e){let e=""==c?s:c+"."+s+"."+t;d.push(e)}}else if(Array.isArray(r[s])){let a=!1;if(r[s].length>0&&(a="string"==typeof r[s][0]||"number"==typeof r[s][0]),a){for(let a=0;a<r[s].length;a++)if(t){if(i.test(r[s][a])){let e=""==c?s:c+"."+s+"."+a;d.push(e)}}else if(r[s][a]==e){let e=""==c?s:c+"."+s+"."+a;d.push(e)}}else for(let a=0;a<r[s].length;a++)if("object"==typeof r[s][a]){let o=""==c?s+"."+a:c+"."+s+"."+a;this.searchValue(e,t,r[s][a],d,o,"internal")}}else if("object"==typeof r[s]){let a=""==c?s:c+"."+s;this.searchValue(e,t,r[s],d,a,"internal")}let l={};if(l[e]=d,this.stack&&Array.isArray(this.stack)&&"internal"!=n){let e={method:"searchValue",path:void 0,value:""};null!=this.options.context&&(e.context="function"==typeof this.options.context?this.options.context({method:"searchValue",value:l}):this.options.context),this.stack.push(e)}return l}subSom(e,t,s,a,o){t=t||!1;let n=this.get(e,this.defaultvalue,{origin:"internal"});if(n==this.defaultvalue&&0==t?(n={},Array.isArray(e)?this.assign(e[0],n):this.assign(e,n)):n==this.defaultvalue&&1==t&&(n={}),"object"==typeof n){const i=new this.constructor(n,{dv:this.defaultvalue,deepcopy:t,stack:s,context:a});if(this.stack&&Array.isArray(this.stack)&&"internal"!=o){let t={method:"subSom",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"subSom",value:i}):this.options.context),this.stack.push(t)}return i}if(this.stack&&Array.isArray(this.stack)&&"internal"!=o){let t={method:"subSom",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"subSom",value:void 0}):this.options.context),this.stack.push(t)}}getSubNodes(e,t){t=t||!1;const s=this.subSom(e,t,!1,void 0,"internal");let a=Object.fromEntries(Object.keys(s.data).map((e=>[e,s.subSom(e,t,!1,void 0,"internal")])));if(this.stack&&Array.isArray(this.stack)){let t={method:"getSubNodes",path:e};null!=this.options.context&&(t.context="function"==typeof this.options.context?this.options.context({method:"getSubNodes",value:a}):this.options.context),this.stack.push(t)}return a}modify(e,t){if(this.assign(Array.isArray(e)?e[0]:e,t(this.get(e,void 0,{origin:"modify"}))),this.stack&&Array.isArray(this.stack)){let s={method:"modify",path:e};null!=this.options.context&&(s.context="function"==typeof this.options.context?this.options.context({method:"modify",value:t(this.get(e,void 0,{origin:"modify"}))}):this.options.context),this.stack.push(s)}}clear(){if(this.stack&&Array.isArray(this.stack)){let e={method:"clear",path:void 0};null!=this.options.context&&(e.context="function"==typeof this.options.context?this.options.context({method:"clear",value:void 0}):this.options.context),this.stack.push(e)}this.data={}}}e.exports=t}},"bmw-launch-core/src/lib/Condition.js":{script:function(e){class t{constructor(){this.blockedRules={}}fitsWithRuleName({event:e,withBrand:t,withMarket:s,withApp:a,withComponent:o}){let n=!0;try{if(this.blockedRules[e.$rule.id])return!1;const i=e.detail||e.message&&e.message.eventInfo&&window.adobeDataLayer.extEvntData[e.message.eventInfo.extEvntID];if(!i)return!1;const r=i.get("eventInfo.state");if(r&&(r.cancel||r.reduce(((e,t)=>e||t.cancel),!1)))return!1;let[c,d,l]=e.$rule.name.split(" - ");if(c=(c||"").replace(/(ACDL|CDL|TP2|TPT)\s*/,""),n&&t&&(n=n&&("GROUP"===c||c.split(",").reduce(((e,t)=>(e.push(t.trim()),e)),[]).indexOf(i.get("page.attributes.brand","").toUpperCase()||"GROUP")>=0)),n&&s&&(n=n&&("ALL"===d||d.split(",").reduce(((e,t)=>(e.push(t.trim()),e)),[]).indexOf(a12r.util.getMarket(i))>=0)),n&&a&&(l.indexOf("AEM")>=0&&(l+=",NSC"),n=n&&("ANY"===l||l.split(",").reduce(((e,t)=>(e.push(t.trim()),e)),[]).indexOf(i.get(["eventInfo.origin.app","page.pageInfo.websiteEnv"],"").toUpperCase()||"AEM")>=0)),n&&o){let e=(a12r.util.getComponentClass(i)||"").toUpperCase();n=n&&("ANY"===l||l.split(",").reduce(((e,t)=>(e.push(t.trim()),e)),[]).indexOf(e)>=0)}}catch(e){return!1}return n}cancelPipeline(e,t){if(t){if(!(t instanceof Set)){const e=new Set;e.add(t),t=e}t.forEach((t=>e.assign(`eventInfo.state.filter.${t}.block`,!0)))}else e.assign("eventInfo.state.cancel",!0)}blockThisRule(e){this.blockedRules[e.$rule.id]=!0}isInExperience({session:e,event:t,defaultsTo:s,rule:a}){const o=Object.values(e.experiences||{}).filter((e=>{try{return e.filter({event:t})}catch(e){return!1}}));if(0==o.length)return s;let n=!1;return o.forEach((s=>{const o=e.getExperienceVariant(s.name);n=n||o&&o.filter&&o.filter({event:t,exp:s,rule:a})})),n}}e.exports=t}},"bmw-launch-core/src/lib/BounceTimer.js":{script:function(e){class t{getPromise(){return this.promise||(this.promise=new Promise(((e,t)=>{const a="bmwdtm_hq_sid",o=2e4;if(epaas.api.getPersistence(a))t();else if(epaas.api.setPersistence(a,Math.random())||epaas.api.registerOnUserConsentChange(a,(e=>"GIVEN"===e&&epaas.api.setPersistence(a,Math.random()))),setTimeout(function(){this.hasQueued?t():e()}.bind(this),o),this.callCounter=0,window.s){let e;s.registerPostTrackCallback(function(s){e!==s&&(e=s,++this.callCounter>1&&t())}.bind(this))}else console.log("could not install registerPostTrackCallback")})),this.promise.then((()=>{adobeDataLayer.push({event:"tron event",eventInfo:{effect:"bounce timer",eventName:"bounce timer"}})})).catch((()=>{}))),this.promise}postPromise(e){try{const t=e.message.eventInfo;if("pageview"!==t.eventTrigger&&t.cause.toLowerCase().indexOf("automatic")>=0)return a12r.bounceTimer.hasQueued=!0,Promise.allSettled([a12r.bounceTimer.getPromise()])}catch(e){}return Promise.resolve()}}e.exports=t}},"bmw-launch-core/src/lib/DataLayerMapper.js":{script:function(e){class t{constructor(){this.subMaps=new adobeDataLayer.util.Cache}getMap(){return this.m=this.m||globalThis._satellite&&globalThis._satellite.getVar("DL-Map")}setMap(e){this.m=e}getExtEvntID(e,t){return adobeDataLayer.util.getFirstFunctionWithNonZeroValue([e=>e.eventInfo.extEvntID,e=>e.get("eventInfo.extEvntID"),e=>e],e)}getSubMap(e){return this.subMaps[this.getExtEvntID(e)]}setSubMap(e,t){this.subMaps[this.getExtEvntID(e)]=t}getMergedSubMap(e,t){const s=this.getMap(),a=this.getSubMap(e);return a?adobeDataLayer.util.merge(s,a):s}getDLstd(){return this.dlStd=this.dlStd||globalThis._satellite&&globalThis._satellite.getVar("DL-Std")}setDLstd(e){this.dlStd=e}toArray(e){return Array.isArray(e)?e:e instanceof Set?Array.from(e):[e]}parallelTraverse(e,t,s,a,o={},n,i=""){if(!t)return void console.log("WDPTA-core: no data in mapping. broken reference linked* ?");const r=(e,t)=>{let a;switch(e.slice(-1)){case"+":a=e=>"string"==typeof e?e.toUpperCase():e,e=e.slice(0,-1);break;case"-":a=e=>"string"==typeof e?e.toLowerCase():e,e=e.slice(0,-1);break;case"!":a=e=>e,e=e.slice(0,-1);break;default:a=e=>e}const n=e.slice(1),i=e[0].toLowerCase(),r=isNaN(n)?e:("v"===i?"eVar":"c"===i?"prop":"event")+n;let c=!0;switch(i){case"e":isNaN(n)||(this.eventSet.add(r),c=!1);break;case"m":this.eventSet.add(r.slice(2)),c=!1;break;case"n":n.indexOf("=")>0?(this.eventSet.add("event"+n),c=!1):isNaN(n)||(this.eventSet.add(r+"="+t),c=!1);break;case"p":let i=e.slice(2);const d=e=>{let t=a(e);return"string"==typeof t&&t.replace(/[,;|]/," ")||t};switch(e[1]){case"m":i=i.slice(1);case"n":if(i.indexOf("=")<0)o.nSet["event"+i]=t;else{let[e,t]=i.split("=");o.nSet["event"+e]=t}c=!1;break;case"v":"datalayer field empty"!==t&&(o.vSet["eVar"+i]=d(t),c=!1);break;case":":o[i]=d(t),c=!1}c||(s.linkTrackVars&&s.linkTrackVars.indexOf(",products")<0&&(s.linkTrackVars+=",products"),o.isUsed=!0)}c&&("events"===r?this.eventSet.add(t):"datalayer field empty"!==t&&("function"==typeof s[r]?s[r](t):(s[r]=a(t),s.linkTrackVars=(s.linkTrackVars&&"None"!==s.linkTrackVars?s.linkTrackVars+",":"events,")+r)))};return s=s||{},a=void 0===a?0:a,n||(n={mapping:e,data:t}),this.eventSet=this.eventSet||s.events&&new Set(s.events.split(","))||new Set,this.productSets=this.productSets||[],Object.entries(e).forEach((([c,d])=>{switch(typeof d){case"object":if(t)if(t[c])this.parallelTraverse(d,t[c],s,a+1,o,n,i+"."+c);else{let o;"**"===c?o=/.*/:"/"===c[0]&&(o=(([e,t])=>new RegExp(e,t))(c.match(new RegExp("/([^/]*)/(.*)")).slice(1))),o&&Object.keys(t).filter((e=>o.test(e))).forEach((o=>{let r={nSet:new Set,vSet:new Set};this.parallelTraverse(e[c],t[o],s,a+1,r,n,i+"."+c),r.isUsed&&this.productSets.push(r)}))}break;case"function":try{r(c,d(t))}catch(e){}break;case"string":d.split(";").forEach((e=>{let l=(u=e.match(/x:([^,;]*)/g))?u.map((e=>e.slice(2))):0;var u;if(0===c.indexOf("linked")&&i.endsWith(".reference")||l){let e="string"==typeof t[c]?[t[c]]:t[c];e instanceof Set&&(e=Array.from(e)),Array.isArray(e)||(e=e&&Object.keys(e)||[]),l=l||[d],e.forEach((e=>{l.forEach((t=>{let r={nSet:{},vSet:{}},d=this.getReference(n.data,t,e),l=this.getReference(n.mapping,t,"*");d&&l&&(this.parallelTraverse(l,d,s,a+1,r,n,i+"."+c),r.isUsed&&(a>2?(Object.assign(o.nSet,r.nSet),Object.assign(o.vSet,r.vSet),["id","quantity","category","total"].forEach((e=>{o[e]=void 0===o[e]?void 0===r[e]?void 0:r[e]:o[e]})),o.isUsed=!0):this.productSets.push(r)))}))}))}else if(["string","number"].includes(typeof t)&&(c===t||"_"===c)||void 0!==t[c]||d.indexOf("!")>0){const s=e.split(",");r(s[0],["string","number"].includes(typeof t)?t:void 0===t[c]?e.indexOf("!")>0?c:void 0:t[c]),s.slice(1).forEach((e=>r(e,"D="+s[0])))}}))}const l=Array.isArray(t)?t:[t];let u;if("/"===c[0]&&(u=(([e,t])=>new RegExp(e,t))(c.match(new RegExp("/([^/]*)/(.*)")).slice(1))),l.indexOf(c)>=0||u&&u.test(t)){const t=Array.isArray(e[c])?e[c]:[e[c]];t.filter((e=>e>0||e.startsWith("m:"))).length===t.length&&t.map((e=>e>0?"event"+e:e.slice(2))).forEach(this.eventSet.add,this.eventSet)}})),0===a&&(s.products=this.productSets.map((e=>(Object.keys(e.nSet).forEach((e=>this.eventSet.add(e))),(e.category||"")+";"+(e.id||"")+";"+(void 0===e.quantity?"":e.quantity)+";"+(void 0===e.total?"":e.total)+";"+Object.entries(e.nSet).map((([e,t])=>e+(void 0===t?"":"="+t))).join("|")+";"+Object.entries(e.vSet).map((([e,t])=>e+(void 0===t?"":"="+t))).join("|")))).join(","),s.events=[...this.eventSet].join(","),s.linkTrackEvents=""),s}getReference(e,t,s){if(t&&t.indexOf("*")>=0&&e){const a=(e,t)=>{if(1==e.length)return t&&t[e[0]];if("*"!=e[0]||!t)return t&&e[0]&&a(e.slice(1),t[e[0]]);{let s=Object.keys(t);for(let o=0;o<s.length;o++){let n=a(e.slice(1),t[s[o]]);if(void 0!==n)return n}}};return a(t.split(".").concat(s),e)}const a=t.split(".").reduce(((e,t)=>e&&e[t]),e);return a&&a[s]}clearExtraVars(e){e.events=this.eventSet=e.linkTrackVars=this.productSets=void 0}map({dataLayer:e,event:t}){return this.parallelTraverse(this.getMap(),t,this.parallelTraverse(this.getMap(),e))}mapSatellite({dataLayer:e,event:t,s:s,acdl_event:a,subMap:o}){return t=t||a&&a.message||{},e=e||a&&a.fullState||globalThis.adobeDataLayer.getState(),s=s||{},this.clearExtraVars(s),this.lCM=this.getMergedSubMap(t,e),this.parallelTraverse(this.lCM,this.getDLstd(),s),this.parallelTraverse(this.lCM,Object.assign({},e,t),s),s}_getVersion(){return"[VI]{version} - {date}[/VI]"}}e.exports=t}},"bmw-launch-core/src/lib/ExtEvntData.js":{script:function(e,t,s){const a=s("./Performance.js");class o{constructor(e=window.adobeDataLayer){this.cache=new e.Som,this.adobeDataLayer=e}new(e){const t=this.sequence=(this.sequence||1e4)+1;if(e instanceof this.adobeDataLayer.Som)this[t]=e;else{e=e||{};const s={stack:adobeDataLayer.util.dbg.debugThisRule("__withSomStack")};s.stack&&(s.context=adobeDataLayer.util.dbg.getContextForStack.bind(adobeDataLayer.util.dbg)),this[t]=new this.adobeDataLayer.Som(e,s),adobeDataLayer.util.performance.initDL(this[t]),e.eventInfo&&e.eventInfo.state&&e.eventInfo.state.cancel&&this[t].assign("eventInfo.state.cancel",!0)}return this[t].push("eventInfo.state",{id:"start",perf:new a}),this[t].assign("eventInfo.extEvntID",t),this[t].get("eventInfo.timeStamp")||this[t].assign("eventInfo.timeStamp",(new Date).getTime()),adobeDataLayer.util.dbg.getDebugLevel()&&adobeDataLayer.util.initSatRegister(),{ID:t,DL:this[t]}}getLastDL(){return Object.values(this).filter((e=>e instanceof a12r.Som&&e.get("eventInfo.state",[]).length>2)).pop()}get(e){return this[e]}modifyOnAny({current:e,conditions:t,comparator:s,modifier:a,exitOnFirst:o}){const n=Object.keys(this),i=[({cur:e,evID:t})=>!isNaN(t)&&void 0,({cur:e,evID:t})=>e!==this[t]&&void 0].concat(t||[({cur:e,evID:t})=>!(!s||!s(e,this[t]))||void 0]),r={};try{for(let t=0;t<n.length;t++){const s=n[t];if(a12r.util.getFirstFunctionWithValue(i,{cur:e,evID:s,it:this[s]})){const t=a(e,this[s],r);if(o)return t}}}catch(t){e&&e.push("eventInfo.state",{where:"extEvntData.modifyOnAny",err:t})}return r}cancelOnBefore(e){return!0===this.modifyOnAny({current:e.current,conditions:[({cur:e,it:t})=>!(1*e.get("eventInfo.extEvntID")<1*t.get("eventInfo.extEvntID"))&&void 0].concat((({cur:t,it:s})=>!(!e.comparator||!e.comparator(t,s))||void 0)),modifier:e=>a12r.condition.cancelPipeline(e)})}doFixes(e,t){const s=[];return Object.entries(e).filter((([e,s])=>void 0===t.som.get(e))).forEach((([e,a])=>{try{e.startsWith("!")&&(e=e.slice(1));let o=t.som.get(e);const n=a.apply(this,[{...t,value:o}]);n!==o&&t.som.assign(e,n),s.push(e)}catch(e){}}),{}),s}}e.exports=o}},"bmw-launch-core/src/lib/CookieSupport.js":{script:function(e,t,s){const a=s("@adobe/reactor-cookie");class o{constructor({util:e}){this.util=e,this.initSaveSatelliteCookie()}initSaveSatelliteCookie(){this.util.withEPaaS((function(){globalThis.epaas&&epaas.api.getApiInfo().splitConsentManagement&&(a.get=consentcontroller.api.getPersistence,a.set=function(e,t){return epaas.api.setPersistence(e,t)})}))}}e.exports=o}},"bmw-launch-core/src/lib/SandboxOnly.js":{script:function(e,t,s,a){class o{constructor({util:e}){console.log("isInSandbox: "+a.environment.stage),e.withEPaaS((()=>{window.parent.adobeDataLayer=window.adobeDataLayer})),s("@adobe/reactor-load-script")("https://www.bmw.com/etc/clientlibs/wcmp/consentcontroller.fallback/epaas.js").then((function(){epaas.api.initialize({tenant:"epaas_gon3_de",locale:"de_DE",async:!1})}))}}e.exports=o}},"bmw-launch-core/src/lib/Cache.js":{script:function(e){
e.exports=class{constructor(){this.cache={}}get(e){return this.cache[e]}set(e,t){this.cache[e]=t}remove(e){return delete this.cache[e]}}}}}},"gcoe-adobe-client-data-layer":{displayName:"Adobe Client Data Layer",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6e4c031a8b7640d7ac3fab013fa28b17/",settings:{dataLayerName:"adobeDataLayer",injectLibrary:!0},modules:{"gcoe-adobe-client-data-layer/src/lib/dataElements/datalayerComputedState.js":{name:"datalayer-computed-state",displayName:"Data Layer Computed State",script:function(e,t,s){"use strict";e.exports=function(e){if(null!=e){var t=a();if(void 0!==t)return""!==e.path?t.getState(e.path):t.getState()}};var a=s("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js":{name:"datalayer-push",displayName:"Data Pushed",script:function(e,t,s){"use strict";e.exports=function(e,t){if(null!=e){var s=e.method,o=e.eventKey,n=e.scope,i=a(),r=function(e){var s={message:e,beforeState:{},afterState:{},fullState:i.getState()};t(s)},c={};void 0!==n&&(c.scope=n),"allData"===s?i.push((function(e){e.addEventListener("adobeDataLayer:change",r,c)})):"allEvents"===s?i.push((function(e){e.addEventListener("adobeDataLayer:event",r,c)})):"specificEvent"===s&&""!==o&&i.push((function(e){e.addEventListener(o,r,c)}))}};var a=s("../util/getDataLayer")}},"gcoe-adobe-client-data-layer/src/lib/main.js":{script:function(e,t,s,a){var o=a.getExtensionSettings(),n=o.dataLayerName,i=o.injectLibrary;if(window.adobeDataLayer=window.adobeDataLayer||[],"object"!=typeof window.adobeDataLayer&&(a.logger.log("Initializing adobeDataLayer to [] as it isn't an object yet."),window.adobeDataLayer=[]),"adobeDataLayer"!==n&&("object"==typeof window[n]?(a.logger.log('Using "'+n+'" instead of "adobeDataLayer" as data layer name.'),window.adobeDataLayer.push((function(e){for(var t=0;t<window[n].length;t++)e.push(window[n][t]);window[n]=e}))):a.logger.warn('Could not use "'+n+'" instead of "adobeDataLayer", because the object does not exist!')),i&&void 0===window.adobeDataLayer.getState){function r(e,t){return l(e)||d(e,t)||b(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],a=!0,o=!1,n=void 0;try{for(var i,r=e[Symbol.iterator]();!(a=(i=r.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}return s}}function l(e){if(Array.isArray(e))return e}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=b(e))){var t=0,s=function(){};return{s:s,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,n=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw o}}}}function b(e,t){if(e){if("string"==typeof e)return m(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.logger.log("Initializing adobeDataLayer as it wasn't found during the initialization."),function e(t,a,o){function n(r,c){if(!a[r]){if(!t[r]){var d="function"==typeof s&&s;if(!c&&d)return d(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[r]={exports:{}};t[r][0].call(u.exports,(function(e){return n(t[r][1][e]||e)}),u,u.exports,e,t,a,o)}return a[r].exports}for(var i="function"==typeof s&&s,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(e,t,s){(function(e){(function(){function a(e,t){for(var s=-1,a=null==e?0:e.length,o=0,n=[];++s<a;){var i=e[s];t(i,s,e)&&(n[o++]=i)}return n}function o(e,t){for(var s=-1,a=null==e?0:e.length,o=Array(a);++s<a;)o[s]=t(e[s],s,e);return o}function n(e,t){for(var s=-1,a=t.length,o=e.length;++s<a;)e[o+s]=t[s];return e}function i(e,t){for(var s=-1,a=null==e?0:e.length;++s<a;)if(t(e[s],s,e))return!0;return!1}function r(e,t,s){var a=e.length;for(s+=-1;++s<a;)if(t(e[s],s,e))return s;return-1}function c(e){return e!=e}function d(e){return function(t){return e(t)}}function l(e){var t=-1,s=Array(e.size);return e.forEach((function(e,a){s[++t]=[a,e]})),s}function u(e){var t=Object;return function(s){return e(t(s))}}function b(e){var t=-1,s=Array(e.size);return e.forEach((function(e){s[++t]=e})),s}function m(){}function p(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function g(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function v(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var a=e[t];this.set(a[0],a[1])}}function h(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new v;++t<s;)this.add(e[t])}function P(e){this.size=(this.__data__=new g(e)).size}function y(e,t){var s,a=hs(e),o=!a&&vs(e),n=!a&&!o&&Ps(e),i=!a&&!o&&!n&&Cs(e);if(a=a||o||n||i){o=e.length;for(var r=String,c=-1,d=Array(o);++c<o;)d[c]=r(c);o=d}else o=[];for(s in r=o.length,e)!t&&!Pt.call(e,s)||a&&("length"==s||n&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||te(s,r))||o.push(s);return o}function j(e,t,s){(s===Be||me(e[t],s))&&(s!==Be||t in e)||R(e,t,s)}function C(e,t,s){var a=e[t];Pt.call(e,t)&&me(a,s)&&(s!==Be||t in e)||R(e,t,s)}function w(e,t){for(var s=e.length;s--;)if(me(e[s][0],t))return s;return-1}function R(e,t,s){"__proto__"==t&&Dt?Dt(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}function x(e,t,s,a,o,n){var i,r=1&t,c=2&t,d=4&t;if(s&&(i=o?s(e,a,o,n):s(e)),i!==Be)return i;if(!he(e))return e;if(a=hs(e)){if(i=function(e){var t=e.length,s=new e.constructor(t);return t&&"string"==typeof e[0]&&Pt.call(e,"index")&&(s.index=e.index,s.input=e.input),s}(e),!r)return G(e,i)}else{var l=is(e),u="[object Function]"==l||"[object GeneratorFunction]"==l;if(Ps(e))return M(e,r);if("[object Object]"==l||"[object Arguments]"==l||u&&!o){if(i=c||u?{}:X(e),!r)return c?function(e,t){return K(e,ns(e),t)}(e,function(e,t){return e&&K(t,ke(t),e)}(i,e)):function(e,t){return K(e,os(e),t)}(e,function(e,t){return e&&K(t,Le(t),e)}(i,e))}else{if(!tt[l])return o?e:{};i=function(e,t,s){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return B(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return t=s?B(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return U(e,s);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(t=new e.constructor(e.source,$e.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return Qt?Object(Qt.call(e)):{}}}(e,l,r)}}if(o=(n=n||new P).get(e))return o;if(n.set(e,i),js(e))return e.forEach((function(a){i.add(x(a,t,s,a,e,n))})),i;if(ys(e))return e.forEach((function(a,o){i.set(o,x(a,t,s,o,e,n))})),i;c=d?c?$:z:c?ke:Le;var b=a?Be:c(e);return function(e,t){for(var s=-1,a=null==e?0:e.length;++s<a&&!1!==t(e[s],s,e););}(b||e,(function(a,o){b&&(a=e[o=a]),C(i,o,x(a,t,s,o,e,n))})),i}function I(e,t){for(var s=0,a=(t=F(t,e)).length;null!=e&&s<a;)e=e[ie(t[s++])];return s&&s==a?e:Be}function E(e,t,s){return t=t(e),hs(e)?t:n(t,s(e))}function T(e){if(null==e)e=e===Be?"[object Undefined]":"[object Null]";else if(Ot&&Ot in Object(e)){var t=Pt.call(e,Ot),s=e[Ot];try{e[Ot]=Be;var a=!0}catch(e){}var o=jt.call(e);a&&(t?e[Ot]=s:delete e[Ot]),e=o}else e=jt.call(e);return e}function A(e,t){return null!=e&&Pt.call(e,t)}function L(e,t){return null!=e&&t in Object(e)}function k(e){return Pe(e)&&"[object Arguments]"==T(e)}function _(e,t,s,a,o){if(e===t)t=!0;else if(null==e||null==t||!Pe(e)&&!Pe(t))t=e!=e&&t!=t;else e:{var n,i,r=hs(e),c=hs(t),d="[object Object]"==(n="[object Arguments]"==(n=r?"[object Array]":is(e))?"[object Object]":n);if(c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":is(t))?"[object Object]":i),(i=n==i)&&Ps(e)){if(!Ps(t)){t=!1;break e}d=!(r=!0)}if(i&&!d)o=o||new P,t=r||Cs(e)?q(e,t,s,a,_,o):function(e,t,s,a,o,n,i){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!n(new It(e),new It(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var r=l;case"[object Set]":if(r=r||b,e.size!=t.size&&!(1&a))break;return(s=i.get(e))?s==t:(a|=2,i.set(e,t),t=q(r(e),r(t),a,o,n,i),i.delete(e),t);case"[object Symbol]":if(Qt)return Qt.call(e)==Qt.call(t)}return!1}(e,t,n,s,a,_,o);else{if(!(1&s)&&(r=d&&Pt.call(e,"__wrapped__"),n=c&&Pt.call(t,"__wrapped__"),r||n)){t=_(e=r?e.value():e,t=n?t.value():t,s,a,o=o||new P);break e}if(i)t:if(o=o||new P,r=1&s,n=z(e),c=n.length,i=z(t).length,c==i||r){for(d=c;d--;){var u=n[d];if(!(r?u in t:Pt.call(t,u))){t=!1;break t}}if((i=o.get(e))&&o.get(t))t=i==t;else{i=!0,o.set(e,t),o.set(t,e);for(var m=r;++d<c;){var f=e[u=n[d]],p=t[u];if(a)var g=r?a(p,f,u,t,e,o):a(f,p,u,e,t,o);if(g===Be?f!==p&&!_(f,p,s,a,o):!g){i=!1;break}m=m||"constructor"==u}i&&!m&&(s=e.constructor)!=(a=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof s&&s instanceof s&&"function"==typeof a&&a instanceof a)&&(i=!1),o.delete(e),o.delete(t),t=i}}else t=!1;else t=!1}}return t}function O(e){return"function"==typeof e?e:null==e?De:"object"==f(e)?hs(e)?function(e,t){return se(e)&&t==t&&!he(t)?oe(ie(e),t):function(s){var a=Te(s,e);return a===Be&&a===t?Ae(s,e):_(t,a,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Le(e),s=t.length;s--;){var a=t[s],o=e[a];t[s]=[a,o,o==o&&!he(o)]}return t}(e);return 1==t.length&&t[0][2]?oe(t[0][0],t[0][1]):function(s){return s===e||function(e,t){var s=t.length,a=s;if(null==e)return!a;for(e=Object(e);s--;)if((o=t[s])[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1;for(;++s<a;){var o,n=(o=t[s])[0],i=e[n],r=o[1];if(o[2]){if(i===Be&&!(n in e))return!1}else if(o=new P,void 0!==Be||!_(r,i,3,void 0,o))return!1}return!0}(s,t)}}(e):Ne(e)}function D(e){if(!ae(e))return Vt(e);var t,s=[];for(t in Object(e))Pt.call(e,t)&&"constructor"!=t&&s.push(t);return s}function S(e,t,s,a,o){e!==t&&ss(t,(function(n,i){if(he(n)){var r=o=o||new P,c="__proto__"==i?Be:e[i],d="__proto__"==i?Be:t[i];if(f=r.get(d))j(e,i,f);else{var l=(f=a?a(c,d,i+"",e,t,r):Be)===Be;if(l){var u=hs(d),b=!u&&Ps(d),m=!u&&!b&&Cs(d),f=d;u||b||m?f=hs(c)?c:pe(c)?G(c):b?M(d,!(l=!1)):m?U(d,!(l=!1)):[]:ye(d)||vs(d)?vs(f=c)?f=Ie(c):(!he(c)||s&&ge(c))&&(f=X(d)):l=!1}l&&(r.set(d,f),S(f,d,s,a,r),r.delete(d)),j(e,i,f)}}else(r=a?a("__proto__"==i?Be:e[i],n,i+"",e,t,o):Be)===Be&&(r=n),j(e,i,r)}),ke)}function N(e){if("string"==typeof e)return e;if(hs(e))return o(e,N)+"";if(Ce(e))return Xt?Xt.call(e):"";var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}function V(e,t){var s;if((t=F(t,e)).length<2)s=e;else{var a=0,o=-1,n=-1,i=(s=t).length;for(a<0&&(a=i<-a?0:i+a),(o=i<o?i:o)<0&&(o+=i),i=o<a?0:o-a>>>0,a>>>=0,o=Array(i);++n<i;)o[n]=s[n+a];s=I(e,o)}null==(e=s)||delete e[ie(le(t))]}function F(e,t){return hs(e)?e:se(e,t)?[e]:fs(Ee(e))}function M(e,t){if(t)return e.slice();var s=e.length;return s=Et?Et(s):new e.constructor(s),e.copy(s),s}function B(e){var t=new e.constructor(e.byteLength);return new It(t).set(new It(e)),t}function U(e,t){return new e.constructor(t?B(e.buffer):e.buffer,e.byteOffset,e.length)}function G(e,t){var s=-1,a=e.length;for(t=t||Array(a);++s<a;)t[s]=e[s];return t}function K(e,t,s){var a=!s;s=s||{};for(var o=-1,n=t.length;++o<n;){var i=t[o],r=Be;r===Be&&(r=e[i]),a?R(s,i,r):C(s,i,r)}return s}function H(e){return function(e){return ms(ne(e,void 0,De),e+"")}((function(t,s){var a,o=-1,n=s.length,i=1<n?s[n-1]:Be,r=2<n?s[2]:Be;if(i=3<e.length&&"function"==typeof i?(n--,i):Be,a=r){a=s[0];var c=s[1];if(he(r)){var d=f(c);a=!!("number"==d?fe(r)&&te(c,r.length):"string"==d&&c in r)&&me(r[c],a)}else a=!1}for(a&&(i=n<3?Be:i,n=1),t=Object(t);++o<n;)(r=s[o])&&e(t,r,o,i);return t}))}function W(e){return ye(e)?Be:e}function q(e,t,s,a,o,n){var r=1&s,c=e.length;if(c!=(d=t.length)&&!(r&&c<d))return!1;if((d=n.get(e))&&n.get(t))return d==t;var d=-1,l=!0,u=2&s?new h:Be;for(n.set(e,t),n.set(t,e);++d<c;){var b=e[d],m=t[d];if(a)var f=r?a(m,b,d,t,e,n):a(b,m,d,e,t,n);if(f!==Be){if(f)continue;l=!1;break}if(u){if(!i(t,(function(e,t){if(!u.has(t)&&(b===e||o(b,e,s,a,n)))return u.push(t)}))){l=!1;break}}else if(b!==m&&!o(b,m,s,a,n)){l=!1;break}}return n.delete(e),n.delete(t),l}function z(e){return E(e,Le,os)}function $(e){return E(e,ke,ns)}function Y(e,t){var s=(s=m.iteratee||Se)===Se?O:s;return arguments.length?s(e,t):s}function Z(e,t){var s=e.__data__,a=f(t);return("string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==t:null===t)?s["string"==typeof t?"string":"hash"]:s.map}function J(e,t){var s=null==e?Be:e[t];return!he(s)||yt&&yt in s||!(ge(s)?wt:Je).test(re(s))?Be:s}function Q(e,t,s){for(var a=-1,o=(t=F(t,e)).length,n=!1;++a<o;){var i=ie(t[a]);if(!(n=null!=e&&s(e,i)))break;e=e[i]}return n||++a!=o?n:!!(o=null==e?0:e.length)&&ve(o)&&te(i,o)&&(hs(e)||vs(e))}function X(e){return"function"!=typeof e.constructor||ae(e)?{}:es(Tt(e))}function ee(e){return hs(e)||vs(e)||!!(_t&&e&&e[_t])}function te(e,t){var s=f(e);return!!(t=null==t?9007199254740991:t)&&("number"==s||"symbol"!=s&&Xe.test(e))&&-1<e&&0==e%1&&e<t}function se(e,t){if(hs(e))return!1;var s=f(e);return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!Ce(e))||He.test(e)||!Ke.test(e)||null!=t&&e in Object(t)}function ae(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||gt)}function oe(e,t){return function(s){return null!=s&&s[e]===t&&(t!==Be||e in Object(s))}}function ne(e,t,s){return t=Ft(t===Be?e.length-1:t,0),function(){for(var a=arguments,o=-1,n=Ft(a.length-t,0),i=Array(n);++o<n;)i[o]=a[t+o];for(o=-1,n=Array(t+1);++o<t;)n[o]=a[o];return n[t]=s(i),function(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}(e,this,n)}}function ie(e){if("string"==typeof e||Ce(e))return e;var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}function re(e){if(null==e)return"";try{return ht.call(e)}catch(e){}return e+""}function ce(e,t,s){var a=null==e?0:e.length;return a?((s=null==s?0:Re(s))<0&&(s=Ft(a+s,0)),r(e,Y(t,3),s)):-1}function de(e){return null!=e&&e.length?function e(t,s,a,o,i){var r=-1,c=t.length;for(a=a||ee,i=i||[];++r<c;){var d=t[r];0<s&&a(d)?1<s?e(d,s-1,a,o,i):n(i,d):o||(i[i.length]=d)}return i}(e,1):[]}function le(e){var t=null==e?0:e.length;return t?e[t-1]:Be}function ue(e,t){function s(){var a=arguments,o=t?t.apply(this,a):a[0],n=s.cache;return n.has(o)?n.get(o):(a=e.apply(this,a),s.cache=n.set(o,a)||n,a)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");return s.cache=new(ue.Cache||v),s}function be(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function me(e,t){return e===t||e!=e&&t!=t}function fe(e){return null!=e&&ve(e.length)&&!ge(e)}function pe(e){return Pe(e)&&fe(e)}function ge(e){return!!he(e)&&("[object Function]"==(e=T(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function ve(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}function he(e){var t=f(e);return null!=e&&("object"==t||"function"==t)}function Pe(e){return null!=e&&"object"==f(e)}function ye(e){return!(!Pe(e)||"[object Object]"!=T(e))&&(null===(e=Tt(e))||"function"==typeof(e=Pt.call(e,"constructor")&&e.constructor)&&e instanceof e&&ht.call(e)==Ct)}function je(e){return"string"==typeof e||!hs(e)&&Pe(e)&&"[object String]"==T(e)}function Ce(e){return"symbol"==f(e)||Pe(e)&&"[object Symbol]"==T(e)}function we(e){return e?(e=xe(e))===Ue||e===-Ue?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Re(e){var t=(e=we(e))%1;return e==e?t?e-t:e:0}function xe(e){if("number"==typeof e)return e;if(Ce(e))return Ge;if(he(e)&&(e=he(e="function"==typeof e.valueOf?e.valueOf():e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(qe,"");var t=Ze.test(e);return t||Qe.test(e)?at(e.slice(2),t?2:8):Ye.test(e)?Ge:+e}function Ie(e){return K(e,ke(e))}function Ee(e){return null==e?"":N(e)}function Te(e,t,s){return(e=null==e?Be:I(e,t))===Be?s:e}function Ae(e,t){return null!=e&&Q(e,t,L)}function Le(e){return fe(e)?y(e):D(e)}function ke(e){if(fe(e))e=y(e,!0);else if(he(e)){var t,s=ae(e),a=[];for(t in e)("constructor"!=t||!s&&Pt.call(e,t))&&a.push(t);e=a}else{if(t=[],null!=e)for(s in Object(e))t.push(s);e=t}return e}function _e(e){return null==e?[]:function(e,t){return o(t,(function(t){return e[t]}))}(e,Le(e))}function Oe(e){return function(){return e}}function De(e){return e}function Se(e){return O("function"==typeof e?e:x(e,1))}function Ne(e){return se(e)?function(e){return function(t){return null==t?Be:t[e]}}(ie(e)):function(e){return function(t){return I(t,e)}}(e)}function Ve(){return[]}function Fe(){return!1}function Me(){}var Be,Ue=1/0,Ge=NaN,Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,He=/^\w*$/,We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qe=/^\s+|\s+$/g,ze=/\\(\\)?/g,$e=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,Ze=/^0b[01]+$/i,Je=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var tt={};tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt["[object Function]"]=tt["[object WeakMap]"]=!1;var st,at=parseInt,ot="object"==f(e)&&e&&e.Object===Object&&e,nt="object"==("undefined"==typeof self?"undefined":f(self))&&self&&self.Object===Object&&self,it=ot||nt||Function("return this")(),rt="object"==f(s)&&s&&!s.nodeType&&s,ct=rt&&"object"==f(t)&&t&&!t.nodeType&&t,dt=ct&&ct.exports===rt,lt=dt&&ot.process;e:{try{st=lt&&lt.binding&&lt.binding("util");break e}catch(d){}st=void 0}var ut,bt=st&&st.isMap,mt=st&&st.isSet,ft=st&&st.isTypedArray,pt=Array.prototype,gt=Object.prototype,vt=it["__core-js_shared__"],ht=Function.prototype.toString,Pt=gt.hasOwnProperty,yt=(ut=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",jt=gt.toString,Ct=ht.call(Object),wt=RegExp("^"+ht.call(Pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=dt?it.Buffer:Be,xt=it.Symbol,It=it.Uint8Array,Et=Rt?Rt.a:Be,Tt=u(Object.getPrototypeOf),At=Object.create,Lt=gt.propertyIsEnumerable,kt=pt.splice,_t=xt?xt.isConcatSpreadable:Be,Ot=xt?xt.toStringTag:Be,Dt=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),St=Object.getOwnPropertySymbols,Nt=Rt?Rt.isBuffer:Be,Vt=u(Object.keys),Ft=Math.max,Mt=Date.now,Bt=J(it,"DataView"),Ut=J(it,"Map"),Gt=J(it,"Promise"),Kt=J(it,"Set"),Ht=J(it,"WeakMap"),Wt=J(Object,"create"),qt=re(Bt),zt=re(Ut),$t=re(Gt),Yt=re(Kt),Zt=re(Ht),Jt=xt?xt.prototype:Be,Qt=Jt?Jt.valueOf:Be,Xt=Jt?Jt.toString:Be,es=function(e){return he(e)?At?At(e):(Me.prototype=e,e=new Me,Me.prototype=Be,e):{}};p.prototype.clear=function(){this.__data__=Wt?Wt(null):{},this.size=0},p.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},p.prototype.get=function(e){var t=this.__data__;return Wt?"__lodash_hash_undefined__"===(e=t[e])?Be:e:Pt.call(t,e)?t[e]:Be},p.prototype.has=function(e){var t=this.__data__;return Wt?t[e]!==Be:Pt.call(t,e)},p.prototype.set=function(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=Wt&&t===Be?"__lodash_hash_undefined__":t,this},g.prototype.clear=function(){this.__data__=[],this.size=0},g.prototype.delete=function(e){var t=this.__data__;return!((e=w(t,e))<0||(e==t.length-1?t.pop():kt.call(t,e,1),--this.size,0))},g.prototype.get=function(e){var t=this.__data__;return(e=w(t,e))<0?Be:t[e][1]},g.prototype.has=function(e){return-1<w(this.__data__,e)},g.prototype.set=function(e,t){var s=this.__data__,a=w(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this},v.prototype.clear=function(){this.size=0,this.__data__={hash:new p,map:new(Ut||g),string:new p}},v.prototype.delete=function(e){return e=Z(this,e).delete(e),this.size-=e?1:0,e},v.prototype.get=function(e){return Z(this,e).get(e)},v.prototype.has=function(e){return Z(this,e).has(e)},v.prototype.set=function(e,t){var s=Z(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},h.prototype.has=function(e){return this.__data__.has(e)},P.prototype.clear=function(){this.__data__=new g,this.size=0},P.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},P.prototype.get=function(e){return this.__data__.get(e)},P.prototype.has=function(e){return this.__data__.has(e)},P.prototype.set=function(e,t){var s=this.__data__;if(s instanceof g){var a=s.__data__;if(!Ut||a.length<199)return a.push([e,t]),this.size=++s.size,this;s=this.__data__=new v(a)}return s.set(e,t),this.size=s.size,this};var ts=function(e,t){if(null==e)return e;if(!fe(e))return function(e,t){return e&&ss(e,t,Le)}(e,t);for(var s=e.length,a=-1,o=Object(e);++a<s&&!1!==t(o[a],a,o););return e},ss=function(e,t,s){for(var a=-1,o=Object(e),n=(s=s(e)).length;n--;){var i=s[++a];if(!1===t(o[i],i,o))break}return e},as=Dt?function(e,t){return Dt(e,"toString",{configurable:!0,enumerable:!1,value:Oe(t),writable:!0})}:De,os=St?function(e){return null==e?[]:(e=Object(e),a(St(e),(function(t){return Lt.call(e,t)})))}:Ve,ns=St?function(e){for(var t=[];e;)n(t,os(e)),e=Tt(e);return t}:Ve,is=T;(Bt&&"[object DataView]"!=is(new Bt(new ArrayBuffer(1)))||Ut&&"[object Map]"!=is(new Ut)||Gt&&"[object Promise]"!=is(Gt.resolve())||Kt&&"[object Set]"!=is(new Kt)||Ht&&"[object WeakMap]"!=is(new Ht))&&(is=function(e){var t=T(e);if(e=(e="[object Object]"==t?e.constructor:Be)?re(e):"")switch(e){case qt:return"[object DataView]";case zt:return"[object Map]";case $t:return"[object Promise]";case Yt:return"[object Set]";case Zt:return"[object WeakMap]"}return t});var rs,cs,ds,ls,us,bs,ms=(ls=as,bs=us=0,function(){var e=Mt(),t=16-(e-bs);if(bs=e,0<t){if(800<=++us)return arguments[0]}else us=0;return ls.apply(Be,arguments)}),fs=(ds=(cs=ue(cs=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(We,(function(e,s,a,o){t.push(a?o.replace(ze,"$1"):s||e)})),t},(function(e){return 500===ds.size&&ds.clear(),e}))).cache,cs),ps=(rs=ce,function(e,t,s){var a=Object(e);if(!fe(e)){var o=Y(t,3);e=Le(e),t=function(e){return o(a[e],e,a)}}return-1<(t=rs(e,t,s))?a[o?e[t]:t]:Be});ue.Cache=v;var gs,vs=k(function(){return arguments}())?k:function(e){return Pe(e)&&Pt.call(e,"callee")&&!Lt.call(e,"callee")},hs=Array.isArray,Ps=Nt||Fe,ys=bt?d(bt):function(e){return Pe(e)&&"[object Map]"==is(e)},js=mt?d(mt):function(e){return Pe(e)&&"[object Set]"==is(e)},Cs=ft?d(ft):function(e){return Pe(e)&&ve(e.length)&&!!et[T(e)]},ws=H((function(e,t,s){S(e,t,s)})),Rs=H((function(e,t,s,a){S(e,t,s,a)})),xs=ms(ne(gs=function(e,t){var s={};if(null==e)return s;var a=!1;t=o(t,(function(t){return t=F(t,e),a=a||1<t.length,t})),K(e,$(e),s),a&&(s=x(s,7,W));for(var n=t.length;n--;)V(s,t[n]);return s},Be,de),gs+"");m.constant=Oe,m.flatten=de,m.iteratee=Se,m.keys=Le,m.keysIn=ke,m.memoize=ue,m.merge=ws,m.mergeWith=Rs,m.negate=be,m.omit=xs,m.property=Ne,m.reject=function(e,t){return(hs(e)?a:function(e,t){var s=[];return ts(e,(function(e,a,o){t(e,a,o)&&s.push(e)})),s})(e,be(Y(t,3)))},m.toPlainObject=Ie,m.values=_e,m.cloneDeep=function(e){return x(e,5)},m.cloneDeepWith=function(e,t){return x(e,5,t="function"==typeof t?t:Be)},m.eq=me,m.find=ps,m.findIndex=ce,m.get=Te,m.has=function(e,t){return null!=e&&Q(e,t,A)},m.hasIn=Ae,m.identity=De,m.includes=function(e,t,s,a){if(e=fe(e)?e:_e(e),s=s&&!a?Re(s):0,a=e.length,s<0&&(s=Ft(a+s,0)),je(e))e=s<=a&&-1<e.indexOf(t,s);else{if(a=!!a){if(t==t)e:{for(s-=1,a=e.length;++s<a;)if(e[s]===t){e=s;break e}e=-1}else e=r(e,c,s);a=-1<e}e=a}return e},m.isArguments=vs,m.isArray=hs,m.isArrayLike=fe,m.isArrayLikeObject=pe,m.isBuffer=Ps,m.isEmpty=function(e){if(null==e)return!0;if(fe(e)&&(hs(e)||"string"==typeof e||"function"==typeof e.splice||Ps(e)||Cs(e)||vs(e)))return!e.length;var t=is(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ae(e))return!D(e).length;for(var s in e)if(Pt.call(e,s))return!1;return!0},m.isEqual=function(e,t){return _(e,t)},m.isFunction=ge,m.isLength=ve,m.isMap=ys,m.isNull=function(e){return null===e},m.isObject=he,m.isObjectLike=Pe,m.isPlainObject=ye,m.isSet=js,m.isString=je,m.isSymbol=Ce,m.isTypedArray=Cs,m.last=le,m.stubArray=Ve,m.stubFalse=Fe,m.toFinite=we,m.toInteger=Re,m.toNumber=xe,m.toString=Ee,m.VERSION="4.17.5",ct&&((ct.exports=m)._=m,rt._=m)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){t.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(e,t){var s=e("../custom-lodash"),a=e("../version.json").version,o=s.cloneDeep,n=s.get,i=e("./item"),r=e("./listener"),c=e("./listenerManager"),d=e("./constants"),l=e("./utils/customMerge");t.exports=function(e){function t(e){v=l(v,e.data)}function s(e){function s(e){return 0===p.length||e.index>p.length-1?[]:p.slice(0,e.index).map((function(e){return i(e)}))}e.valid?{data:function(e){t(e),m.triggerListeners(e)},fctn:function(e){e.config.call(p,p)},event:function(e){e.data&&t(e),m.triggerListeners(e)},listenerOn:function(e){var t=r(e);switch(t.scope){case d.listenerScope.PAST:var a,o=u(s(e));try{for(o.s();!(a=o.n()).done;){var n=a.value;m.triggerListener(t,n)}}catch(e){o.e(e)}finally{o.f()}break;case d.listenerScope.FUTURE:m.register(t);break;case d.listenerScope.ALL:if(m.register(t)){var i,c=u(s(e));try{for(c.s();!(i=c.n()).done;){var l=i.value;m.triggerListener(t,l)}}catch(e){c.e(e)}finally{c.f()}}}},listenerOff:function(e){m.unregister(r(e))}}[e.type](e):b(e)}function b(e){var t="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(e.config);console.error(t)}var m,f=e||{},p=[],g=[],v={},h={getState:function(){return v},getDataLayer:function(){return p}};return Array.isArray(f.dataLayer)||(f.dataLayer=[]),g=f.dataLayer.splice(0,f.dataLayer.length),(p=f.dataLayer).version=a,v={},m=c(h),p.push=function(e){var t=arguments,a=arguments;if(Object.keys(t).forEach((function(e){var o=i(t[e]);switch(o.valid||(b(o),delete a[e]),o.type){case d.itemType.DATA:case d.itemType.EVENT:s(o);break;case d.itemType.FCTN:delete a[e],s(o);break;case d.itemType.LISTENER_ON:case d.itemType.LISTENER_OFF:delete a[e]}})),a[0])return Array.prototype.push.apply(this,a)},p.getState=function(e){return e?n(o(v),e):o(v)},p.addEventListener=function(e,t,a){s(i({on:e,handler:t,scope:a&&a.scope,path:a&&a.path}))},p.removeEventListener=function(e,t){s(i({off:e,handler:t}))},function(){for(var e=0;e<g.length;e++)p.push(g[e])}(),h}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(e,t){var s={Manager:e("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):s.Manager({dataLayer:window.adobeDataLayer}),t.exports=s},{"./dataLayerManager":3}],5:[function(e,t){var s=e("../custom-lodash"),a=s.isPlainObject,o=s.isEmpty,n=s.omit,i=s.find,r=e("./utils/dataMatchesContraints"),c=e("./itemConstraints"),d=e("./constants");t.exports=function(e,t){var s=e,l=t,u=i(Object.keys(c),(function(e){return r(s,c[e])}))||"function"==typeof s&&d.itemType.FCTN||a(s)&&d.itemType.DATA,b=function(){var e=n(s,Object.keys(c.event));if(!o(e))return e}();return{config:s,type:u,data:b,valid:!!u,index:l}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(e,t){t.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(e,t){var s=e("./constants");t.exports=function(e){return{event:e.config.on||e.config.off,handler:e.config.handler||null,scope:e.config.scope||e.config.on&&s.listenerScope.ALL||null,path:e.config.path||null}}},{"./constants":2}],8:[function(e,t){var s=e("../custom-lodash").cloneDeep,a=e("./constants"),o=e("./utils/listenerMatch"),n=e("./utils/indexOfListener");t.exports=function(e){function t(e,t){if(o(e,t)){var a=[s(t.config)];e.handler.apply(r.getDataLayer(),a)}}var i={},r=e,c=n.bind(null,i);return{register:function(e){var t=e.event;return Object.prototype.hasOwnProperty.call(i,t)?-1===c(e)&&(i[e.event].push(e),!0):(i[e.event]=[e],!0)},unregister:function(e){var t=e.event;if(Object.prototype.hasOwnProperty.call(i,t))if(e.handler||e.scope||e.path){var s=c(e);-1<s&&i[t].splice(s,1)}else i[t]=[]},triggerListeners:function(e){(function(e){var t=[];switch(e.type){case a.itemType.DATA:t.push(a.dataLayerEvent.CHANGE);break;case a.itemType.EVENT:t.push(a.dataLayerEvent.EVENT),e.data&&t.push(a.dataLayerEvent.CHANGE),e.config.event!==a.dataLayerEvent.CHANGE&&t.push(e.config.event)}return t})(e).forEach((function(s){if(Object.prototype.hasOwnProperty.call(i,s)){var a,o=u(i[s]);try{for(o.s();!(a=o.n()).done;)t(a.value,e)}catch(s){o.e(s)}finally{o.f()}}}))},triggerListener:function(e,s){t(e,s)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(e,t){var s=e("../../custom-lodash"),a=s.has,o=s.get;t.exports=function(e,t){for(var s=t.substring(0,t.lastIndexOf("."));s;){if(a(e,s)&&null==o(e,s))return!0;s=s.substring(0,s.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(e,t){var s=e("../../custom-lodash"),a=s.cloneDeepWith,o=s.isObject,n=s.isArray,i=s.reject,r=s.mergeWith,c=s.isNull;t.exports=function(e,t){return r(e,t,(function(e,t){if(null==t)return null})),function(e,t){
return a(e,function(e){return function t(s){if(o(s)){if(n(s))return i(s,e).map((function(e){return a(e,t)}));for(var r={},c=0,d=Object.keys(s);c<d.length;c++){var l=d[c];e(s[l])||(r[l]=a(s[l],t))}return r}}}(1<arguments.length&&void 0!==t?t:function(e){return!e}))}(e,c)}},{"../../custom-lodash":1}],11:[function(e,t){var s=e("../../custom-lodash"),a=s.find,o=s.includes;t.exports=function(e,t){return void 0===a(Object.keys(t),(function(s){var a=t[s].type,n=s&&t[s].values,i=!t[s].optional,r=e[s],c=f(r),d=a&&c!==a,l=n&&!o(n,r);return i?!r||d||l:r&&(d||l)}))}},{"../../custom-lodash":1}],12:[function(e,t){var s=e("../../custom-lodash").isEqual;t.exports=function(e,t){var a=t.event;if(Object.prototype.hasOwnProperty.call(e,a)){var o,n=u(e[a].entries());try{for(n.s();!(o=n.n()).done;){var i=r(o.value,2),c=i[0],d=i[1];if(s(d.handler,t.handler))return c}}catch(e){n.e(e)}finally{n.f()}}return-1}},{"../../custom-lodash":1}],13:[function(e,t){function s(e,t){return!t.data||!e.path||a(t.data,e.path)||n(t.data,e.path)}var a=e("../../custom-lodash").has,o=e("../constants"),n=e("./ancestorRemoved");t.exports=function(e,t){var a=e.event,n=t.config,i=!1;return t.type===o.itemType.DATA?a===o.dataLayerEvent.CHANGE&&(i=s(e,t)):t.type===o.itemType.EVENT&&(a!==o.dataLayerEvent.EVENT&&a!==n.event||(i=s(e,t)),t.data&&a===o.dataLayerEvent.CHANGE&&(i=s(e,t))),i}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(e,t){t.exports={version:"2.0.2"}},{}]},{},[4])}}},"gcoe-adobe-client-data-layer/src/lib/util/getDataLayer.js":{script:function(e,t,s,a){"use strict";e.exports=function(){var e=a.getExtensionSettings();return window[e.dataLayerName]}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4a8bc1a0e2e44aa78a5676d1e0f9e195/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.9.0",endpoint:"/rest/v1/delivery",imsOrgId:"B52D1CFE5330949C0A490D45@AdobeOrg",clientCode:"bmwag",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"bmwag.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,s,a){"use strict";function o(){return n.adobe&&n.adobe.target&&n.adobe.target.VERSION}var n=s("@adobe/reactor-window"),i=s("./modules/libs/at-launch"),r=i.initConfig,c=i.initDelivery,d=s("./modules/page-load"),l=s("./messages");e.exports=function(e){var t=d(e);o()?(r(t),c()):n.console&&a.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-document"),n=s("./modules/load-target"),i=n.initLibrarySettings,r=n.overridePublicApi,c=s("./modules/optin"),d=c.shouldUseOptIn,l=c.isTargetApproved,u=s("./analyticsIntegration");e.exports=function(){var e=i();e&&e.enabled?((0,s("./modules/libs/at-launch").init)(a,o,e),d()&&!l()||u()):r(a)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,s){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function i(e,t){return r(e)||c(e,t)||d(e,t)||u()}function r(e){if(Array.isArray(e))return e}function c(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,o,n=[],i=!0,r=!1;try{for(s=s.call(e);!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function d(e,t){if(e){if("string"==typeof e)return l(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,a=new Array(t);s<t;s++)a[s]=e[s];return a}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){return null==e}function m(e){return uu.call(e)}function f(e){return m(e)}function p(e){var t=o(e);return null!=e&&("object"===t||"function"===t)}function g(e){return!!p(e)&&f(e)===bu}function v(e){return e}function h(e){return g(e)?e:v}function P(e){return b(e)?[]:Object.keys(e)}function y(e,t){return b(t)?[]:(du(t)?pu:gu)(h(e),t)}function j(e){return e&&e.length?e[0]:void 0}function C(e){return b(e)?[]:[].concat.apply([],e)}function w(e){for(var t=this,s=e?e.length:0,a=s;a-=1;)if(!g(e[a]))throw new TypeError("Expected a function");return function(){for(var a=0,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];for(var r=s?e[a].apply(t,n):n[0];(a+=1)<s;)r=e[a].call(t,r);return r}}function R(e,t){b(t)||(du(t)?mu:fu)(h(e),t)}function x(e){return null!=e&&"object"===o(e)}function I(e){return"string"==typeof e||!du(e)&&x(e)&&f(e)===vu}function E(e){if(!I(e))return-1;for(var t=0,s=e.length,a=0;a<s;a+=1)t=(t<<5)-t+e.charCodeAt(a)&4294967295;return t}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=hu}function A(e){return null!=e&&T(e.length)&&!g(e)}function L(e,t){return Pu((function(e){return t[e]}),e)}function k(e){for(var t=0,s=e.length,a=Array(s);t<s;)a[t]=e[t],t+=1;return a}function _(e){return e.split("")}function O(e){return b(e)?[]:A(e)?I(e)?_(e):k(e):L(P(e),e)}function D(e){if(null==e)return!0;if(A(e)&&(du(e)||I(e)||g(e.splice)))return!e.length;for(var t in e)if(ju.call(e,t))return!1;return!0}function S(e){return b(e)?"":wu.call(e)}function N(e){return I(e)?!S(e):D(e)}function V(e){return"number"==typeof e||x(e)&&f(e)===xu}function F(e){return Object.getPrototypeOf(Object(e))}function M(e){if(!x(e)||f(e)!==Iu)return!1;var t=F(e);if(null===t)return!0;var s=Lu.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&Au.call(s)===ku}function B(e,t){return du(t)?t.join(e||""):""}function U(e,t){return b(t)?[]:(du(t)?Pu:_u)(h(e),t)}function G(){return(new Date).getTime()}function K(e,t,s){return b(s)?t:(du(s)?Ou:Du)(h(e),t,s)}function H(e){return null==e?e:Nu.call(e)}function W(e,t){return N(t)?[]:t.split(e||"")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function z(e){clearTimeout(e)}function $(e){return void 0===e}function Y(e){return!$(e)}function Z(e){return!!e.execute&&!!e.execute.pageLoad}function J(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function Q(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function X(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&V(e))return+e.toFixed(t)}function se(){function e(e){a.push(e)}function t(){var e=a;return a=[],e}function s(){return a.length>0}var a=[];return{addEntry:e,getAndClearEntries:t,hasEntries:s}}function ae(){function e(e){return e.edgeHost?Fu.EDGE:Fu.LOCAL}function t(e){var t={},s=Z(e),a=J(e),o=Q(e),n=X(e),i=ee(e);return s&&(t.executePageLoad=s),a&&(t.executeMboxCount=a),o&&(t.prefetchPageLoad=o),n&&(t.prefetchMboxCount=n),i&&(t.prefetchViewCount=i),t}function s(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function a(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=s(e.request)),ou.default(e,t)}function o(e){p.addEntry(a(e))}function n(e){m&&o({requestId:e.requestId,timestamp:G()})}function i(e,t){m&&o({requestId:e,timestamp:G(),execution:t})}function r(e,t){o(ou.default(t,{requestId:e,timestamp:G()}))}function c(e,t){m&&t&&r(e,t)}function d(s,a,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;if(m&&a){var i=s.requestId,c=ou.default(t(s),{decisioningMethod:n}),d={mode:e(o),features:c};r(i,ou.default(a,d))}}function l(){return p.getAndClearEntries()}function u(){return p.hasEntries()}function b(e){return u()?ou.default(e,{telemetry:{entries:l()}}):e}var m=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vu.SERVER_SIDE,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se();return{addDeliveryRequestEntry:d,addArtifactRequestEntry:c,addRenderEntry:i,addServerStateEntry:n,getAndClearEntries:l,hasEntries:u,addTelemetryToDeliveryRequest:b}}function oe(e,t){return e(t={exports:{}},t.exports),t.exports}function ne(){function e(e){var t=(Y(n[e])?n[e]:0)+1;return n[e]=t,""+e+t}function t(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return $(i[s])&&(i[s]=Gu()),s}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if($(i[e]))return-1;var s=Gu()-i[e]-t;return r[e]=s,s}function a(e){delete n[e],delete i[e],delete r[e]}function o(){n={},i={},r={}}var n={},i={},r={};return{timeStart:t,timeEnd:s,getTimings:function(){return r},getTiming:function(e){return r[e]},clearTiming:a,reset:o}}function ie(){var e=window.crypto||window.msCrypto;return!b(e)&&e.getRandomValues&&g(e.getRandomValues)&&e.getRandomValues.bind(e)}function re(){return qu(Wu)}function ce(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function de(e){for(var t=[],s=0;s<16;s+=1)t.push(zu[e[s]]);return B("",t).toLowerCase()}function le(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,de(t)}function ue(){return le(re)}function be(e,t){e[Jm]&&(b(t[of])||(e[Ff]=t[of]),R((function(s){b(t[s])||(e[s]=t[s])}),Sp))}function me(e){var t=e.documentMode;return!t||t>=10}function fe(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function pe(e){return _p.test(e)}function ge(e){if(pe(e))return e;var t=H(W(".",e)),s=t.length;return s>=3&&Op.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===s?t[0]:t[1]+"."+t[0]}function ve(e,t,s){var a="";e.location.protocol===kp||(a=ge(e.location.hostname)),s[jf]=a,s[Jm]=fe(t)&&me(t),be(s,e[Of]||{})}function he(e){ve(Lp,Ap,e);var t=Lp.location.protocol===kp;(Dp=ou.default({},e))[lf]=e[lf]/1e3,Dp[uf]=e[uf]/1e3,Dp[yf]=Dp[vf]||t?"https:":""}function Pe(){return Dp}function ye(e){try{return Np(e)}catch(e){return{}}}function je(e){try{return Vp(e)}catch(e){return""}}function Ce(e){try{return decodeURIComponent(e)}catch(t){return e}}function we(e){try{return encodeURIComponent(e)}catch(t){return e}}function Re(e){if(Mp[e])return Mp[e];Fp.href=e;var t=Hu(Fp.href);return t.queryKey=ye(t.query),Mp[e]=t,Mp[e]}function xe(e,t,s){return{name:e,value:t,expires:s}}function Ie(e){var t=W("#",e);return D(t)||t.length<3||isNaN(parseInt(t[2],10))?null:xe(Ce(t[0]),Ce(t[1]),Number(t[2]))}function Ee(e){return N(e)?[]:W("|",e)}function Te(){var e=U(Ie,Ee(Bp(Kp))),t=Math.ceil(G()/1e3);return K((function(e,t){return e[t.name]=t,e}),{},y((function(e){return p(e)&&t<=e.expires}),e))}function Ae(e){var t=Te()[e];return p(t)?t.value:""}function Le(e){return B("#",[we(e.name),we(e.value),e.expires])}function ke(e){return e.expires}function _e(e){var t=U(ke,e);return Math.max.apply(null,t)}function Oe(e,t,s){var a=O(e),o=Math.abs(1e3*_e(a)-G()),n=B("|",U(Le,a)),i=new Date(G()+o),r=ou.default({domain:t,expires:i,secure:s},s?{sameSite:jp}:{});Up(Kp,n,r)}function De(e){var t=e.name,s=e.value,a=e.expires,o=e.domain,n=e.secure,i=Te();i[t]=xe(t,s,Math.ceil(a+G()/1e3)),Oe(i,o,n)}function Se(e){return Ru(Bp(e))}function Ne(e,t){var s=ye(e.location.search);return Ru(s[t])}function Ve(e,t){var s=Re(e.referrer).queryKey;return!b(s)&&Ru(s[t])}function Fe(e,t,s){return Se(s)||Ne(e,s)||Ve(t,s)}function Me(){var e=Pe(),t=e[jf],s=e[vf],a=ou.default({domain:t,secure:s},s?{sameSite:jp}:{});Up(kb,_b,a);var o=Bp(kb)===_b;return Gp(kb),o}function Be(){return Fe(Lp,Ap,Ab)}function Ue(){return Pe()[Jm]&&Me()&&!Be()}function Ge(){return Fe(Lp,Ap,Tb)}function Ke(){return Fe(Lp,Ap,Lb)}function He(e,t){var s=e.console;return!b(s)&&g(s[t])}function We(e,t){var s=e.console;He(e,"warn")&&s.warn.apply(s,[Hp].concat(t))}function qe(e,t){var s=e.console;He(e,"debug")&&Ge()&&s.debug.apply(s,[Hp].concat(t))}function ze(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];We(Lp,t)}function $e(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];qe(Lp,t)}function Ye(e){return K((function(t,s){return t[s]=e[s],t}),{},Sp)}function Ze(e,t,s){var a=e[_f]||[];if(e[_f]=a,s){var o=a.push;a[nf]=Wp,a[Af]=Ye(t),a[Lf]=[],a[kf]=[],a.push=function(e){a[kf].push(ou.default({timestamp:G()},e)),o.call(this,e)}}}function Je(e,t,s,a){t===kf&&e[_f].push(s),a&&t!==kf&&e[_f][t].push(ou.default({timestamp:G()},s))}function Qe(){Ze(Lp,Pe(),Ge())}function Xe(e){Je(Lp,kf,e,Ge())}function et(e){Je(Lp,Lf,e,Ge())}function tt(){return g(zp)}function st(e){return new zp(e)}function at(){var e=Ap.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},s=[];return st((function(){for(var e=s.length,t=0;t<e;t+=1)s[t]();s.splice(0,e)})).observe(e,{characterData:!0}),function(e){s.push(e),t()}}function ot(){return function(e){var t=qp("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),qp(Ap.documentElement).append(t)}}function nt(){tt()?ru.default._setImmediateFn(at()):-1!==Lp.navigator.userAgent.indexOf("MSIE 10")&&ru.default._setImmediateFn(ot())}function it(e){return new ru.default(e)}function rt(e){return ru.default.resolve(e)}function ct(e){return ru.default.reject(e)}function dt(e){return du(e)?ru.default.race(e):ct(new TypeError($p))}function lt(e){return du(e)?ru.default.all(e):ct(new TypeError($p))}function ut(e,t,s){var a=-1;return dt([e,it((function(e,o){a=q((function(){return o(new Error(s))}),t)}))]).then((function(e){return z(a),e}),(function(e){throw z(a),e}))}function bt(e){if(b(e[np]))return!1;var t=e[np];if(b(t[ip]))return!1;var s=t[ip];return g(s[cp])&&g(s[rp])}function mt(e,t){return!!t&&bt(e)}function ft(e,t){if(!bt(e))return!0;var s=e[np][ip],a=(e[np][ip][dp]||{})[t];return s[rp](a)}function pt(e,t){if(!bt(e))return rt(!0);var s=e[np][ip],a=(e[np][ip][dp]||{})[t];return it((function(e,t){s[cp]((function(){s[rp](a)?e(!0):t(mp)}),!0)}))}function gt(){var e=Pe()[bp];return mt(Lp,e)}function vt(){return ft(Lp,lp)}function ht(){return ft(Lp,up)}function Pt(){return pt(Lp,lp)}function yt(){return ye(Lp.location.search)[Rf]}function jt(e,t){De({name:Ef,value:e,expires:t[uf],domain:t[jf],secure:t[vf]})}function Ct(e){jt(e,Pe())}function wt(){if(gt()&&!vt())return Yp;var e=yt();if(Ru(e))return Ct(e),Ae(Ef);var t=Ae(Ef);return N(t)?Ct(Yp):Ct(t),Ae(Ef)}function Rt(e){var t=Pe();De({name:xf,value:e,expires:t[lf],domain:t[jf],secure:t[vf]})}function xt(){return Ae(xf)}function It(e){if(N(e))return"";var t=Zp.exec(e);return D(t)||2!==t.length?"":t[1]}function Et(){if(!Pe()[ff])return"";var e=Bp(If);return N(e)?"":e}function Tt(e){var t=Pe();if(t[ff]){var s=t[jf],a=new Date(G()+t[pf]),o=t[vf],n=Bp(If),i=ou.default({domain:s,expires:a,secure:o},o?{sameSite:jp}:{});if(Ru(n))Up(If,n,i);else{var r=It(e);N(r)||Up(If,r,i)}}}function At(e,t){function s(e,s){var a=t.createEvent("CustomEvent");return s=s||{bubbles:!1,cancelable:!1,detail:void 0},a.initCustomEvent(e,s.bubbles,s.cancelable,s.detail),a}g(e.CustomEvent)||(s.prototype=e.Event.prototype,e.CustomEvent=s)}function Lt(e,t){var s=e(),a=t(),o={};return o.sessionId=s,Ru(a)?(o.deviceId=a,o):o}function kt(e,t,s,a){var o=new e.CustomEvent(s,{detail:a});t.dispatchEvent(o)}function _t(e,t){var s=t.mbox,a=t.error,o=t.url,n=t.analyticsDetails,i=t.responseTokens,r=t.execution,c={type:e,tracking:Lt(wt,xt)};return b(s)||(c.mbox=s),b(a)||(c.error=a),b(o)||(c.url=o),D(n)||(c.analyticsDetails=n),D(i)||(c.responseTokens=i),D(r)||(c.execution=r),c}function Ot(){var e=_t(Qp,{});kt(Lp,Ap,Qp,e)}function Dt(e){var t=_t(Xp,e);kt(Lp,Ap,Xp,t)}function St(e,t){var s=_t(eg,e);s.redirect=t,kt(Lp,Ap,eg,s)}function Nt(e){var t=_t(tg,e);kt(Lp,Ap,tg,t)}function Vt(e){var t=_t(sg,e);kt(Lp,Ap,sg,t)}function Ft(e){var t=_t(ag,e);kt(Lp,Ap,ag,t)}function Mt(e){var t=_t(og,e);kt(Lp,Ap,og,t)}function Bt(e){var t=_t(ng,e);kt(Lp,Ap,ng,t)}function Ut(e){var t=_t(ig,e);kt(Lp,Ap,ig,t)}function Gt(e){return x(e)&&1===e.nodeType&&!M(e)}function Kt(e){var t=e.charAt(0),s=e.charAt(1),a=e.charAt(2),o={key:e};return o.val="-"===s?""+t+s+"\\3"+a+" ":t+"\\3"+s+" ",o}function Ht(e){var t=e.match(lg);return D(t)?e:K((function(e,t){return e.replace(t.key,t.val)}),e,U(Kt,t))}function Wt(e){for(var t,s,a,o,n=[],i=S(e),r=i.indexOf(rg);-1!==r;)t=S(i.substring(0,r)),o=(s=S(i.substring(r))).indexOf(cg),a=S(s.substring(dg,o)),r=(i=S(s.substring(o+1))).indexOf(rg),t&&a&&n.push({sel:t,eq:Number(a)});return i&&n.push({sel:i}),n}function qt(e){if(Gt(e))return qp(e);if(!I(e))return qp(e);var t=Ht(e);if(-1===t.indexOf(rg))return qp(t);var s=Wt(t);return K((function(e,t){var s=t.sel,a=t.eq;return e=e.find(s),V(a)&&(e=e.eq(a)),e}),qp(Ap),s)}function zt(e){return qt(e).length>0}function $t(e){return qp("<"+$b+"/>").append(e)}function Yt(e){return qp(e)}function Zt(e){return qt(e).prev()}function Jt(e){return qt(e).next()}function Qt(e){return qt(e).parent()}function Xt(e,t){return qt(t).is(e)}function es(e,t){return qt(t).find(e)}function ts(e){return qt(e).children()}function ss(){Lp[mg]=Lp[mg]||{},Lp[mg].querySelectorAll=qt}function as(e){var t=e[Yf];Lp[mg][pg]=t}function os(){Ap.addEventListener(Gb,(function(e){g(Lp[mg][fg])&&Lp[mg][fg](e)}),!0)}function ns(){if(Ke()){ss();var e=Pe()[Pf],t=function(){return os()},s=function(){return ze(ug)};$e(bg),cu.default(e).then(t).catch(s)}}function is(e){return parseInt(e,10)}function rs(e){var t=is(e);return isNaN(t)?null:t}function cs(e){return W(Cg,e)}function ds(e){var t=W(Cg,e),s=rs(t[0]);if(b(s))return null;var a={};a.activityIndex=s;var o=rs(t[1]);return b(o)||(a.experienceIndex=o),a}function ls(e){return y(wg,U(ds,e))}function us(e){return du(e)?ls(e):ls([e])}function bs(e){var t=ye(e),s=t[vg];if(N(s))return null;var a={};a.token=s;var o=t[Pg];Ru(o)&&o===_b&&(a.listedActivitiesOnly=!0);var n=t[yg];Ru(n)&&(a.evaluateAsTrueAudienceIds=cs(n));var i=t[jg];Ru(i)&&(a.evaluateAsFalseAudienceIds=cs(i));var r=t[hg];return D(r)||(a.previewIndexes=us(r)),a}function ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up,s=bs(e.location.search);if(!b(s)){var a=new Date(G()+186e4),o=Pe(),n=o[vf],i=o[jf],r=ou.default({expires:a,secure:n,domain:i},n?{sameSite:jp}:{});t(gg,JSON.stringify(s),r)}}function fs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bp)(gg);if(N(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function ps(e){var t=ye(e)[xg];return N(t)?null:{token:t}}function gs(e){var t=ps(e.location.search);if(!b(t)){var s=new Date(G()+186e4),a=Pe()[vf],o=ou.default({expires:s,secure:a},a?{sameSite:jp}:{});Up(Rg,JSON.stringify(t),o)}}function vs(){var e=Bp(Rg);if(N(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function hs(e){return qt(e).empty().remove()}function Ps(e,t){return qt(t).after(e)}function ys(e,t){return qt(t).before(e)}function js(e,t){return qt(t).append(e)}function Cs(e,t){return qt(t).prepend(e)}function ws(e,t){return qt(t).html(e)}function Rs(e){return qt(e).html()}function xs(e,t){return qt(t).text(e)}function Is(e,t){return"<"+Wb+" "+Bb+'="'+e+'" '+Ub+'="'+$m+'">'+t+"</"+Wb+">"}function Es(e,t){return Is(Ig+E(t),t+" {"+e+"}")}function Ts(e,t){return Is(Ag,t+" {"+e+"}")}function As(e){if(!0===e[df]&&!zt(Tg)){var t=e[cf];js(Is(Eg,t),Kb)}}function Ls(e){!0===e[df]&&zt(Tg)&&hs(Tg)}function ks(e,t){if(!D(t)){var s=y((function(e){return!zt("#"+(Ig+E(e)))}),t);if(!D(s)){var a=e[rf];js(B("\n",U((function(e){return Es(a,e)}),s)),Kb)}}}function _s(e,t){D(t)||zt("#"+Ag)||js(Ts(e[rf],B(", ",t)),Kb)}function Os(){As(Pe())}function Ds(){Ls(Pe())}function Ss(e){ks(Pe(),e)}function Ns(e){_s(Pe(),e)}function Vs(e){hs("#"+(Ig+E(e)))}function Fs(){var e="#"+Ag;zt(e)&&hs(e)}function Ms(e){return!b(e[Bb])}function Bs(e){return!b(e[Mf])}function Us(e){switch(e){case 0:default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Gs(e){return e[Gf]}function Ks(e){return Ms(e)||Bs(e)}function Hs(e,t){return K((function(e,s,a){var o={};return o[Uf]=a,Ms(s)&&(o[Bb]=s[Bb]),Bs(s)&&(o[Bf]=Us(s[Mf])),o[$u]=t,Gs(s)&&(o[Gf]=!0),e.push(o),e}),[],y(Ks,e))}function Ws(e){if(!e.nameSpaces&&!e.dataSources)return Hs(e,Mg);var t=[];return e.nameSpaces&&t.push.apply(t,Hs(e.nameSpaces,Fg)),e.dataSources&&t.push.apply(t,Hs(e.dataSources,Mg)),t}function qs(e){if(b(e))return[];if(!g(e[Ng]))return[];var t=e[Ng](Vg);return p(t)?Ws(t):[]}function zs(e,t){return b(e)?null:g(e[Sg])?e[Sg](t):null}function $s(e,t){if(b(e))return null;var s=e[t];return b(s)?null:s}function Ys(e,t,s){if(N(t))return null;if(b(e[Gg]))return null;if(!g(e[Gg][Kg]))return null;var a=e[Gg][Kg](t,{sdidParamExpiry:s});return p(a)&&g(a[Hg])&&a[Hg]()?a:null}function Zs(e,t){if(!g(e.getVisitorValues))return rt({});var s=[Og,kg,_g];return t&&s.push(Dg),it((function(t){e.getVisitorValues((function(e){return t(e)}),s)}))}function Js(e){return $e(qg,e),{}}function Qs(e,t,s){return b(e)?rt({}):ut(Zs(e,s),t,Wg).catch(Js)}function Xs(e,t){if(!g(e.getVisitorValues))return{};var s=[Og,kg,_g];t&&s.push(Dg);var a={};return e.getVisitorValues((function(e){return ou.default(a,e)}),s),a}function ea(e,t){return b(e)?{}:Xs(e,t)}function ta(){var e=Pe(),t=e[Xm],s=e[hf];return Ys(Lp,t,s)}function sa(){var e=ta(),t=Pe();return Qs(e,t[mf],t[gf])}function aa(){return ea(ta(),Pe()[gf])}function oa(){return qs(ta())}function na(e){return zs(ta(),e)}function ia(e){return $s(ta(),e)}function ra(e,t){zg[e]=t}function ca(e){return zg[e]}function da(e){var t=e[Of];if(b(t))return!1;var s=t[Sf];return!(!du(s)||D(s))}function la(e){var t=e[Fm];if(!I(t)||D(t))return!1;var s=e[nf];if(!I(s)||D(s))return!1;var a=e[sf];return!(!b(a)&&!V(a)||!g(e[qm]))}function ua(e){return it((function(t,s){e((function(e,a){b(e)?t(a):s(e)}))}))}function ba(e,t,s,a,o,n){var i={};i[e]=t,i[s]=a,i[o]=n;var r={};return r[Df]=i,r}function ma(e){var t=e[Fm],s=e[nf],a=e[sf]||Zg;return ut(ua(e[qm]),a,Yg).then((function(e){var a=ba(Fm,t,nf,s,Bm,e);return $e($g,Om,a),et(a),e})).catch((function(e){var a=ba(Fm,t,nf,s,Am,e);return $e($g,Am,a),et(a),{}}))}function fa(e){var t=K((function(e,t){return ou.default(e,t)}),{},e);return ra(Sf,t),t}function pa(e){return da(e)?lt(U(ma,y(la,e[Of][Sf]))).then(fa):rt({})}function ga(){var e=ca(Sf);return b(e)?{}:e}function va(){return pa(Lp)}function ha(){return ga()}function Pa(e){var t=ye(e.location.search)[Jg];return N(t)?null:t}function ya(){var e=Bp(Qg);return N(e)?null:e}function ja(){var e=Pa(Lp),t=ya();return e||t}function Ca(e){return!D(e)&&2===e.length&&Ru(e[0])}function wa(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Ra(e,t,s,a){R((function(e,o){p(e)?(t.push(o),Ra(e,t,s,a),t.pop()):D(t)?s[a(o)]=e:s[a(B(".",t.concat(o)))]=e}),e)}function xa(e){return y((function(e,t){return Ru(t)}),ye(e))}function Ia(e){var t=K((function(e,t){return e.push(wa(t)),e}),[],y(Ru,e));return K((function(e,t){return e[Ce(S(t[0]))]=Ce(S(t[1])),e}),{},y(Ca,t))}function Ea(e,t){var s={};return b(t)?Ra(e,[],s,v):Ra(e,[],s,t),s}function Ta(e){if(!g(e))return{};var t=null;try{t=e()}catch(e){return{}}return b(t)?{}:du(t)?Ia(t):I(t)&&Ru(t)?xa(t):p(t)?Ea(t):{}}function Aa(){return window.navigator.userAgentData}function La(e){return ou.default({},e,Ta(Lp.targetPageParamsAll))}function ka(e){return ou.default({},e,Ta(Lp.targetPageParams))}function _a(e){var t=Pe(),s=t[af],a=t[Cf],o=t[wf];return s!==e?La(a||{}):ou.default(La(a||{}),ka(o||{}))}function Oa(){var e=Ap.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(b(t))return null;var s=t.getExtension("WEBGL_debug_renderer_info");if(b(s))return null;var a=t.getParameter(s.UNMASKED_RENDERER_WEBGL);return b(a)?null:a}function Da(){var e=Lp.devicePixelRatio;if(!b(e))return e;e=1;var t=Lp.screen,s=t.systemXDPI,a=t.logicalXDPI;return!b(s)&&!b(a)&&s>a&&(e=s/a),e}function Sa(e){if(!du(e)||0===e.length)return"";var t="";return e.forEach((function(s,a){var o=s.brand,n=s.version,i=a<e.length-1?", ":"";t+='"'+o+'";v="'+n+'"'+i})),t}function Na(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:Sa(e.brands)}}function Va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(Xg).then((function(e){var s=e.platformVersion,a=e.architecture,o=e.bitness,n=e.model,i=e.fullVersionList;return ou.default({},t,{model:n,platformVersion:s,browserUAWithFullVersion:Sa(i),architecture:a,bitness:o})}))}catch(e){return rt(t)}}function Fa(e){return ra(xp,e),e}function Ma(e){return rt(e).then(Fa)}function Ba(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=ca(xp);if(Y(s))return Ma(s);if($(e))return Ma({});var a=Na(e);return Ma(t?Va(e,a):a)}function Ua(){var e=Lp.screen,t=e.orientation,s=e.width,a=e.height;if(b(t))return s>a?"landscape":"portrait";if(b(t.type))return null;var o=W("-",t.type);if(D(o))return null;var n=o[0];return b(n)?null:n}function Ga(){return ev}function Ka(e){return e===sv}function Ha(e){return-1!==e.indexOf(tv)}function Wa(e){return e===av}function qa(e){return e===ov}function za(e){return e===nv}function $a(e){return e===iv}function Ya(e){return e===rv}function Za(e){return e===cv}function Ja(e){return Ha(e)||Ka(e)||Wa(e)||qa(e)||za(e)||$a(e)||Ya(e)||Za(e)}function Qa(e){return e.substring(tv.length)}function Xa(e){return e[sv]}function eo(e){return e[av]}function to(e){return e[ov]}function so(e){return e[nv]}function ao(e){var t=U(S,W(",",e[iv]));return y(Ru,t)}function oo(e){return e[rv]}function no(e){return e[cv]}function io(){return K((function(e,t,s){return Ja(s)||(e[s]=b(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return K((function(e,s,a){var o=t?Qa(a):a;return t&&!Ha(a)||N(o)||(e[o]=b(s)?"":s),e}),{},e)}function co(e,t,s){return e.onload=function(){var a=1223===e.status?204:e.status;if(a<100||a>599)s(new Error(lv));else{var o;try{var n=Gu();(o=JSON.parse(e.responseText)).parsingTime=Gu()-n,o.responseSize=new Blob([e.responseText]).size}catch(e){return void s(new Error(bv))}var i=e.getAllResponseHeaders();t({status:a,headers:i,response:o})}},e}function lo(e,t){return e.onerror=function(){t(new Error(lv))},e}function uo(e,t,s){return e.timeout=t,e.ontimeout=function(){s(new Error(uv))},e}function bo(e){return R((function(t,s){du(t)&&R((function(t){e.setRequestHeader(s,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function mo(e){var t=e.url,s=e.headers,a=e.body,o=e.timeout,n=e.async;return it((function(e,i){var r=new window.XMLHttpRequest;(r=lo(r=co(r,e,i),i)).open(dv,t,n),r.withCredentials=!0,r=bo(r,s),n&&(r=uo(r,o,i)),r.send(JSON.stringify(a))})).then((function(e){var t=e.response,s=t.status,a=t.message;if(!b(s)&&!b(a))throw new Error(a);return t}))}function fo(e,t){if(!performance)return null;var s=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!s)return null;var a={};return s.domainLookupEnd&&s.domainLookupStart&&(a.dns=s.domainLookupEnd-s.domainLookupStart),s.secureConnectionStart&&s.connectEnd&&(a.tls=s.connectEnd-s.secureConnectionStart),s.responseStart&&(a.timeToFirstByte=s.responseStart-s.requestStart),s.responseEnd&&s.responseStart&&(a.download=s.responseEnd-s.responseStart),s.encodedBodySize?a.responseSize=s.encodedBodySize:t.responseSize&&(a.responseSize=t.responseSize,delete t.responseSize),a}function po(e,t){return V(t)?t<0?e[sf]:t:e[sf]}function go(e){var t=e[ef];if(!e[ff])return t;var s=Et();return N(s)?t:""+mv+s+fv}function vo(e){return e[yf]+"//"+go(e)+e[Nf]+"?"+je({client:e[Qm],sessionId:wt(),version:e[nf]})}function ho(e,t,s){var a=Pe(),o=vo(a),i=n({},Jf,[Qf]),r=po(a,t),c={url:o,headers:i,body:e,timeout:r,async:!0};return Ku.timeStart(e.requestId),mo(c).then((function(t){var a={execution:Ku.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var n=fo(o,t);return n&&(a.request=n),t.telemetryServerToken&&(a.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,a,t,s),ou.default(t,{decisioningMethod:Vu.SERVER_SIDE})}))}function Po(e){if(e[Dg])throw new Error(Lg);return e}function yo(){var e=sa(),t=va();return lt([e.then(Po),t])}function jo(){return[aa(),ha()]}function Co(e){var t=Pe()[af];return ou.default({},e,_a(t))}function wo(){return-(new Date).getTimezoneOffset()}function Ro(){var e=Lp.screen;return{width:e.width,height:e.height,orientation:Ua(),colorDepth:e.colorDepth,pixelRatio:Da()}}function xo(){var e=Ap.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Io(){return{host:Lp.location.hostname,webGLRenderer:Ga()}}function Eo(){return{url:Lp.location.href,referringUrl:Ap.referrer}}function To(e){if(!b(e)&&e.channel===Rp)return e;var t=Pe(),s=ca(xp)||{},a=(e||{}).beacon;return{userAgent:Lp.navigator.userAgent,clientHints:s,timeOffsetInMinutes:wo(),channel:Rp,screen:Ro(),window:xo(),browser:Io(),address:Eo(),geo:e&&e.geo,crossDomain:t[tf],beacon:a}}function Ao(e,t){if(!b(e))return e;var s={};if(D(t))return s;var a=t[_g],o=parseInt(a,10);isNaN(o)||(s.locationHint=o);var n=t[kg];return Ru(n)&&(s.blob=n),s}function Lo(e){var t=e.id,s=e.integrationCode,a=e.authenticatedState,o=e.type,n=e.primary,i={};return Ru(t)&&(i.id=t),Ru(s)&&(i.integrationCode=s),Ru(a)&&(i.authenticatedState=a),Ru(o)&&(i.type=o),n&&(i.primary=n),i}function ko(e){return U(Lo,e)}function _o(e,t,s,a,o){var n={};Ru(t)&&(n.tntId=t),Ru(s)&&(n.thirdPartyId=s),Ru(e.thirdPartyId)&&(n.thirdPartyId=e.thirdPartyId);var i=a[Og];return Ru(i)&&(n.marketingCloudVisitorId=i),Ru(e.marketingCloudVisitorId)&&(n.marketingCloudVisitorId=e.marketingCloudVisitorId),D(e.customerIds)?(D(o)||(n.customerIds=ko(o)),n):(n.customerIds=e.customerIds,n)}function Oo(e,t){var s={},a=Ao(e.audienceManager,t);return D(a)||(s.audienceManager=a),D(e.analytics)||(s.analytics=e.analytics),D(e.platform)||(s.platform=e.platform),s}function Do(e,t){if(!b(e)&&Ru(e.token))return e;var s={},a=eo(t);return Ru(a)&&(s.token=a),s}function So(e){if(!b(e)&&Ru(e.authorizationToken))return e;var t={},s=ja();return Ru(s)&&(t.authorizationToken=s),t}function No(e){return b(e)?vs():e}function Vo(e){return b(e)?fs():e}function Fo(e){var t={},s=to(e);b(s)||(t.id=s);var a=so(e),o=parseFloat(a);isNaN(o)||(t.total=o);var n=ao(e);return D(n)||(t.purchasedProductIds=n),t}function Mo(e){var t={},s=oo(e);b(s)||(t.id=s);var a=no(e);return b(a)||(t.categoryId=a),t}function Bo(e,t){var s={},a=ou.default({},io(t),io(e.parameters||{})),o=ou.default({},ro(t),ro(e.profileParameters||{},!1)),n=ou.default({},Fo(t),e.order||{}),i=ou.default({},Mo(t),e.product||{});return D(a)||(s.parameters=a),D(o)||(s.profileParameters=o),D(n)||(s.order=n),D(i)||(s.product=i),s}function Uo(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Pe()[af],o=e.index,n=e.name,i=e.address,r=Bo(e,ou.default({},n===a?t:s,_a(n)));return b(o)||(r.index=o),Ru(n)&&(r.name=n),D(i)||(r.address=i),r}function Go(e,t){var s=e.name,a=e.address,o=Bo(e,t);return Ru(s)&&(o.name=s),D(a)||(o.address=a),o}function Ko(e,t,s){var a=e.execute,o=void 0===a?{}:a,n={};if(D(o))return n;var i=o.pageLoad;b(i)||(n.pageLoad=Bo(i,t));var r=o.mboxes;if(!b(r)&&du(r)&&!D(r)){var c=y(pv,U((function(e){return Uo(e,t,s)}),r));D(c)||(n.mboxes=c)}return n}function Ho(e,t,s){var a=e.prefetch,o=void 0===a?{}:a,n={};if(D(o))return n;var i=o.mboxes;b(i)||!du(i)||D(i)||(n.mboxes=U((function(e){return Uo(e,t,s)}),i));var r=o.views
;return b(r)||!du(r)||D(r)||(n.views=U((function(e){return Go(e,t)}),r)),n}function Wo(e,t){if(gt()&&!ht())return null;var s=Pe(),a=na(e),o=ia(Bg),n=ia(Ug),i=t.experienceCloud,r=(void 0===i?{}:i).analytics,c=void 0===r?{}:r,d=c.logging,l=c.supplementalDataId,u=c.trackingServer,m=c.trackingServerSecure,f={};return b(d)?f.logging=s[fp]:f.logging=d,b(l)||(f.supplementalDataId=l),Ru(a)&&(f.supplementalDataId=a),b(u)||(f.trackingServer=u),Ru(o)&&(f.trackingServer=o),b(m)||(f.trackingServerSecure=m),Ru(n)&&(f.trackingServerSecure=n),D(f)?null:f}function qo(e,t,s){var a=Co(s),o=xt(),n=Xa(a),i=oa(),r=_o(e.id||{},o,n,t,i),c=Do(e.property,a),d=Oo(e.experienceCloud||{},t),l=So(e.trace),u=No(e.preview),b=Vo(e.qaMode),m=Ko(e,a,s),f=Ho(e,a,s),p=e.notifications,g={};return g.requestId=ue(),g.context=To(e.context),D(r)||(g.id=r),D(c)||(g.property=c),D(l)||(g.trace=l),D(d)||(g.experienceCloud=d),D(u)||(g.preview=u),D(b)||(g.qaMode=b),D(m)||(g.execute=m),D(f)||(g.prefetch=f),D(p)||(g.notifications=p),g=Lp.__target_telemetry.addTelemetryToDeliveryRequest(g)}function zo(e,t,s){var a=s[0],o=s[1];return qo(e,a,ou.default({},o,t))}function $o(e,t){var s=Pe();return lt([yo(),Ba(Aa(),s[Ip])]).then((function(s){var a=i(s,1)[0];return zo(e,t,a)}))}function Yo(e,t){return zo(e,t,jo())}function Zo(e,t){return $e(Wm,e),et({request:e}),ho(e,t,Vu.SERVER_SIDE).then((function(t){return $e(Hm,t),et({response:t}),{request:e,response:t}}))}function Jo(e){return!e&&Jp?Jp:Jp=ue()}function Qo(e,t){return{status:Om,type:e,data:t}}function Xo(e,t){return{status:Am,type:e,data:t}}function en(e){return p(e)}function tn(e){return!!en(e)&&Ru(e.eventToken)}function sn(e){return!D(e)&&!N(e.type)&&Ru(e.eventToken)}function an(e){return!!sn(e)&&Ru(e.selector)}function on(e){var t=e.id;return p(t)&&Ru(t.tntId)}function nn(e){var t=e.response;return on(t)&&Rt(t.id.tntId),e}function rn(e){var t=e.response;return on(t)&&Tt(t.id.tntId),Tt(null),e}function cn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;D(e)||Xe(e)}function dn(e){var t=e.response,s=t.execute,a=void 0===s?{}:s,o=t.prefetch,n=void 0===o?{}:o,i=t.notifications,r=void 0===i?{}:i,c=a.pageLoad,d=void 0===c?{}:c,l=a.mboxes,u=void 0===l?[]:l,b=n.mboxes,m=void 0===b?[]:b,f=n.views,p=void 0===f?[]:f;return cn(d),R(cn,u),R(cn,m),R(cn,p),R(cn,r),e}function ln(e){var t=e.queryKey,s=t[Fv];if(!I(s))return t;if(N(s))return t;var a=Math.round(G()/1e3);return t[Fv]=s.replace(/\|TS=\d+/,"|TS="+a),t}function un(e){return e.queryKey}function bn(e,t,s){var a=Re(e),o=a.protocol,n=a.host,i=a.path,r=""===a.port?"":":"+a.port,c=N(a.anchor)?"":"#"+a.anchor,d=s(a),l=je(ou.default({},d,t));return o+"://"+n+r+i+(N(l)?"":"?"+l)+c}function mn(e,t){return bn(e,t,ln)}function fn(e,t){return bn(e,t,un)}function pn(e){var t=e.content;if(N(t))return $e(Pm,e),null;var s=ou.default({},e);return s.content=mn(t,{}),s}function gn(e){throw new Error(e)}function vn(e){var t=e[Hv]||Gv,s=e[Wv]||gn(Uv),a=e[qv]||{},o=e[zv]||null,n=e[$v]||!1,i=e[Yv]||3e3,r=!!b(e[Zv])||!0===e[Zv],c={};return c[Hv]=t,c[Wv]=s,c[qv]=a,c[zv]=o,c[$v]=n,c[Yv]=i,c[Zv]=r,c}function hn(e,t,s){return e.onload=function(){var a=1223===e.status?204:e.status;if(a<100||a>599)s(new Error(Mv));else{var o=e.responseText,n=e.getAllResponseHeaders();t({status:a,headers:n,response:o})}},e}function Pn(e,t){return e.onerror=function(){t(new Error(Mv))},e}function yn(e,t,s){return e.timeout=t,e.ontimeout=function(){s(new Error(Bv))},e}function jn(e,t){return!0===t&&(e.withCredentials=t),e}function Cn(e,t){return R((function(t,s){R((function(t){return e.setRequestHeader(s,t)}),t)}),t),e}function wn(e,t){var s=vn(t),a=s[Hv],o=s[Wv],n=s[qv],i=s[zv],r=s[$v],c=s[Yv],d=s[Zv];return it((function(t,s){var l=new e.XMLHttpRequest;(l=Pn(l=hn(l,t,s),s)).open(a,o,d),l=Cn(l=jn(l,r),n),d&&(l=yn(l,c,s)),l.send(i)}))}function Rn(e){return wn(Lp,e)}function xn(e,t,s){var a={};return a[Hv]=Gv,a[Wv]=fn(e,t),a[Yv]=s,a}function In(e){return e>=200&&e<300||304===e}function En(e){if(!In(e.status))return null;var t=e.response;if(N(t))return null;var s={};return s.type=Nb,s.content=t,s}function Tn(e){return Rn(xn(e.content,{},Pe()[Yv])).then(En).catch((function(){return null}))}function An(e){var t=e[ab];if(N(t))return"";var s=Jv.exec(t);return D(s)||2!==s.length?"":s[1]}function Ln(e,t){var s=document.createElement($b);s.innerHTML=t;var a=s.firstElementChild;return b(a)?t:(a.id=e,a.outerHTML)}function kn(e){var t=e[Yu],s=An(e);if(N(s)||N(t))return e;var a=e[ab];return e[ab]=a.replace(Qv,""),e[Yu]=Ln(s,t),e}function _n(e){return!b(e.selector)}function On(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Dn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Sn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Nn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Vn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Fn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Mn(e){if(!_n(e))return null;var t=kn(e);return I(t[Yu])?t:($e(mm,t),null)}function Bn(e){return _n(e)?I(e[Yu])?e:($e(mm,e),null):null}function Un(e){return _n(e)?p(e[Yu])?e:($e(fm,e),null):null}function Gn(e){return _n(e)?I(e[Yu])?e:($e(ym,e),null):null}function Kn(e){return _n(e)?p(e[Yu])?e:($e(pm,e),null):null}function Hn(e){return _n(e)?p(e[Yu])?e:($e(gm,e),null):null}function Wn(e){return _n(e)?p(e[Yu])?e:($e(vm,e),null):null}function qn(e){return _n(e)?e:null}function zn(e){return _n(e)?p(e[Yu])?e:($e(hm,e),null):null}function $n(e){var t=e.content;return N(t)?($e(Pm,e),null):(e.content=mn(t,{}),e)}function Yn(e){var t=e[$u];if(N(t))return null;switch(t){case nb:return On(e);case rb:return Dn(e);case Cb:return Sn(e);case Rb:return Nn(e);case Ib:return Vn(e);case yb:return Fn(e);case jb:return Mn(e);case gb:return Bn(e);case db:return Un(e);case lb:return Gn(e);case ub:return Kn(e);case mb:return Hn(e);case fb:return Wn(e);case pb:return qn(e);case bb:return zn(e);case vb:return $n(e);default:return null}}function Zn(e){var t=e[Yu];if(!du(t))return null;if(D(t))return null;var s=y(Xv,U(Yn,t));if(D(s))return null;var a=ou.default({},e);return a.content=s,a}function Jn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return du(e)?D(e)?[]:Rv(U(Av,e)):[]}function Qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,s=void 0===t?{}:t,a=e.prefetch,o=void 0===a?{}:a,n=s.pageLoad,i=void 0===n?{}:n,r=s.mboxes,c=void 0===r?[]:r,d=o.mboxes,l=void 0===d?[]:d,u=o.views,b=void 0===u?[]:u,m=Jn(i),f=C(U(Jn,c)),p=C(U(Jn,l)),g=C(U(Jn,b));return C([m,f,p,g])}function Xn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,s=t.pageLoad,a=void 0===s?{}:s,o=t.mboxes,n=void 0===o?[]:o,i=Iv(a)||[],r=C(Rv(U(Iv,n))),c=C([i,r]),d=C(U(Ev,y(Cv,c))),l=y(wv,c),u=y(wv,d),b=l.concat(u),m={};if(D(b))return m;var f=b[0].content;return N(f)||(m.url=f),m}function ei(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return D(e)?[]:[e]}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,s=void 0===t?{}:t,a=e.prefetch,o=void 0===a?{}:a,n=s.pageLoad,i=void 0===n?{}:n,r=s.mboxes,c=void 0===r?[]:r,d=o.mboxes,l=void 0===d?[]:d,u=o.views,b=void 0===u?[]:u,m=o.metrics,f=void 0===m?[]:m,p=ei(i),g=C(U(ei,c)),v=C(U(ei,l)),h=C(U(ei,b)),P=C(U(ei,f));return C([p,g,v,h,P])}function si(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function ai(e,t){var s=t[0],a=t[1],o=!D(s),n=!D(a);return o||n?(o&&(e.options=s),n&&(e.metrics=a),e):e}function oi(e){switch(e.type){case vb:return rt(pn(e));case Vb:return Tn(e);case Um:return rt(Zn(e));default:return rt(e)}}function ni(e,t){if(!du(e))return rt([]);if(D(e))return rt([]);var s=y(t,e);return D(s)?rt([]):lt(U((function(e){return oi(e)}),s)).then(Rv)}function ii(e,t){return du(e)?D(e)?rt([]):rt(y(t,e)):rt([])}function ri(e){var t=e.response.execute;if(!p(t))return rt(null);var s=t.pageLoad;if(!p(s))return rt(null);var a=s.analytics,o=s.options,n=s.metrics,i=D(a)?{}:{analytics:a};return lt([ni(o,en),ii(n,an)]).then((function(e){return ai(i,e)}))}function ci(e){var t=e.name,s=e.analytics,a=e.options,o=e.metrics,n={name:t,analytics:s};return lt([ni(a,en),ii(o,sn)]).then((function(e){return ai(n,e)}))}function di(e){var t=e.response.execute;if(!p(t))return rt([]);var s=t.mboxes;return!du(s)||D(s)?rt([]):lt(U(ci,y(_v,s))).then(Rv)}function li(e,t,s){return e.index===t&&e.name===s}function ui(e,t,s){var a=e.prefetch,o=(void 0===a?{}:a).mboxes,n=void 0===o?[]:o;return D(n)?null:j(y((function(e){return li(e,t,s)}),n))}function bi(e,t){var s=t.index,a=t.name,o=t.state,n=t.analytics,i=t.options,r=t.metrics,c=ui(e,s,a),d={name:a,state:o,analytics:n};return b(c)||si(d,c),lt([ni(i,tn),ii(r,sn)]).then((function(e){return ai(d,e)}))}function mi(e){var t=e.request,s=e.response.prefetch;if(!p(s))return rt([]);var a=s.mboxes;return!du(a)||D(a)?rt([]):lt(U((function(e){return bi(t,e)}),y(Ov,a))).then(Rv)}function fi(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;return D(a)?null:a[0]}function pi(e,t){var s=t.name,a=t.state,o=t.analytics,n=t.options,i=t.metrics,r=fi(e),c={name:s.toLowerCase(),state:a,analytics:o};return b(r)||si(c,r),lt([ni(n,tn),ii(i,an)]).then((function(e){return ai(c,e)}))}function gi(e){var t=e.request,s=e.response.prefetch;if(!p(s))return rt([]);var a=s.views;return!du(a)||D(a)?rt([]):lt(U((function(e){return pi(t,e)}),y(Dv,a))).then(Rv)}function vi(e){var t=e.response.prefetch;return p(t)?ii(t.metrics,an):rt([])}function hi(e){var t=e.response,s=t.remoteMboxes,a=t.remoteViews,o=t.decisioningMethod,n={};return p(s)&&(n.remoteMboxes=s),p(a)&&(n.remoteViews=a),I(o)&&(n.decisioningMethod=o),rt(n)}function Pi(e){return b(e)||N(e.id)?rt(null):rt({id:e.id})}function yi(e){var t=e.response.notifications;return du(t)?lt(U(Pi,t)).then(Rv):rt([])}function ji(e){var t=e[0],s=e[1],a=e[2],o=e[3],n=e[4],i=e[5],r=e[6],c={},d={};p(t)&&(d.pageLoad=t),D(s)||(d.mboxes=s);var l={};return D(a)||(l.mboxes=a),D(o)||(l.views=o),D(n)||(l.metrics=n),D(d)||(c.execute=d),D(l)||(c.prefetch=l),D(i)||(c.meta=i),D(r)||(c.notifications=r),c}function Ci(e){var t=w([dn,nn,rn])(e);return lt([ri(t),di(t),mi(t),gi(t),vi(t),hi(t),yi(t)]).then(ji)}function wi(e){return!D(Xn(e))}function Ri(e){var t=Qn(e),s={};return D(t)||(s.responseTokens=t),s}function xi(e){var t=e[Ep],s=e[Tp],a={};return D(t)||(a.sandboxId=t),D(s)||(a.sandboxName=s),a}function Ii(e){var t=Ri(e),s=ti(e);return D(s)||(t.analyticsDetails=s),$e(lm,e),St(t,wi(e)),rt(e)}function Ei(e,t){var s=Ri(t);s.mbox=e;var a=ti(t);return D(a)||(s.analyticsDetails=a),$e(lm,t),St(s,wi(t)),rt(t)}function Ti(e){return ze(dm,e),Nt({error:e}),ct(e)}function Ai(e,t){return ze(dm,t),Nt({mbox:e,error:t}),ct(t)}function Li(e,t){var s=e[af],a=t.mbox,o={},n={},i={};a===s?n.pageLoad={}:n.mboxes=[{index:0,name:a}],o.execute=n;var r=Wo(a,o);D(r)||(i.analytics=r);var c=xi(e);return D(c)||(i.platform=c),D(i)||(o.experienceCloud=i),o}function ki(e){var t=Pe(),s=e.mbox,a=e.timeout,o=p(e.params)?e.params:{},n=function(e){return Ei(s,e)},i=function(e){return Ai(s,e)},r=Li(t,e);return Dt({mbox:s}),$o(r,o).then((function(e){return Zo(e,a)})).then(Ci).then(n).catch(i)}function _i(e,t){var s=e[af],a=t.consumerId,o=void 0===a?s:a,n=t.request,i=t.page,r=void 0===i||i,c=Wo(o,n);n.impressionId=n.impressionId||Jo(r);var d=n.experienceCloud||{};D(c)||(d.analytics=c);var l=xi(e);return D(l)||(d.platform=l),D(d)||(n.experienceCloud=d),n}function Oi(e){var t=Pe(),s=e.timeout,a=function(e){return Ii(e)},o=function(e){return Ti(e)},n=_i(t,e);return Dt({}),$o(n,{}).then((function(e){return Zo(e,s)})).then(Ci).then(a).catch(o)}function Di(e,t){return qt(t).addClass(e)}function Si(e,t){return qt(t).css(e)}function Ni(e,t){return qt(t).attr(e)}function Vi(e,t,s){return qt(s).attr(e,t)}function Fi(e,t){return qt(t).removeAttr(e)}function Mi(e,t,s){var a=Ni(e,s);Ru(a)&&(Fi(e,s),Vi(t,a,s))}function Bi(e,t){return Ru(Ni(e,t))}function Ui(e){return new Error("Could not find: "+e)}function Gi(e,t,s){return it((function(a,o){var n=st((function(){var t=s(e);D(t)||(n.disconnect(),a(t))}));q((function(){n.disconnect(),o(Ui(e))}),t),n.observe(Ap,{childList:!0,subtree:!0})}))}function Ki(){return Ap[eh]===th}function Hi(e,t,s){return it((function(a,o){function n(){var t=s(e);D(t)?Lp.requestAnimationFrame(n):a(t)}n(),q((function(){o(Ui(e))}),t)}))}function Wi(e,t,s){return it((function(a,o){function n(){var t=s(e);D(t)?q(n,sh):a(t)}n(),q((function(){o(Ui(e))}),t)}))}function qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe()[bf],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt,a=s(e);return D(a)?tt()?Gi(e,t,s):Ki()?Hi(e,t,s):Wi(e,t,s):rt(a)}function zi(e){return Ni(Db,e)}function $i(e){return Bi(Db,e)}function Yi(e){return R((function(e){return Mi(Mb,Db,e)}),O(es(zb,e))),e}function Zi(e){return R((function(e){return Mi(Db,Mb,e)}),O(es(zb,e))),e}function Ji(e){return $e(wm,e),Ni(Mb,Vi(Mb,e,Yt("<"+zb+"/>")))}function Qi(e){var t=y($i,O(es(zb,e)));return D(t)||R(Ji,U(zi,t)),e}function Xi(e){return w([Yi,Qi,Zi])(e)}function er(e){var t=Ni(Mb,e);return Ru(t)?t:null}function tr(e){return y(Ru,U(er,O(es(Fb,e))))}function sr(e){return K((function(e,t){return e.then((function(){return $e(Tm,t),et({remoteScript:t}),cu.default(t)}))}),rt(),e)}function ar(e){return e}function or(e,t){return ze(cm,t),et({action:e,error:t}),e}function nr(e,t){var s,a=qt(t[ab]),o=Xi($t(t[Yu])),n=tr(o);try{s=rt(e(a,o))}catch(e){return ct(or(t,e))}return D(n)?s.then((function(){return ar(t)})).catch((function(e){return or(t,e)})):s.then((function(){return sr(n)})).then((function(){return ar(t)})).catch((function(e){return or(t,e)}))}function ir(e){var t=$t(e);return B("",K((function(e,t){return e.push(Rs($t(t))),e}),[],O(es(ah,t))))}function rr(e){var t=ou.default({},e),s=t[Yu];if(N(s))return t;var a=qt(t[ab]);return Xt(Kb,a)?(t[$u]=Cb,t[Yu]=ir(s),t):t}function cr(e){return e.indexOf("px")===e.length-2?e:e+"px"}function dr(e,t){return ws(Rs(t),e)}function lr(e){return $e(bm,e),nr(dr,e)}function ur(e){var t=qt(e[ab]),s=e[Yu];return $e(bm,e),et({action:e}),xs(s,t),rt(e)}function br(e,t){return js(Rs(t),e)}function mr(e){return $e(bm,e),nr(br,e)}function fr(e,t){return Cs(Rs(t),e)}function pr(e){return $e(bm,e),nr(fr,e)}function gr(e,t){var s=Qt(e);return hs(ys(Rs(t),e)),s}function vr(e){return $e(bm,e),nr(gr,e)}function hr(e,t){return Zt(ys(Rs(t),e))}function Pr(e){return $e(bm,e),nr(hr,e)}function yr(e,t){return Jt(Ps(Rs(t),e))}function jr(e){return $e(bm,e),nr(yr,e)}function Cr(e,t){return Qt(ys(Rs(t),e))}function wr(e){return $e(bm,e),nr(Cr,e)}function Rr(e){var t=e[Yu],s=qt(e[ab]);return $e(bm,e),et({action:e}),Fi(Mb,s),Vi(Mb,Ji(t),s),rt(e)}function xr(e){var t=e[Yu],s=qt(e[ab]);return $e(bm,e),et({action:e}),R((function(e,t){return Vi(t,e,s)}),t),rt(e)}function Ir(e,t,s){R((function(e){R((function(t,a){return e.style.setProperty(a,t,s)}),t)}),O(e))}function Er(e){var t=qt(e[ab]),s=e[Yu],a=s[sb];return $e(bm,e),et({action:e}),N(a)?Si(s,t):Ir(t,s,a),rt(e)}function Tr(e){var t=qt(e[ab]),s=e[Yu];return s[Ju]=cr(s[Ju]),s[Zu]=cr(s[Zu]),$e(bm,e),et({action:e}),Si(s,t),rt(e)}function Ar(e){var t=qt(e[ab]),s=e[Yu];return s[Qu]=cr(s[Qu]),s[Xu]=cr(s[Xu]),$e(bm,e),et({action:e}),Si(s,t),rt(e)}function Lr(e){var t=qt(e[ab]);return $e(bm,e),et({action:e}),hs(t),rt(e)}function kr(e){var t=qt(e[ab]),s=e[Yu],a=Number(s[eb]),o=Number(s[tb]);if(isNaN(a)&&isNaN(o))return $e(Cm,e),ct(e);var n=O(ts(t)),i=n[a],r=n[o];return zt(i)&&zt(r)?($e(bm,e),et({action:e}),a<o?Ps(i,r):ys(i,r),rt(e)):($e(jm,e),ct(e))}function _r(e){var t=rr(e);switch(t[$u]){case nb:return lr(t);case rb:return ur(t);case Cb:return mr(t);case Rb:return pr(t);case Ib:return vr(t);case yb:return Pr(t);case jb:return jr(t);case gb:return wr(t);case db:return xr(t);case lb:return Rr(t);case ub:return Er(t);case mb:return Tr(t);case fb:return Ar(t);case pb:return Lr(t);case bb:return kr(t);default:return rt(t)}}function Or(e){return e[$u]===hb||e[$u]===Pb}function Dr(e){var t=e[ab];return Ru(t)||Gt(t)}function Sr(e){var t=e.key;if(!N(t)&&Dr(e)){var s=e[ab];Vi(oh,t,s)}}function Nr(e){var t=e[ob];N(t)||Vs(t)}function Vr(e){if(Dr(e)){var t=e[ab];Or(e)?Di(Zm,t):(Di(Ym,t),Nr(e))}else Nr(e)}function Fr(e){R(Vr,e)}function Mr(e){var t=e.key;if(N(t))return!0;if(e[$u]===gb)return e[Kf];var s=e[ab],a=Ni(oh,s);return a!==t||a===t&&!e[Kf]}function Br(e){return Mr(e)?_r(e).then((function(){return $e(um,e),et({action:e}),Sr(e),Vr(e),e})).catch((function(t){ze(cm,t),et({action:e,error:t}),Vr(e);var s=ou.default({},e);return s[Am]=!0,s})):(Vr(e),e)}function Ur(e){var t=y((function(e){return!0===e[Am]}),e);return D(t)?rt():(Fr(t),ct(e))}function Gr(e){return qi(e[ab]).then((function(){return e})).catch((function(){var t=ou.default({},e);return t[Am]=!0,t}))}function Kr(e){return Gr(e).then(Br)}function Hr(e){return lt(U(Kr,e)).then(Ur)}function Wr(e,t,s){return qt(s).on(e,t)}function qr(e,t,s){return qt(s).off(e,t)}function zr(e){return qi(e[ab]).then((function(){return et({metric:e}),ou.default({found:!0},e)})).catch((function(){return ze(nh,e),et({metric:e,message:nh}),e}))}function $r(e){var t=e.name,s=ca(Wf)||{};s[t]=e,ra(Wf,s)}function Yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.page,a=void 0===s||s,o=(ca(Wf)||{})[e];if(b(o))return o;var n=t.impressionId;return b(n)?o:ou.default({page:a,impressionId:n},o)}function Zr(e){R($r,e)}function Jr(e,t,s){return e[ih][rh](t,s)}function Qr(e,t,s){var a={};a[Jf]=[Qf];var o={};o[Hv]=Kv,o[Wv]=t,o[zv]=s,o[$v]=!0,o[Zv]=!1,o[qv]=a;try{e(o)}catch(e){return!1}return!0}function Xr(e){return ih in e&&rh in e[ih]}function ec(e,t){return Xr(Lp)?Jr(Lp,e,t):Qr(Rn,e,t)}function tc(e){var t=Wo(e,{}),s={context:{beacon:!0}};if(!D(t)){var a={};a.analytics=t,s.experienceCloud=a}return s}function sc(e,t,s){var a=Yo(tc(e),t);return a.notifications=s,a}function ac(e,t,s){return $o(tc(e),t).then((function(e){return e.notifications=s,e}))}function oc(e,t,s){var a={id:ue(),type:t,timestamp:G(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return D(s)||(a.tokens=s),a}function nc(e,t,s){var a=e.name,o=e.state,n=oc(e,t,s);return n.mbox={name:a,state:o},n}function ic(e,t,s){var a=e.name,o=e.state,n=oc(e,t,s);return n.view={name:a,state:o},n}function rc(e){return new Promise((function(t,s){var a=vo(Pe());if(ec(a,JSON.stringify(e)))return $e(ch,a,e),void t();ze(dh,a,e),s()}))}function cc(e,t,s){var a=_a(Pe()[af]),o=oc(Bo({},a),t,[s]),n=sc(ue(),a,[o]);$e(mh,e,o),et({source:e,event:t,request:n}),rc(n)}function dc(e,t,s){var a=_a(e),o=oc(Bo({},a),t,[s]);o.mbox={name:e};var n=sc(ue(),a,[o]);$e(fh,e,o),et({mbox:e,event:t,request:n}),rc(n)}function lc(e){var t=Pe()[af],s=[],a=Zf;if(R((function(e){var t=e.mbox,o=e.data;if(!b(o)){var n=o.eventTokens,i=void 0===n?[]:n;D(i)||s.push(nc(t,a,i))}}),e),!D(s)){var o=sc(t,{},s);$e(bh,s),et({source:gh,event:vh,request:o}),rc(o)}}function uc(e,t,s){var a=_a(Pe()[af]),o=oc(Bo({},a),t,[s]);o.view={name:e};var n=sc(ue(),a,[o]);$e(ph,e,o),et({view:e,event:t,request:n}),rc(n)}function bc(e){var t=e.viewName,s=e.impressionId,a=_a(Pe()[af]),o=oc(Bo({},a),Zf,[]);o.view={name:t},$e(lh,t),ac(t,a,[o]).then((function(e){e.impressionId=s,et({view:t,event:hh,request:e}),rc(e)}))}function mc(e){if(!b(e)){var t=e.view,s=e.data,a=(void 0===s?{}:s).eventTokens,o=void 0===a?[]:a,n=t.name,i=t.impressionId,r=Yr(n);if(!b(r)){var c=sc(n,{},[ic(r,Zf,o)]);c.impressionId=i,$e(uh,n,o),et({view:n,event:vh,request:c}),rc(c)}}}function fc(e,t){e===Gb&&Di(Zm,t)}function pc(e,t){return!b(Ph[e])&&!b(Ph[e][t])}function gc(e,t,s){if(b(Ph[e])){var a=P(Ph);D(a)||R((function(e){R((function(a){var o=Ph[e][a];qr(t,o,s)}),P(Ph[e])),delete Ph[e]}),a)}}function vc(e,t,s){Ph[e]=Ph[e]||{},Ph[e][t]=s}function hc(e,t,s,a){var o=s.type,n=s.selector,i=s.eventToken,r=E(o+":"+n+":"+i),c=function(){return a(e,o,i)};fc(o,n),t?pc(e,r)||(gc(e,o,n),vc(e,r,c),Wr(o,c,n)):Wr(o,c,n)}function Pc(e,t,s,a){return zr(s).then((function(s){s.found&&hc(e,t,s,a)}))}function yc(e,t,s,a){return lt(U((function(s){return Pc(e,t,s,a)}),s)).then(wh).catch(Rh)}function jc(e){return yc(e.name,!1,Ch(e),dc)}function Cc(e){return yc(e.name,!0,Ch(e),uc)}function wc(e){return yc(yh,!1,Ch(e),cc)}function Rc(e){return yc(jh,!1,Ch(e),cc)}function xc(e){var t=U(Ih,e);Ss(xv(t))}function Ic(e){var t=U(Ih,e);Ns(Rv(t))}function Ec(e){var t=y(Cv,Iv(e));return C(U(xh,t))}function Tc(e){return p(e)&&e.type!==cb}function Ac(e,t,s){return U((function(e){return ou.default({key:t,page:s},e)}),y(Tc,e))}function Lc(e,t,s){var a=e.eventToken,o=e.responseTokens;return Hr(Ac(e.content,t,s)).then((function(){return Eh({eventToken:a,responseTokens:o})})).catch((function(e){return Th(e,{eventToken:a,responseTokens:o})}))}function kc(e){return p(e)&&e.type!==Sb}function _c(e,t){return U(e,y(kc,Iv(t)))}function Oc(e,t,s){var a=n({status:Om},e,t),o=U(Nv,y(jv,s)),i={};return D(o)||(a.status=Am,i.errors=o),D(i)||(a.data=i),a}function Dc(e,t,s){var a=n({status:Om},e,t),o=U(Nv,y(jv,s)),i=U(Nv,y(Ah,s)),r=Rv(U(Tv,i)),c=Rv(U(Av,i)),d={};return D(o)||(a.status=Am,d.errors=o),D(r)||(d.eventTokens=r),D(c)||(d.responseTokens=c),D(d)||(a.data=d),a}function Sc(e,t,s){return lt(_c((function(e){return Lc(e,!0)}),e)).then(t).then((function(t){return s(e),t}))}function Nc(e,t,s,a){var o=t.name;return lt(_c((function(e){return Lc(e,o,s)}),t)).then((function(s){return Dc(e,t,s)})).then((function(e){return a(t),e}))}function Vc(e){return Sc(e,(function(t){return Oc(Nm,e,t)}),jc)}function Fc(e){return Nc(Nm,e,!0,jc)}function Mc(e){xc(Ec(e))}function Bc(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,s=(void 0===t?{}:t).pageLoad,a=void 0===s?{}:s;D(a)||Mc(a)}}function Uc(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;D(a)||Ic(C(U(Ec,a)))}function Gc(e){xc(Ec(e)),Fs()}function Kc(e){return Sc(e,(function(t){return Oc(zm,e,t)}),wc)}function Hc(e){return lt(U(Vc,e))}function Wc(e){return lt(U(Fc,e))}function qc(e){return lt([Rc(e)]).then(Oc)}function zc(e){var t=e.page;return Nc(Hf,e,t,Cc)}function $c(){}function Yc(){return new kh}function Zc(e,t,s){e.emit(t,s)}function Jc(e,t,s){e.on(t,s)}function Qc(e,t){Zc(_h,e,t)}function Xc(e,t){Jc(_h,e,t)}function ed(e){return{type:vb,content:e.url}}function td(e){var t={};return t.type=nb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sd(e){var t={};return t.type=rb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ad(e){var t={};return t.type=Cb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function od(e){var t={};return t.type=Rb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nd(e){var t={};return t.type=Ib,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function id(e){var t={};return t.type=yb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rd(e){var t={};return t.type=jb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cd(e){var t={};return t.type=gb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function dd(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Mb)return t.type=lb,t.content=e.value,t;t.type=db;var s={};return s[e.attribute]=e.value,t.content=s,t}function ld(e){var t=e.style,s=void 0===t?{}:t,a={};return a.selector=e.selector,a.cssSelector=e.cssSelector,b(s.left)||b(s.top)?b(s.width)||b(s.height)?(a.type=ub,a.content=s,a):(a.type=mb,a.content=s,a):(a.type=fb,a.content=s,a)}function ud(e){var t={};return t.type=pb,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bd(e){var t={};t.from=e.from,t.to=e.to;var s={};return s.type=bb,s.selector=e.selector,s.cssSelector=e.cssSelector,s.content=t,s}function md(e){return Ru(e.selector)&&Ru(e.cssSelector)}function fd(e){var t={};if(D(e))return t;var s=[],a=[],o=[];R((function(e){switch(e.action){case ib:md(e)?o.push(td(e)):s.push({type:Nb,content:e.content});break;case cb:D(e.content)||R((function(e){return s.push({type:Sb,content:e})}),e.content);break;case rb:o.push(sd(e));break;case wb:o.push(ad(e));break;case xb:o.push(od(e));break;case Eb:o.push(nd(e));break;case yb:o.push(id(e));break;case jb:o.push(rd(e));break;case gb:o.push(cd(e));break;case db:o.push(dd(e));break;case ub:o.push(ld(e));break;case pb:o.push(ud(e));break;case bb:o.push(bd(e));break;case vb:s.push(ed(e));break;case hb:a.push({type:Gb,selector:e.selector,eventToken:e.clickTrackId})}}),e);var n={};if(!D(o)&&s.push({type:Um,content:o}),!D(s)&&(n.options=s),!D(a)&&(n.metrics=a),D(n))return t;var i={};return i.pageLoad=n,t.execute=i,t}function pd(e,t){var s={};if(D(t))return s;var a=[],o=[];R((function(e){switch(e.action){case ib:a.push({type:Nb,content:e.content});break;case cb:D(e.content)||R((function(e){return a.push({type:Sb,content:e})}),e.content);break;case vb:a.push(ed(e));break;case Pb:o.push({type:Gb,eventToken:e.clickTrackId})}}),t);var n={name:e};if(!D(a)&&(n.options=a),!D(o)&&(n.metrics=o),D(n))return s;var i={},r=[n];return i.mboxes=r,s.execute=i,s}function gd(e,t,s){return s?fd(t):pd(e,t)}function vd(e){var t=e.status,s=e.data,a={status:t,pageLoad:!0};return b(s)||(a.data=s),a}function hd(e){var t=e.status,s=e.mbox,a=e.data,o={status:t,mbox:s.name};return b(a)||(o.data=a),o}function Pd(e){var t=e.status,s=e.view,a=e.data,o={status:t,view:s.name};return b(a)||(o.data=a),o}function yd(e){var t=e.status,s=e.data,a={status:t,prefetchMetrics:!0};return b(s)||(a.data=s),a}function jd(e){if(b(e))return[null];var t=U(vd,[e]);return Vh(t)&&ze(Oh,e),t}function Cd(e){if(b(e))return[null];var t=U(hd,e);return Vh(t)&&ze(Dh,e),t}function wd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lc;if(b(e))return[null];var s=U(hd,e);return Vh(s)&&ze(Dh,e),t(e),s}function Rd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mc;if(b(e))return[null];var s=U(Pd,[e]);return Vh(s)&&ze(Sh,e),e.view.page?(t(e),s):s}function xd(e){if(b(e))return[null];var t=U(yd,[e]);return Vh(t)&&ze(Nh,e),t}function Id(e){var t=C([jd(e[0]),Cd(e[1]),wd(e[2]),xd(e[3])]),s=y(hv,t),a=y(jv,s);return D(a)?rt(s):ct(a)}function Ed(e){return ct(e)}function Td(e,t){if(!D(t)){var s=t.options;D(s)||R((function(t){if(t.type===Nb){var s=nb,a=t.content;t.type=Um,t.content=[{type:s,selector:e,content:a}]}}),s)}}function Ad(e,t){var s=t.metrics;if(!D(s)){var a=t.name;R((function(t){t.name=a,t.selector=t.selector||e}),s)}}function Ld(e,t){var s=ou.default({},t),a=s.execute,o=void 0===a?{}:a,n=s.prefetch,i=void 0===n?{}:n,r=o.pageLoad,c=void 0===r?{}:r,d=o.mboxes,l=void 0===d?[]:d,u=i.mboxes,b=void 0===u?[]:u;return Td(e,c),R((function(t){return Td(e,t)}),l),R((function(t){return Ad(e,t)}),l),R((function(t){return Td(e,t)}),b),R((function(t){return Ad(e,t)}),b),s}function kd(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;D(a)||Zr(a)}function _d(e){var t=[],s=e.execute,a=void 0===s?{}:s,o=a.pageLoad,n=void 0===o?{}:o,i=a.mboxes,r=void 0===i?[]:i;D(n)?t.push(rt(null)):t.push(Kc(n)),D(r)?t.push(rt(null)):t.push(Hc(r));var c=e.prefetch,d=void 0===c?{}:c,l=d.mboxes,u=void 0===l?[]:l,b=d.metrics,m=void 0===b?[]:b;return D(u)?t.push(rt(null)):t.push(Wc(u)),du(m)&&!D(m)?t.push(qc(d)):t.push(rt(null)),Ds(),lt(t).then(Id).catch(Ed)}function Od(e,t){q((function(){return e.location.replace(t)}))}function Dd(e){return Ru(e)||Gt(e)?e:Kb}function Sd(e){Di(Ym,e)}function Nd(e){var t=e.mbox,s=e.selector,a=e.offer,o=Pe(),n=t===o[af];if(D(a))return $e(Im),Sd(s),Ds(),void Bt({mbox:t});var i=Ld(s,gd(t,a,n)),r=Xn(i);if(!D(r)){var c=r.url;return $e(Em,r),Ut({url:c}),void Od(Lp,c)}Vt({mbox:t}),Bc(i),_d(i).then((function(e){D(e)||Ft({mbox:t,execution:e})})).catch((function(e){return Mt({error:e})}))}function Vd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,s=void 0===t?{}:t,a=e.execute,o=void 0===a?{}:a,n=o.pageLoad,i=void 0===n?{}:n,r=o.mboxes,c=void 0===r?[]:r,d=s.pageLoad,l=void 0===d?{}:d,u=s.views,b=void 0===u?[]:u,m=s.mboxes,f=void 0===m?[]:m;return D(i)&&D(c)&&D(l)&&D(b)&&D(f)}function Fd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.selector,a=e.response;if(Vd(a))return $e(Im),Sd(s),Ds(),Bt({}),Qc(Pp),rt();var o=Ld(s,a),n=Xn(o);if(!D(n)){var i=n.url;return $e(Em,n),Ut({url:i}),Qc(yp),Od(Lp,i),rt()}return Vt({}),kd(o),Qc(hp),Bc(o,t),_d(o).then((function(e){D(e)||Ft({execution:e})})).catch((function(e){return Mt({error:e})}))}function Md(e){var t=e[pp];if(D(t))return!1;var s=t.request,a=t.response;return!D(s)&&!D(a)}function Bd(e){return e[pp]}function Ud(e){window.__target_telemetry.addServerStateEntry(e)}function Gd(e){ze(Fh,ep,e),Qc(Pp),et({source:Fh,error:e}),Ds()}function Kd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={selector:Kb,response:e};$e(Fh,Hm,e),et({source:Fh,response:e}),Fd(s,t).catch(Gd)}function Hd(e,t){var s=ou.default({},t),a=s.execute,o=s.prefetch,n=e[Ff],i=e[Vf];return a&&(s.execute.mboxes=void 0),a&&!n&&(s.execute.pageLoad=void 0),o&&(s.prefetch.mboxes=void 0),o&&!i&&(s.prefetch.views=void 0),s}function Wd(e){var t=Bd(e),s=t.request,a=t.response,o=!0;$e(Fh,op),et({source:Fh,serverState:t});var n=Hd(e,a);Bc(n),Uc(n),Ud(s),Ci({request:s,response:n}).then((function(e){return Kd(e,o)})).catch(Gd)}function qd(){if(!Ue())return ze(Fh,Yb),void et({source:Fh,error:Yb});var e=Pe();if(Md(e))Wd(e);else{var t=e[Ff],s=e[Vf];if(!t&&!s)return $e(Fh,ap),void et({source:Fh,error:ap});Os();var a={};if(t){var o={pageLoad:{}};a.execute=o}if(s){var n={views:[{}]};a.prefetch=n}var i=e[sf];$e(Fh,Wm,a),et({source:Fh,request:a});var r={request:a,timeout:i};gt()&&!vt()?Pt().then((function(){Oi(r).then(Kd).catch(Gd)})).catch(Gd):Oi(r).then(Kd).catch(Gd)}}function zd(){var e={};return e[_m]=!0,e}function $d(e){var t={};return t[_m]=!1,t[Am]=e,t}function Yd(e){return N(e)?$d(am):e.length>Ob?$d(om):zd()}function Zd(e){if(!p(e))return $d(Jb);var t=Yd(e[Nm]);return t[_m]?g(e[Om])?g(e[Am])?zd():$d(im):$d(nm):t}function Jd(e){if(!p(e))return $d(Jb);var t=e.request;if(!p(t))return $d(Qb);var s=t.execute,a=t.prefetch;return p(s)||p(a)?zd():$d(em)}function Qd(e){if(!p(e))return $d(Jb);var t=e.request;if(!p(t))return $d(Qb);var s=t.execute,a=t.prefetch,o=t.notifications;return p(s)||p(a)?$d(tm):du(o)?zd():$d(sm)}function Xd(e){if(!p(e))return $d(Jb);var t=Yd(e[Nm]);if(!t[_m])return t;var s=e[Vm];return du(s)?zd():$d(rm)}function el(e){return p(e)?p(e.response)?zd():$d(Xb):$d(Jb)}function tl(e){if(!p(e))return $d(Jb);var t=Yd(e[Nm]);return t[_m]?zd():t}function sl(e){return{action:vb,url:e.content}}function al(e){var t={};return t.action=ib,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ol(e){var t={};return t.action=rb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nl(e){var t={};return t.action=wb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function il(e){var t={};return t.action=xb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rl(e){var t={};return t.action=Eb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cl(e){var t={};return t.action=yb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function dl(e){var t={};return t.action=jb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ll(e){var t={};return t.action=gb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ul(e){var t=P(e.content)[0],s={};return s.action=db,s.attribute=t,s.value=e.content[t],s.selector=e.selector,s.cssSelector=e.cssSelector,s}function bl(e){var t={};return t.action=db,t.attribute=Mb,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ml(e){var t={};return t.action=ub,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fl(e){var t={};return t.action=ub,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pl(e){var t={};return t.action=ub,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gl(e){var t={};return t.action=pb,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vl(e){var t={};return t.action=bb,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hl(e){var t=[];return R((function(e){switch(e.type){case nb:t.push(al(e));break;case rb:t.push(ol(e));break;case Cb:t.push(nl(e));break;case Rb:t.push(il(e));break;case Ib:t.push(rl(e));break;case yb:
t.push(cl(e));break;case jb:t.push(dl(e));break;case gb:t.push(ll(e));break;case db:t.push(ul(e));break;case lb:t.push(bl(e));break;case ub:t.push(ml(e));break;case mb:t.push(fl(e));break;case fb:t.push(pl(e));break;case pb:t.push(gl(e));break;case bb:t.push(vl(e));break;case vb:t.push(sl(e))}}),e),t}function Pl(e){if(D(e))return[];var t=[];return R((function(e){e.type===Gb&&(Sv(e)?t.push({action:hb,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Pb,clickTrackId:e.eventToken}))}),e),t}function yl(e){if(D(e))return[];var t=[],s=[],a=[],o=e.options,n=void 0===o?[]:o,i=e.metrics,r=void 0===i?[]:i;R((function(e){switch(e.type){case Nb:t.push(e.content);break;case Sb:s.push(e.content);break;case vb:a.push(sl(e));break;case Um:a.push.apply(a,hl(e.content))}}),n),D(t)||a.push({action:ib,content:t.join("")}),D(s)||a.push({action:cb,content:s});var c=Pl(r);return D(c)||a.push.apply(a,c),a}function jl(e){var t=e.execute,s=void 0===t?{}:t,a=s.pageLoad,o=void 0===a?{}:a,n=s.mboxes,i=void 0===n?[]:n,r=[];return r.push.apply(r,yl(o)),r.push.apply(r,C(U(yl,i))),r}function Cl(e,t){var s=jl(t);e[Om](s)}function wl(e,t){var s=t[Mm]||km;e[Am](s,t)}function Rl(e){var t=Zd(e),s=t[Am];if(!t[_m])return ze(Mh,s),void et({source:Mh,options:e,error:s});if(!Ue())return q(e[Am](Lm,Yb)),ze(Mh,Yb),void et({source:Mh,options:e,error:Yb});var a=function(t){return Cl(e,t)},o=function(t){return wl(e,t)};$e(Mh,e),et({source:Mh,options:e}),gt()&&!vt()?Pt().then((function(){ki(e).then(a).catch(o)})):ki(e).then(a).catch(o)}function xl(e){var t=Jd(e),s=t[Am];return t[_m]?Ue()?($e(Bh,e),et({source:Bh,options:e}),!gt()||vt()?Oi(e):Pt().then((function(){return Oi(e)}))):(ze(Bh,Yb),et({source:Bh,options:e,error:Yb}),ct(new Error(Yb))):(ze(Bh,s),et({source:Bh,options:e,error:s}),ct(t))}function Il(e){var t=Dd(e.selector),s=E(t);Ku.timeStart(s);var a=Xd(e),o=a[Am];if(!a[_m])return ze(Uh,e,o),et({source:Uh,options:e,error:o}),void Sd(t);if(!Ue())return ze(Uh,Yb),et({source:Uh,options:e,error:Yb}),void Sd(t);e.selector=t,$e(Uh,e),et({source:Uh,options:e}),Nd(e);var n=Ku.timeEnd(s);Ku.clearTiming(s),window.__target_telemetry.addRenderEntry(s,n)}function El(e){var t=Dd(e.selector),s=E(t);Ku.timeStart(s);var a=el(e),o=a[Am];return a[_m]?Ue()?(e.selector=t,$e(Gh,e),et({source:Gh,options:e}),Fd(e).then((function(){var e=Ku.timeEnd(s);Ku.clearTiming(s),window.__target_telemetry.addRenderEntry(s,e)}))):(ze(Gh,Yb),et({source:Gh,options:e,error:Yb}),Sd(t),ct(new Error(Yb))):(ze(Gh,e,o),et({source:Gh,options:e,error:o}),Sd(t),ct(a))}function Tl(e){var t=Pe()[af],s=e.consumerId,a=void 0===s?t:s,o=e.request,n=Qd(e),i=n[Am];if(!n[_m])return ze(Kh,i),void et({source:Kh,options:e,error:i});if(!Ue())return ze(Kh,Yb),void et({source:Kh,options:e,error:Yb});$e(Kh,e),et({source:Kh,options:e});var r=sc(a,{},o.notifications);!gt()||vt()?rc(r):ze(Kh,mp)}function Al(e,t){var s=t[Nm],a=ou.default({},t),o=p(t.params)?t.params:{};return a[Bm]=ou.default({},_a(s),o),a[sf]=po(e,t[sf]),a[Om]=g(t[Om])?t[Om]:Mu,a[Am]=g(t[Am])?t[Am]:Mu,a}function Ll(e){var t=e[$u],s=e[ab];return Ru(t)&&(Ru(s)||Gt(s))}function kl(e){var t=e.mbox,s=e.type,a=void 0===s?Zf:s,o=p(e.params)?e.params:{},n=ou.default({},_a(t),o),i=oc(Bo({},n),a,[]);i.mbox={name:t},rc(sc(t,n,[i])).then((function(){$e(Rm,e),e[Om]()})).catch((function(){ze(xm,e),e[Am](km,xm)}))}function _l(e){if(gt()&&!vt())return ze(xm,mp),void e[Am](Am,mp);kl(e)}function Ol(e){return _l(e),!e.preventDefault}function Dl(e){var t=e[ab],s=e[$u],a=O(qt(t)),o=function(){return Ol(e)};R((function(e){return Wr(s,o,e)}),a)}function Sl(e){var t=tl(e),s=t[Am];if(!t[_m])return ze(Hh,s),void et({source:Hh,options:e,error:s});var a=Al(Pe(),e);if(!Ue())return ze(Hh,Yb),q(a[Am](Lm,Yb)),void et({source:Hh,options:e,error:Yb});$e(Hh,a),et({source:Hh,options:a}),Ll(a)?Dl(a):_l(a)}function Nl(e){return Gc(e),zc(e).then(Rd).then((function(e){D(e)||Ft({execution:e})})).catch((function(e){ze(Xf,e),Mt({error:e})}))}function Vl(){for(;qh.length>0;){var e=qh.pop(),t=e.viewName,s=e.page,a=Yr(t,e);b(a)?s&&bc(e):Nl(a)}}function Fl(){Yh=$h,Vl()}function Ml(){Xc(hp,Fl),Xc(Pp,Fl),Xc(yp,Fl)}function Bl(e,t){var s={};return s.viewName=e,s.impressionId=ue(),s.page=!0,D(t)||(s.page=!!t.page),s}function Ul(e){qh.push(e),Yh!==zh&&Vl()}function Gl(e,t){if(Pe()[Vf]){if(!I(e)||N(e))return ze(Wh,tp,e),void et({source:Wh,view:e,error:tp});var s=e.toLowerCase(),a=Bl(s,t);$e(Wh,s,a),Ke()?as(a):(et({source:Wh,view:s,options:a}),Ul(a))}else ze(Wh,sp)}function Kl(){ze(Jh,arguments)}function Hl(){ze(Qh,arguments)}function Wl(){ze(Xh,arguments)}function ql(){ze(eP,arguments)}function zl(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function $l(){Object.keys(localStorage).filter(sP).forEach((function(e){return localStorage.removeItem(e)}))}function Yl(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){$l()}}function Zl(){function e(e){return nP+":"+e}function t(e){var t=localStorage.getItem(e),s=parseInt(t,oP);return Number.isNaN(s)&&(s=aP),s}function s(e,t){localStorage.setItem(e,t)}function a(){var e=t(rP)+1;return s(rP,e),e}function o(t,s){Yl(e(t),s)}function n(t){var s=e(t),a=localStorage.getItem(s);return localStorage.removeItem(s),a}function i(){for(var e=[],a=t(iP)||aP,o=t(rP)||aP,i=o;i>a;i-=1){var r=n(i);r&&e.push(JSON.parse(r))}return s(iP,o),e}function r(e){o(a(),e)}function c(){return i()}function d(){var s=e(t(rP));return!!localStorage.getItem(s)}return{addEntry:r,getAndClearEntries:c,hasEntries:d}}function Jl(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:Mu,getOffers:Bu,applyOffer:Mu,applyOffers:Bu,sendNotifications:Mu,trackEvent:Mu,triggerView:Mu,registerExtension:Mu,init:Mu},e.mboxCreate=Mu,e.mboxDefine=Mu,e.mboxUpdate=Mu}function Ql(e,t,s){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)ze(Zb);else{he(s);var a=Pe(),o=a[nf];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=o,e.adobe.target.event={LIBRARY_LOADED:Qp,REQUEST_START:Xp,REQUEST_SUCCEEDED:eg,REQUEST_FAILED:tg,CONTENT_RENDERING_START:sg,CONTENT_RENDERING_SUCCEEDED:ag,CONTENT_RENDERING_FAILED:og,CONTENT_RENDERING_NO_OFFERS:ng,CONTENT_RENDERING_REDIRECT:ig},!a[Jm])return Jl(e),void ze(Yb);e.__target_telemetry=ae(a[wp]&&zl(),a[Cp],Zl()),Qe(),ns(),ms(e),gs(e),e.adobe.target.getOffer=Rl,e.adobe.target.getOffers=xl,e.adobe.target.applyOffer=Il,e.adobe.target.applyOffers=El,e.adobe.target.sendNotifications=Tl,e.adobe.target.trackEvent=Sl,e.adobe.target.triggerView=Gl,e.adobe.target.registerExtension=Kl,e.mboxCreate=Hl,e.mboxDefine=Wl,e.mboxUpdate=ql,Ot()}}var Xl=s("@adobe/reactor-object-assign"),eu=s("@adobe/reactor-cookie"),tu=s("@adobe/reactor-query-string"),su=s("@adobe/reactor-promise"),au=s("@adobe/reactor-load-script"),ou=a(Xl),nu=a(eu),iu=a(tu),ru=a(su),cu=a(au),du=Array.isArray,lu=Object.prototype,uu=lu.toString,bu="[object Function]",mu=function(e,t){return t.forEach(e)},fu=function(e,t){mu((function(s){return e(t[s],s)}),P(t))},pu=function(e,t){return t.filter(e)},gu=function(e,t){var s={};return fu((function(t,a){e(t,a)&&(s[a]=t)}),t),s},vu="[object String]",hu=9007199254740991,Pu=function(e,t){return t.map(e)},yu=Object.prototype,ju=yu.hasOwnProperty,Cu=String.prototype,wu=Cu.trim,Ru=function(e){return!N(e)},xu="[object Number]",Iu="[object Object]",Eu=Function.prototype,Tu=Object.prototype,Au=Eu.toString,Lu=Tu.hasOwnProperty,ku=Au.call(Object),_u=function(e,t){var s={};return fu((function(t,a){s[a]=e(t,a)}),t),s},Ou=function(e,t,s){return s.reduce(e,t)},Du=function(e,t,s){var a=t;return fu((function(t,s){a=e(a,t,s)}),s),a},Su=Array.prototype,Nu=Su.reverse,Vu={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Fu={EDGE:"edge",LOCAL:"local"},Mu=function(){},Bu=function(e){return Promise.resolve(e)},Uu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gu=oe((function(e){(function(){var t,s,a,o,n,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-n)/1e6},s=process.hrtime,o=(t=function(){var e;return 1e9*(e=s())[0]+e[1]})(),i=1e9*process.uptime(),n=o-i):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(Uu)})),Ku=ne(),Hu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var s={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=s.parser[t.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[s.key[n]]=a[n]||"";return o[s.q.name]={},o[s.key[12]].replace(s.q.parser,(function(e,t,a){t&&(o[s.q.name][t]=a)})),o}},Wu=new Uint8Array(256),qu=ie(),zu=ce(),$u="type",Yu="content",Zu="height",Ju="width",Qu="left",Xu="top",eb="from",tb="to",sb="priority",ab="selector",ob="cssSelector",nb="setHtml",ib="setContent",rb="setText",cb="setJson",db="setAttribute",lb="setImageSource",ub="setStyle",bb="rearrange",mb="resize",fb="move",pb="remove",gb="customCode",vb="redirect",hb="trackClick",Pb="signalClick",yb="insertBefore",jb="insertAfter",Cb="appendHtml",wb="appendContent",Rb="prependHtml",xb="prependContent",Ib="replaceHtml",Eb="replaceContent",Tb="mboxDebug",Ab="mboxDisable",Lb="mboxEdit",kb="at_check",_b="true",Ob=250,Db="data-at-src",Sb="json",Nb="html",Vb="dynamic",Fb="script",Mb="src",Bb="id",Ub="class",Gb="click",Kb="head",Hb="script",Wb="style",qb="link",zb="img",$b="div",Yb='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Zb="Adobe Target has already been initialized.",Jb="options argument is required",Qb="request option is required",Xb="response option is required",em="execute or prefetch is required",tm="execute or prefetch is not allowed",sm="notifications are required",am="mbox option is required",om="mbox option is too long",nm="success option is required",im="error option is required",rm="offer option is required",cm="Unexpected error",dm="request failed",lm="request succeeded",um="Action rendered successfully",bm="Rendering action",mm="Action has no content",fm="Action has no attributes",pm="Action has no CSS properties",gm="Action has no height or width",vm="Action has no left, top or position",hm="Action has no from or to",Pm="Action has no url",ym="Action has no image url",jm="Rearrange elements are missing",Cm='Rearrange has incorrect "from" and "to" indexes',wm="Loading image",Rm="Track event request succeeded",xm="Track event request failed",Im="No actions to be rendered",Em="Redirect action",Tm="Script load",Am="error",Lm="warning",km="unknown",_m="valid",Om="success",Dm="render",Sm="metric",Nm="mbox",Vm="offer",Fm="name",Mm="status",Bm="params",Um="actions",Gm="responseTokens",Km="data",Hm="response",Wm="request",qm="provider",zm="pageLoad",$m="at-flicker-control",Ym="at-element-marker",Zm="at-element-click-tracking",Jm="enabled",Qm="clientCode",Xm="imsOrgId",ef="serverDomain",tf="crossDomain",sf="timeout",af="globalMboxName",of="globalMboxAutoCreate",nf="version",rf="defaultContentHiddenStyle",cf="bodyHiddenStyle",df="bodyHidingEnabled",lf="deviceIdLifetime",uf="sessionIdLifetime",bf="selectorsPollingTimeout",mf="visitorApiTimeout",ff="overrideMboxEdgeServer",pf="overrideMboxEdgeServerTimeout",gf="optoutEnabled",vf="secureOnly",hf="supplementalDataIdParamTimeout",Pf="authoringScriptUrl",yf="scheme",jf="cookieDomain",Cf="mboxParams",wf="globalMboxParams",Rf="mboxSession",xf="PC",If="mboxEdgeCluster",Ef="session",Tf="Traces",Af="settings",Lf="client"+Tf,kf="server"+Tf,_f="___target_traces",Of="targetGlobalSettings",Df="dataProvider",Sf=Df+"s",Nf="endpoint",Vf="viewsEnabled",Ff="pageLoadEnabled",Mf="authState",Bf="authenticatedState",Uf="integrationCode",Gf="primary",Kf="page",Hf="view",Wf="views",qf="options",zf="metrics",$f="eventToken",Yf="viewName",Zf="display",Jf="Content-Type",Qf="text/plain",Xf="View rendering failed",ep="View delivery error",tp="View name should be a non-empty string",sp="Views are not enabled",ap="Page load disabled",op="Using server state",np="adobe",ip="optIn",rp="isApproved",cp="fetchPermissions",dp="Categories",lp="TARGET",up="ANALYTICS",bp="optinEnabled",mp="Adobe Target is not opted in",fp="analyticsLogging",pp="serverState",gp="cspScriptNonce",vp="cspStyleNonce",hp="cache-updated-event",Pp="no-offers-event",yp="redirect-offer-event",jp="None",Cp="decisioningMethod",wp="telemetryEnabled",Rp="web",xp="clientHints",Ip="allowHighEntropyClientHints",Ep="aepSandboxId",Tp="aepSandboxName",Ap=document,Lp=window,kp="file:",_p=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Op=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Dp={},Sp=[Jm,Qm,Xm,ef,tf,jf,sf,Cf,wf,rf,"defaultContentVisibleStyle",lf,cf,df,bf,mf,ff,pf,gf,bp,vf,hf,Pf,"urlSizeLimit",Nf,Ff,Vf,fp,pp,Cp,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",wp,"cdnBasePath",gp,vp,af,Ip,Ep,Tp],Np=iu.default.parse,Vp=iu.default.stringify,Fp=Ap.createElement("a"),Mp={},Bp=nu.default.get,Up=nu.default.set,Gp=nu.default.remove,Kp="mbox",Hp="AT:",Wp="1",qp=function(e){var t=function(){function t(e){return null==e?String(e):J[Q.call(e)]||"object"}function s(e){return"function"==t(e)}function a(e){return null!=e&&e==e.window}function n(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(e){return"object"==t(e)}function r(e){return i(e)&&!a(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,s=E.type(e);return"function"!=s&&!a(e)&&("array"==s||0===t||"number"==typeof t&&t>0&&t-1 in e)}function d(e){return O.call(e,(function(e){return null!=e}))}function l(e){return e.length>0?E.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function b(e){return e in V?V[e]:V[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function m(e,t){return"number"!=typeof t||F[u(e)]?t:t+"px"}function f(e){var t,s;return N[e]||(t=S.createElement(e),S.body.appendChild(t),s=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==s&&(s="block"),N[e]=s),N[e]}function p(e){return"children"in e?D.call(e.children):E.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function g(e,t){var s,a=e?e.length:0;for(s=0;s<a;s++)this[s]=e[s];this.length=a,this.selector=t||""}function v(e,t,s){for(I in t)s&&(r(t[I])||se(t[I]))?(r(t[I])&&!r(e[I])&&(e[I]={}),se(t[I])&&!se(e[I])&&(e[I]=[]),v(e[I],t[I],s)):t[I]!==x&&(e[I]=t[I])}function h(e,t){return null==t?E(e):E(e).filter(t)}function P(e,t,a,o){return s(t)?t.call(e,a,o):t}function y(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function j(e,t){var s=e.className||"",a=s&&s.baseVal!==x;if(t===x)return a?s.baseVal:s;a?s.baseVal=t:e.className=t}function C(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?E.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var s=0,a=e.childNodes.length;s<a;s++)w(e.childNodes[s],t)}function R(e,t,s){var a=e.getElementsByTagName("script")[0];if(a){var o=a.parentNode;if(o){var n=e.createElement("script");n.innerHTML=t,Ru(s)&&n.setAttribute("nonce",s),o.appendChild(n),o.removeChild(n)}}}var x,I,E,T,A,L,k=[],_=k.concat,O=k.filter,D=k.slice,S=e.document,N={},V={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,B=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,G=/^(?:body|html)$/i,K=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],W=["after","prepend","before","append"],q=S.createElement("table"),z=S.createElement("tr"),$={tr:S.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:z,th:z,"*":S.createElement("div")},Y=/complete|loaded|interactive/,Z=/^[\w-]*$/,J={},Q=J.toString,X={},ee=S.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},se=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(s)return s.call(e,t);var a,o=e.parentNode,n=!o;return n&&(o=ee).appendChild(e),a=~X.qsa(o,t).indexOf(e),n&&ee.removeChild(e),a},A=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},L=function(e){return O.call(e,(function(t,s){return e.indexOf(t)==s}))},X.fragment=function(e,t,s){var a,o,n;return B.test(e)&&(a=E(S.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(U,"<$1></$2>")),t===x&&(t=M.test(e)&&RegExp.$1),t in $||(t="*"),(n=$[t]).innerHTML=""+e,a=E.each(D.call(n.childNodes),(function(){n.removeChild(this)}))),r(s)&&(o=E(a),E.each(s,(function(e,t){H.indexOf(e)>-1?o[e](t):o.attr(e,t)}))),a},X.Z=function(e,t){return new g(e,t)},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,t){var a;if(!e)return X.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&M.test(e))a=X.fragment(e,RegExp.$1,t),e=null;else{if(t!==x)return E(t).find(e);a=X.qsa(S,e)}else{if(s(e))return E(S).ready(e);if(X.isZ(e))return e;if(se(e))a=d(e);else if(i(e))a=[e],e=null;else if(M.test(e))a=X.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==x)return E(t).find(e);a=X.qsa(S,e)}}return X.Z(a,e)},(E=function(e,t){return X.init(e,t)}).extend=function(e){var t,s=D.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),s.forEach((function(s){v(e,s,t)})),e},X.qsa=function(e,t){var s,a="#"==t[0],o=!a&&"."==t[0],n=a||o?t.slice(1):t,i=Z.test(n);return e.getElementById&&i&&a?(s=e.getElementById(n))?[s]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:D.call(i&&!a&&e.getElementsByClassName?o?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},E.contains=S.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},E.type=t,E.isFunction=s,E.isWindow=a,E.isArray=se,E.isPlainObject=r,E.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},E.isNumeric=function(e){var t=Number(e),s=o(e);return null!=e&&"boolean"!=s&&("string"!=s||e.length)&&!isNaN(t)&&isFinite(t)||!1},E.inArray=function(e,t,s){return k.indexOf.call(t,e,s)},E.camelCase=A,E.trim=function(e){return null==e?"":String.prototype.trim.call(e)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(e,t){var s,a,o,n=[];if(c(e))for(a=0;a<e.length;a++)null!=(s=t(e[a],a))&&n.push(s);else for(o in e)null!=(s=t(e[o],o))&&n.push(s);return l(n)},E.each=function(e,t){var s,a;if(c(e)){for(s=0;s<e.length;s++)if(!1===t.call(e[s],s,e[s]))return e}else for(a in e)if(!1===t.call(e[a],a,e[a]))return e;return e},E.grep=function(e,t){return O.call(e,t)},e.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){J["[object "+t+"]"]=t.toLowerCase()})),E.fn={constructor:X.Z,length:0,forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,splice:k.splice,indexOf:k.indexOf,concat:function(){var e,t,s=[];for(e=0;e<arguments.length;e++)t=arguments[e],s[e]=X.isZ(t)?t.toArray():t;return _.apply(X.isZ(this)?this.toArray():this,s)},map:function(e){return E(E.map(this,(function(t,s){return e.call(t,s,t)})))},slice:function(){return E(D.apply(this,arguments))},ready:function(e){return Y.test(S.readyState)&&S.body?e(E):S.addEventListener("DOMContentLoaded",(function(){e(E)}),!1),this},get:function(e){return e===x?D.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,s=this.length,a=0;a<s&&(t=this[a],!1!==e.call(t,a,t));)a++;return this},filter:function(e){return s(e)?this.not(this.not(e)):E(O.call(this,(function(t){return X.matches(t,e)})))},add:function(e,t){return E(L(this.concat(E(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var t=[];if(s(e)&&e.call!==x)this.each((function(s){e.call(this,s)||t.push(this)}));else{var a="string"==typeof e?this.filter(e):c(e)&&s(e.item)?D.call(e):E(e);this.forEach((function(e){a.indexOf(e)<0&&t.push(e)}))}return E(t)},has:function(e){return this.filter((function(){return i(e)?E.contains(this,e):E(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:E(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:E(e)},find:function(e){var t,s=this;return t=e?"object"==o(e)?E(e).filter((function(){var e=this;return k.some.call(s,(function(t){return E.contains(t,e)}))})):1==this.length?E(X.qsa(this[0],e)):this.map((function(){return X.qsa(this,e)})):E(),t},closest:function(e,t){var s=[],a="object"==o(e)&&E(e);return this.each((function(o,i){for(;i&&!(a?a.indexOf(i)>=0:X.matches(i,e));)i=i!==t&&!n(i)&&i.parentNode;i&&s.indexOf(i)<0&&s.push(i)})),E(s)},parents:function(e){for(var t=[],s=this;s.length>0;)s=E.map(s,(function(e){if((e=e.parentNode)&&!n(e)&&t.indexOf(e)<0)return t.push(e),e}));return h(t,e)},parent:function(e){return h(L(this.pluck("parentNode")),e)},children:function(e){return h(this.map((function(){return p(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||D.call(this.childNodes)}))},siblings:function(e){return h(this.map((function(e,t){return O.call(p(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return E.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=s(e);if(this[0]&&!t)var a=E(e).get(0),o=a.parentNode||this.length>1;return this.each((function(s){E(this).wrapAll(t?e.call(this,s):o?a.cloneNode(!0):a)}))},wrapAll:function(e){if(this[0]){var t;for(E(this[0]).before(e=E(e));(t=e.children()).length;)e=t.first();E(e).append(this)}return this},wrapInner:function(e){var t=s(e);return this.each((function(s){var a=E(this),o=a.contents(),n=t?e.call(this,s):e;o.length?o.wrapAll(n):a.append(n)}))},unwrap:function(){return this.parent().each((function(){E(this).replaceWith(E(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=E(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return E(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return E(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var s=this.innerHTML;E(this).empty().append(P(this,e,t,s))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var s=P(this,e,t,this.textContent);this.textContent=null==s?"":""+s})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var s;return"string"!=typeof e||1 in arguments?this.each((function(s){if(1===this.nodeType)if(i(e))for(I in e)y(this,I,e[I]);else y(this,e,P(this,t,s,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(s=this[0].getAttribute(e))?s:x},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){y(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(s){this[e]=P(this,t,s,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var s="data-"+e.replace(K,"-$1").toLowerCase(),a=1 in arguments?this.attr(s,t):this.attr(s);return null!==a?C(a):x},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=P(this,e,t,this.value)}))):this[0]&&(this[0].multiple?E(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var s=E(this),a=P(this,t,e,s.offset()),o=s.offsetParent().offset(),n={top:a.top-o.top,left:a.left-o.left};"static"==s.css("position")&&(n.position="relative"),s.css(n)}));if(!this.length)return null;if(S.documentElement!==this[0]&&!E.contains(S.documentElement,this[0]))return{top:0,left:0};var s=this[0].getBoundingClientRect();return{left:s.left+e.pageXOffset,top:s.top+e.pageYOffset,width:Math.round(s.width),height:Math.round(s.height)}},css:function(e,s){if(arguments.length<2){var a=this[0];if("string"==typeof e){if(!a)return;return a.style[A(e)]||getComputedStyle(a,"").getPropertyValue(e)}if(se(e)){if(!a)return;var o={},n=getComputedStyle(a,"");return E.each(e,(function(e,t){o[t]=a.style[A(t)]||n.getPropertyValue(t)})),o}}var i="";if("string"==t(e))s||0===s?i=u(e)+":"+m(e,s):this.each((function(){this.style.removeProperty(u(e))}));else for(I in e)e[I]||0===e[I]?i+=u(I)+":"+m(I,e[I])+";":this.each((function(){this.style.removeProperty(u(I))}));return this.each((function(){this.style.cssText+=";"+i}))},index:function(e){return e?this.indexOf(E(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&k.some.call(this,(function(e){return this.test(j(e))}),b(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){T=[];var s=j(this);P(this,e,t,s).split(/\s+/g).forEach((function(e){E(this).hasClass(e)||T.push(e)}),this),T.length&&j(this,s+(s?" ":"")+T.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===x)return j(this,"");T=j(this),P(this,e,t,T).split(/\s+/g).forEach((function(e){T=T.replace(b(e)," ")})),j(this,T.trim())}}))},toggleClass:function(e,t){return e?this.each((function(s){var a=E(this);P(this,e,s,j(this)).split(/\s+/g).forEach((function(e){(t===x?!a.hasClass(e):t)?a.addClass(e):a.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===x?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===x?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),s=this.offset(),a=G.test(t[0].nodeName)?{top:0,left:0}:t.offset();return s.top-=parseFloat(E(e).css("margin-top"))||0,s.left-=parseFloat(E(e).css("margin-left"))||0,a.top+=parseFloat(E(t[0]).css("border-top-width"))||0,a.left+=parseFloat(E(t[0]).css("border-left-width"))||0,{top:s.top-a.top,left:s.left-a.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||S.body;e&&!G.test(e.nodeName)&&"static"==E(e).css("position");)e=e.offsetParent;return e}))}},E.fn.detach=E.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));E.fn[e]=function(s){var o,i=this[0];return s===x?a(i)?i["inner"+t]:n(i)?i.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each((function(t){(i=E(this)).css(e,P(this,s,t,i[e]()))}))}})),W.forEach((function(e,s){var a=s%2;E.fn[e]=function(){var e,o,n=E.map(arguments,(function(s){var a=[];return"array"==(e=t(s))?(s.forEach((function(e){return e.nodeType!==x?a.push(e):E.zepto.isZ(e)?a=a.concat(e.get()):void(a=a.concat(X.fragment(e)))})),a):"object"==e||null==s?s:X.fragment(s)})),i=this.length>1;return n.length<1?this:this.each((function(e,t){o=a?t:t.parentNode,t=0==s?t.nextSibling:1==s?t.firstChild:2==s?t:null;var r=E.contains(S.documentElement,o),c=/^(text|application)\/(javascript|ecmascript)$/,d=Pe(),l=d[gp],u=d[vp];n.forEach((function(e){if(i)e=e.cloneNode(!0);else if(!o)return E(e).remove();Ru(l)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",l),Ru(u)&&"STYLE"===e.tagName&&e.setAttribute("nonce",u),o.insertBefore(e,t),r&&w(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||R(S,e.innerHTML,e.nonce)}))}))}))},E.fn[a?e+"To":"insert"+(s?"Before":"After")]=function(t){return E(t)[e](this),this}})),X.Z.prototype=g.prototype=E.fn,X.uniq=L,X.deserializeValue=C,E.zepto=X,E}();return function(t){function s(e){return e._zid||(e._zid=m++)}function a(e,t,a,i){if((t=o(t)).ns)var r=n(t.ns);return(v[s(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!a||s(e.fn)===s(a))&&(!i||e.sel==i)}))}function o(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function i(e,t){return e.del&&!P&&e.e in y||!!t}function r(e){return j[e]||P&&y[e]||e}function c(e,a,n,c,d,u,m){var f=s(e),p=v[f]||(v[f]=[]);a.split(/\s/).forEach((function(s){if("ready"==s)return t(document).ready(n);var a=o(s);a.fn=n,a.sel=d,a.e in j&&(n=function(e){var s=e.relatedTarget;if(!s||s!==this&&!t.contains(this,s))return a.fn.apply(this,arguments)}),a.del=u;var f=u||n;a.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=c;var s=f.apply(e,t._args==b?[t]:[t].concat(t._args));return!1===s&&(t.preventDefault(),t.stopPropagation()),s}},a.i=p.length,p.push(a),"addEventListener"in e&&e.addEventListener(r(a.e),a.proxy,i(a,m))}))}function d(e,t,o,n,c){var d=s(e);(t||"").split(/\s/).forEach((function(t){a(e,t,o,n).forEach((function(t){delete v[d][t.i],"removeEventListener"in e&&e.removeEventListener(r(t.e),t.proxy,i(t,c))}))}))}function l(e,s){if(s||!e.isDefaultPrevented){s||(s=e),t.each(x,(function(t,a){var o=s[t];e[t]=function(){return this[a]=C,o&&o.apply(s,arguments)},e[a]=w}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(s.defaultPrevented!==b?s.defaultPrevented:"returnValue"in s?!1===s.returnValue:s.getPreventDefault&&s.getPreventDefault())&&(e.isDefaultPrevented=C)}return e}function u(e){var t,s={originalEvent:e};for(t in e)R.test(t)||e[t]===b||(s[t]=e[t]);return l(s,e)}var b,m=1,f=Array.prototype.slice,p=t.isFunction,g=function(e){return"string"==typeof e},v={},h={},P="onfocusin"in e,y={focus:"focusin",blur:"focusout"},j={mouseenter:"mouseover",mouseleave:"mouseout"};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:c,remove:d},t.proxy=function(e,a){var o=2 in arguments&&f.call(arguments,2);if(p(e)){var n=function(){return e.apply(a,o?o.concat(f.call(arguments)):arguments)};return n._zid=s(e),n}if(g(a))return o?(o.unshift(e[a],e),t.proxy.apply(null,o)):t.proxy(e[a],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,s){return this.on(e,t,s)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,s,a){return this.on(e,t,s,a,1)};var C=function(){return!0},w=function(){return!1},R=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,s){return this.on(t,e,s)},t.fn.undelegate=function(e,t,s){return this.off(t,e,s)},t.fn.live=function(e,s){return t(document.body).delegate(this.selector,e,s),this},t.fn.die=function(e,s){return t(document.body).undelegate(this.selector,e,s),this},t.fn.on=function(e,s,a,o,n){var i,r,l=this;return e&&!g(e)?(t.each(e,(function(e,t){l.on(e,s,a,t,n)})),l):(g(s)||p(o)||!1===o||(o=a,a=s,s=b),o!==b&&!1!==a||(o=a,a=b),!1===o&&(o=w),l.each((function(l,b){n&&(i=function(e){return d(b,e.type,o),o.apply(this,arguments)}),s&&(r=function(e){var a,n=t(e.target).closest(s,b).get(0);if(n&&n!==b)return a=t.extend(u(e),{currentTarget:n,liveFired:b
}),(i||o).apply(n,[a].concat(f.call(arguments,1)))}),c(b,e,o,a,s,r||i)})))},t.fn.off=function(e,s,a){var o=this;return e&&!g(e)?(t.each(e,(function(e,t){o.off(e,s,t)})),o):(g(s)||p(a)||!1===a||(a=s,s=b),!1===a&&(a=w),o.each((function(){d(this,e,a,s)})))},t.fn.trigger=function(e,s){return(e=g(e)||t.isPlainObject(e)?t.Event(e):l(e))._args=s,this.each((function(){e.type in y&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,s)}))},t.fn.triggerHandler=function(e,s){var o,n;return this.each((function(i,r){(o=u(g(e)?t.Event(e):e))._args=s,o.target=r,t.each(a(r,e.type||e),(function(e,t){if(n=t.proxy(o),o.isImmediatePropagationStopped())return!1}))})),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){g(e)||(e=(t=e).type);var s=document.createEvent(h[e]||"Events"),a=!0;if(t)for(var o in t)"bubbles"==o?a=!!t[o]:s[o]=t[o];return s.initEvent(e,a,!0),l(s)}}(t),function(){try{getComputedStyle(void 0)}catch(s){var t=getComputedStyle;e.getComputedStyle=function(e,s){try{return t(e,s)}catch(e){return null}}}}(),function(e){var t=e.zepto,s=t.qsa,a=/^\s*>/,o=":shadow",n="Zepto"+ +new Date,i=function(t,o){var i,r,c=o;try{c?a.test(c)&&(r=e(t).addClass(n),c="."+n+" "+c):c="*",i=s(t,c)}catch(e){throw e}finally{r&&r.removeClass(n)}return i};t.qsa=function(e,t){var s=t.split(o);if(s.length<2)return i(e,t);for(var a=e,n=0;n<s.length;n++){var r=s[n].trim();if(""!==r){if(0===r.indexOf(">")){var c=":host ";(a instanceof Element||a instanceof HTMLDocument)&&(c=":scope "),r=c+r}var d=i(a,r);if(0===d.length||!d[0]||!d[0].shadowRoot)return d;a=d[0].shadowRoot}else a=a.shadowRoot}}}(t),t}(window),zp=Lp.MutationObserver||Lp.WebkitMutationObserver,$p="Expected an array of promises";ru.default._setImmediateFn&&nt();var Yp=ue(),Zp=/.*\.(\d+)_\d+/;At(Lp,Ap);var Jp,Qp="at-library-loaded",Xp="at-request-start",eg="at-request-succeeded",tg="at-request-failed",sg="at-content-rendering-start",ag="at-content-rendering-succeeded",og="at-content-rendering-failed",ng="at-content-rendering-no-offers",ig="at-content-rendering-redirect",rg=":eq(",cg=")",dg=rg.length,lg=/((\.|#)(-)?\d{1})/g,ug="Unable to load target-vec.js",bg="Loading target-vec.js",mg="_AT",fg="clickHandlerForExperienceEditor",pg="currentView",gg="at_qa_mode",vg="at_preview_token",hg="at_preview_index",Pg="at_preview_listed_activities_only",yg="at_preview_evaluate_as_true_audience_ids",jg="at_preview_evaluate_as_false_audience_ids",Cg="_",wg=function(e){return!b(e)},Rg="at_preview_mode",xg="at_preview",Ig="at-",Eg="at-body-style",Tg="#"+Eg,Ag=Ig+"views",Lg="Disabled due to optout",kg="MCAAMB",_g="MCAAMLH",Og="MCMID",Dg="MCOPTOUT",Sg="getSupplementalDataID",Ng="getCustomerIDs",Vg=!0,Fg="NS",Mg="DS",Bg="trackingServer",Ug=Bg+"Secure",Gg="Visitor",Kg="getInstance",Hg="isAllowed",Wg="Visitor API requests timed out",qg="Visitor API requests error",zg={},$g="Data provider",Yg="timed out",Zg=2e3,Jg="authorization",Qg="mboxDebugTools",Xg=["architecture","bitness","model","platformVersion","fullVersionList"],ev=Oa(),tv="profile.",sv="mbox3rdPartyId",av="at_property",ov="orderId",nv="orderTotal",iv="productPurchasedId",rv="productId",cv="categoryId",dv="POST",lv="Network request failed",uv="Request timed out",bv="Malformed response JSON",mv="mboxedge",fv=".tt.omtrdc.net",pv=function(e){return!D(e)},gv=function(e){return function(t){return t[e]}},vv=function(e){return function(t){return!e(t)}},hv=vv(b),Pv=vv(N),yv=function(e){return function(t){return y(e,t)}},jv=function(e){return e.status===Am},Cv=function(e){return e.type===Um},wv=function(e){return e.type===vb},Rv=yv(hv),xv=yv(Pv),Iv=gv(qf),Ev=gv(Yu),Tv=gv($f),Av=gv(Gm),Lv=function(e){return Ru(e.name)},kv=function(e){return!b(e.index)},_v=function(e){return p(e)&&Lv(e)},Ov=function(e){return p(e)&&Lv(e)&&kv(e)},Dv=function(e){return p(e)&&Lv(e)},Sv=function(e){return Ru(e.selector)},Nv=gv(Km),Vv=w([Nv,hv]),Fv="adobe_mc_sdid",Mv="Network request failed",Bv="Request timed out",Uv="URL is required",Gv="GET",Kv="POST",Hv="method",Wv="url",qv="headers",zv="data",$v="credentials",Yv="timeout",Zv="async",Jv=/CLKTRK#(\S+)/,Qv=/CLKTRK#(\S+)\s/,Xv=function(e){return!b(e)},eh="visibilityState",th="visible",sh=100,ah=Hb+","+qb+","+Wb,oh="at-action-key",nh="metric element not found",ih="navigator",rh="sendBeacon",ch="Beacon data sent",dh="Beacon data sent failed",lh="View triggered notification",uh="View rendered notification",bh="Mboxes rendered notification",mh="Event handler notification",fh="Mbox event handler notification",ph="View event handler notification",gh="prefetchMboxes",vh="rendered",hh="triggered",Ph={},yh="pageLoadMetrics",jh="prefetchMetrics",Ch=gv(zf),wh=function(){return Qo(Sm)},Rh=function(e){return Xo(Sm,e)},xh=gv(Yu),Ih=gv(ob),Eh=function(e){return Qo(Dm,e)},Th=function(e,t){return Xo(Dm,ou.default(e,t))},Ah=function(e){return vv(jv)(e)&&Vv(e)},Lh={exports:{}};$c.prototype={on:function(e,t,s){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:s}),this},once:function(e,t,s){function a(){o.off(e,a),t.apply(s,arguments)}var o=this;return a._=t,this.on(e,a,s)},emit:function(e){for(var t=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),a=0,o=s.length;a<o;a++)s[a].fn.apply(s[a].ctx,t);return this},off:function(e,t){var s=this.e||(this.e={}),a=s[e],o=[];if(a&&t)for(var n=0,i=a.length;n<i;n++)a[n].fn!==t&&a[n].fn._!==t&&o.push(a[n]);return o.length?s[e]=o:delete s[e],this}},Lh.exports=$c,Lh.exports.TinyEmitter=$c;var kh=Lh.exports,_h=Yc(),Oh="Page load rendering failed",Dh="Mboxes rendering failed",Sh="View rendering failed",Nh="Prefetch rendering failed",Vh=function(e){return!D(y(jv,e))},Fh="[page-init]",Mh="[getOffer()]",Bh="[getOffers()]",Uh="[applyOffer()]",Gh="[applyOffers()]",Kh="[sendNotifications()]",Hh="[trackEvent()]",Wh="[triggerView()]",qh=[],zh=0,$h=1,Yh=zh;Ml();var Zh="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Jh="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Qh="mboxCreate() "+Zh,Xh="mboxDefine() "+Zh,eP="mboxUpdate() "+Zh,tP=/^tgt:.+/i,sP=function(e){return tP.test(e)},aP=-1,oP=10,nP="tgt:tlm",iP=nP+":lower",rP=nP+":upper",cP={init:Ql,initConfig:he,initDelivery:qd};e.exports=cP}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,s){"use strict";var a=s("../librarySettings"),o=s("@adobe/reactor-window"),n=s("./object-override"),i=s("./params-store"),r=i.getParams,c=i.getPageLoadParams,d=s("../targetSettings").targetSettings;e.exports=function(e){return d.mboxParams=r(),d.globalMboxParams=c(),n(d,e,["bodyHidingEnabled","bodyHiddenStyle"]),n(d,o.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),n(d,a.TARGET_DEFAULT_SETTINGS||{},["version"]),d}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.11.0"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,s,a){t[s]!==a&&(e[s]=t[s])}function s(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,a,o){Object.keys(a).filter(s,{subset:o}).forEach((function(s){t(e,a,s)}))}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,s){"use strict";function a(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function o(e){var t={};return Object.keys(e).forEach((function(s){var o=e[s];if(a(o)){var n=o.checked,i=o.value;n&&""===i||(t[s]=i)}else t[s]=o})),t}function n(e){var t=o(e);d(l,t)}function i(e){var t=o(e);d(u,t)}function r(){return l}function c(){return u}var d=s("./object-override"),l={},u={};e.exports={mergeParams:n,mergePageLoadParams:i,getParams:r,getPageLoadParams:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,s,a){"use strict";var o=a.getExtensionSettings(),n=o.targetSettings||{};e.exports={extensionSettings:o,targetSettings:n}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,s,a){"use strict";function o(e){var t=e.compatMode,s=e.documentMode;return t&&"CSS1Compat"===t&&(!s||s>=9)}function n(e){var t=function(){},s=function(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:s,applyOffer:t,applyOffers:s,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function i(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function r(){return i()?(a.logger.warn(u.ALREADY_INITIALIZED),null):(p.mboxParams=m(),p.globalMboxParams=f(),g(p,c.targetGlobalSettings||{},P),g(p,v||{},["version"]),o(d)||(p.enabled=!1,a.logger.warn(u.DELIVERY_DISABLED)),p.timeout=h(p.timeout),p)}var c=s("@adobe/reactor-window"),d=s("@adobe/reactor-document"),l=s("@adobe/reactor-promise"),u=s("../messages"),b=s("./params-store"),m=b.getParams,f=b.getPageLoadParams,p=s("../targetSettings").targetSettings,g=s("./object-override"),v=s("../librarySettings").TARGET_DEFAULT_SETTINGS,h=s("./validation").validTimeout,P=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:r,overridePublicApi:n}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,s){"use strict";function a(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function o(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function n(e){return o(e[p])&&o(e[b])}function i(e,t){return!!t&&!a(e)&&!a(e[f])&&n(e[f])}function r(e,t){return e[b](t)}function c(){var e=u[f];return r(e,e[g][v])}function d(){var e=h[m];return i(u,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=s("@adobe/reactor-window").adobe,b="isApproved",m="optinEnabled",f="optIn",p="fetchPermissions",g="Categories",v="TARGET",h=s("../targetSettings").targetSettings;e.exports={shouldUseOptIn:d,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,s,a){"use strict";function o(e,t){return new r((function(s){e?t.then((function(t){t&&(e.abort=!0),s()})):s()}))}function n(e){if(e){var t=new r((function(e){var t=setTimeout((function(){e(!1)}),u.targetSettings.timeout),s=function s(a){e(!1),clearTimeout(t),l(i,a,s)};d(i,m,(function s(a){a.detail&&!0===a.detail.redirect?e(!0):e(!1),clearTimeout(t),l(i,a,s)})),d(i,f,s)}));e((function(e){return o(e,t)}))}}var i=s("@adobe/reactor-document"),r=s("@adobe/reactor-promise"),c=s("./modules/event-util"),d=c.addEventListener,l=c.removeEventListener,u=s("./targetSettings").extensionSettings,b=a.getSharedModule("adobe-analytics","augment-tracker"),m="at-request-succeeded",f="at-request-failed";e.exports=function(){n(b)}}},"adobe-target-v2/lib/modules/validation.js":{script:function(e){"use strict";function t(e){var t=Number(e);return Number.isNaN(t)?s:Math.min(a,Math.max(o,t))}var s=3e3,a=99999,o=0;e.exports={validTimeout:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,s){e.addEventListener(t,s)}function s(e,t,s){e.removeEventListener(t,s)}e.exports={addEventListener:t,removeEventListener:s}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPef068a8d6dd34a43866d9a80cc98baab/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",customSetup:{source:function(e){try{var t=function(){var e,t,s=this,a=/eVar|prop|pageName|channel|hier/,o=_satellite.getVar("AA-Exclusionlist");for(e in s)t=s[e],Object.prototype.hasOwnProperty.call(s,e)&&"string"==typeof t&&a.test(e)&&-1===o.indexOf(e)&&(s[e]=t.toLowerCase());return s},s=_satellite.getVar("removePII");e.usePlugins=!0,e.doPlugins=function(e){try{if(e.isFromACDL||e.events&&e.events.indexOf("event934")>-1)return["www.bmw.ee","www.bmw.com.ec"].indexOf(window.location.hostname)>-1&&(_satellite.logger.log("cancelling analytics for bmw.ee and bmw.com.ec"),e.abort=!0),(e=s(e)).isFromACDL=!1,void(e.linkTrackEvents=void 0);e=t.call(e),["www.bmw.ee","www.bmw.com.ec"].indexOf(window.location.hostname)>-1&&(_satellite.logger.log("cancelling analytics for bmw.ee and bmw.com.ec"),e.abort=!0),e.getPercentPageViewed();var a=_satellite.getVar("snapshotDL");try{var o=a.get("page.pageInstanceId",a.get("pageInstanceId")),n=a.get("page.category.primaryCategory"),r=new RegExp("([a-z]{2}_[a-zA-Z]{2})");r.test(e.prop3)&&(r.test(n)?o.indexOf("index-prod")>-1?e.prop3="homepage":o.indexOf("all-models")>-1?e.prop3="showroom":e.prop3=o.split("/")[6]:e.prop3=o)}catch(O){var c={from:"AA",type:"DE",name:"prop3 workaround"};_satellite.logger.error(O,c)}try{navigator.userAgent&&(e.eVar141=screen.width+"*"+screen.height)}catch(D){c={from:"AA",type:"screen height and width",name:"eVar141 workaround"},_satellite.logger.error(D,c)}function d(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}if(e.eVar131=_satellite.getVar("lastTwoDigitsOfMID")(),e.linkTrackVars+=",eVar131,eVar141","object"==typeof e.eVar16&&(e.eVar16="datalayer field empty"),e.linkTrackVars+=",eVar16","bmw.pt"===_satellite.getVar("topLevelDomain")||"bmw.at"===_satellite.getVar("topLevelDomain")||"bmw.se"==_satellite.getVar("topLevelDomain")||"bmw.be"===_satellite.getVar("topLevelDomain")||"bmw.lu"===_satellite.getVar("topLevelDomain")||"bmw.nl"==_satellite.getVar("topLevelDomain")||"bmw.co.uk"==_satellite.getVar("topLevelDomain")||"bmw.de"===_satellite.getVar("topLevelDomain")||"bmw.fr"===_satellite.getVar("topLevelDomain")||"bmw.it"===_satellite.getVar("topLevelDomain")||"bmw.es"===_satellite.getVar("topLevelDomain")){var l,u,b,m=d("visitor_aa_hits").cur.bev?d("visitor_aa_hits").cur.bev:"",f=d("visitor_aa_hits").cur.gkl?d("visitor_aa_hits").cur.gkl:"",p=d("visitor_aa_hits").cur.sfb?d("visitor_aa_hits").cur.sfb:"";d("visitor_aa_hits").hasOwnProperty("pre")?(l=d("visitor_aa_hits").pre.sfb?d("visitor_aa_hits").pre.sfb:"",u=d("visitor_aa_hits").pre.bev?d("visitor_aa_hits").pre.bev:"",b=d("visitor_aa_hits").pre.gkl?d("visitor_aa_hits").pre.gkl:""):(l="",u="",b=""),e.eVar196=m+"|"+u+"|"+f+"|"+b+"|"+p+"|"+l,e.linkTrackVars+=",eVar196";var g=d("v_reco_data").SFB;e.prop35=g,e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",",")}"bmw.de"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.ru"!==_satellite.getVar("topLevelDomain")||(e.prop34=_satellite.getVar("AA-contextData")(e),e.linkTrackVars=e.apl(e.linkTrackVars,"prop34",",")),e.eVar34&&e.eVar34.indexOf("impression")>-1&&(e.events=e.apl(e.events,"event925,event926"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event925,event926")),e.eVar34&&e.eVar34.indexOf("download")>-1&&(e.events=e.apl(e.events,"event903,event904"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event903,event904")),e.prop56&&"error"==e.prop56&&e.prop54&&"js error"!=e.prop54&&(e.events=e.apl(e.events,"event931,event932"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event931,event932")),e.prop56&&e.prop53&&"interaction"==e.prop56&&("success"==e.prop53||"ux"==e.prop53)&&(e.events=e.apl(e.events,"event917,event918"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event917,event918")),(a.get("pageInstanceId").indexOf("error-pool/")>-1||a.get("page.category.pageType").indexOf("error")>-1)&&(e.pageName=e.pageURL||window.location.hostname+window.location.pathname,e.pageType="errorPage",e.prop1=e.pageName),e.prop1=e.prop1.replace(/prod$/,""),e.linkTrackVars=e.apl(e.linkTrackVars,"prop1,prop3,prop4,prop5");try{e.eVar34.indexOf("sl > click dealer email")>0?e.eVar34="stock > click dealer email":e.eVar34=e.eVar34.replace("sl > click dealer phone","stock > click dealer phone")}catch(S){}var v=document.referrer,h=_satellite.getVar("smartPreviousValueManager");if(v.indexOf(_satellite.getVar("topLevelDomain"))>-1){e.eVar22=h.get("pathName"),e.events=e.apl(e.events,"event125="+e._ppvInitialPercentViewed,",",1),e.events=e.apl(e.events,"event126="+e._ppvHighestPercentViewed,",",1),e.events=e.apl(e.events,"event127="+e._ppvHighestPixelsSeen,",",1),e.events=e.apl(e.events,"event129="+e._ppvFoldsAvailable,",",1),e.events=e.apl(e.events,"event130="+e._ppvFoldsSeen,",",1);var P=100/e._ppvHighestPercentViewed*e._ppvHighestPixelsSeen;P=P?P.toFixed(0):"na",e.events=e.apl(e.events,"event128="+P,",",1)}e.prop12=Date.now();var y={development:"dev",staging:"staging",production:"prod"};e.eVar135=y[_satellite.buildInfo.environment||"development"],e.linkTrackVars=e.apl(e.linkTrackVars,"prop12,eVar135",",");var j=_satellite.getVar("pa_pag_pageTitle"),C=document.title;if(j=j.indexOf("datalayer")>-1?C.toLowerCase():j.toLowerCase(),(e.eVar18==j&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"!=e.prop74||"datalayer field missing"==e.prop50||"datalayer field empty"==e.prop50)&&(e.prop50="page title"),e.eVar8||(e.eVar8=a.get("page.pageInfo.geoRegion"),_satellite.getVar("AA-marketCodes").indexOf(e.eVar8)<0&&(e.account="bmwgroup.group.global.test",e.eVar138="wrong market code",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","))),!e.products){var w=_satellite.getVar("setDefaultProductVariables");e.products=w.toString()}if(e.eVar130=_satellite.getVar("hashingMID"),"bmw.nl"===_satellite.getVar("topLevelDomain")||"bmw.de"===_satellite.getVar("topLevelDomain")||"bmw.es"===_satellite.getVar("topLevelDomain")||"bmw.it"===_satellite.getVar("topLevelDomain")||"bmw.fr"===_satellite.getVar("topLevelDomain")||"bmw.co.uk"===_satellite.getVar("topLevelDomain")||"bmw.se"===_satellite.getVar("topLevelDomain")||"bmw.be"===_satellite.getVar("topLevelDomain")||"bmw.lu"===_satellite.getVar("topLevelDomain")||"bmw.at"===_satellite.getVar("topLevelDomain")||"bmw.pt"===_satellite.getVar("topLevelDomain")){var R;"bmw.es"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster ES"):"bmw.it"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster IT"):"bmw.fr"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster FR"):"bmw.co.uk"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster 2.0"):"bmw.de"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster DE"):"bmw.nl"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster NL"):"bmw.se"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster SE"):"bmw.be"===_satellite.getVar("topLevelDomain")||"bmw.lu"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster BE_LU"):"bmw.at"===_satellite.getVar("topLevelDomain")?R=_satellite.getVar("Cluster AT"):"bmw.pt"===_satellite.getVar("topLevelDomain")&&(R=_satellite.getVar("Cluster PT")),R=R||"";try{function d(e){var t=window.epaas.api.getPersistence(e);return JSON.parse(t)||{}}d("visitor_aa_hits").hasOwnProperty("pre")?e.eVar195=(d("visitor_aa_hits").cur.seg?d("visitor_aa_hits").cur.seg:R)+(d("visitor_aa_hits").pre.seg?"|"+d("visitor_aa_hits").pre.seg:""):d("visitor_aa_hits").hasOwnProperty("cur")&&d("visitor_aa_hits").cur.hasOwnProperty("seg")&&(e.eVar195=d("visitor_aa_hits").cur.seg?d("visitor_aa_hits").cur.seg:R)}catch(N){_satellite.logger.error("\xcbrror from evar195 "+N)}}if(e.linkTrackVars+=",eVar130,eVar195,eVar196",_satellite.getVar("AA-setFallbackValues"),"bmw.pt"==_satellite.getVar("topLevelDomain")&&e&&e.products){var x=a.get("product.-1.attributes.mmdr"),I=x;if(I!=x){var E=(e.products.match(/[/]/g)||[]).length;for(i=0;i<E/2;i++)e.products=e.products.replace(x,I)}}-1!=_satellite.getVar("topLevelDomain").indexOf("bmw")?e.prop13="bmw":-1!=_satellite.getVar("topLevelDomain").indexOf("mini")?e.prop13="mini":(e.account="bmwgroup.group.global.test",void 0===e.eVar138?e.eVar138="wrong brand":e.eVar138=e.eVar138+"~wrong brand",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","));var T=(a=_satellite.getVar("snapshotDL")).get("page.category.subCategory03"),A=a.get("page.category.subCategory01");"bmw.dk"===_satellite.getVar("topLevelDomain")||"bmw.no"===_satellite.getVar("topLevelDomain")||"bmw.se"===_satellite.getVar("topLevelDomain")||"bmw.fi"===_satellite.getVar("topLevelDomain")?(e.prop30="electromobility"===A?"electromobility":T,e.linkTrackVars=e.apl(e.linkTrackVars,"prop30",",")):(e.prop30=T,e.linkTrackVars=e.apl(e.linkTrackVars,"prop30",","));try{var L=e.Util.cookieRead("gcdmToken");L&&(e.prop40="logged-in"),""==L&&(e.prop40="not logged-in")}catch(V){}"Cookie drawer impression"==e.linkName&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"==e.prop74&&(e.abort=!0);try{var k="";null!=processingWrapper&&(k=processingWrapper._getProcessingInfo("BaseTracking",{type:processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2}).adobe);var _="~"===k.charAt(0)?k.substring(1):k;e.linkTrackVars+=",list1",e.list1=_}catch(F){c={from:"AA",type:"Config",name:"consentstatus"},_satellite.logger.error(F,c)}e.eVar161="datalayer field missing",e.eVar162="datalayer field missing",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar161,eVar162"),"object"==typeof e.eVar16&&(e.eVar16="datalayer field empty"),e.linkTrackVars+=",eVar16",-1==e.events.indexOf("event933")&&e.sa(_satellite.getVar("AA-reportSuite")),e.eVar139=_satellite.getVar("AA-eventFilter-priceControl")(""),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar139"),_satellite.getVar("setPrefix",e),_satellite.getVar("set most recent model|v92"),e=s(e),h=_satellite.getVar("smartPreviousValueManager"),e.eVar144=h.get("pagePrimaryCategory"),h.update("pagePrimaryCategory",e.prop3),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar144"),"object"==typeof e.eVar16&&(e.eVar16="datalayer field empty"),e.linkTrackVars+=",eVar16",e.prop20=window.location.host.replace("www.","")+window.location.pathname,e.linkTrackVars+="prop20,"}catch(M){c={from:"AA",type:"Config",name:"Customize Page Code - Do Plugin"},_satellite.logger.error(M,c)}},e.registerPostTrackCallback((function(){try{var e=_satellite.getVar("snapshotDL"),t=e.get("event.-1.eventInfo.eventName"),s=e.get("event.-1.attributes.consentItemName"),a=_satellite.getVar("KIT-helpers").cache,o=a.get("analyticsConsentRejected")||"false";("reject consent"==t&&"analytics"==s||"true"==o)&&(a.set("analyticsConsentRejected","false"),adobe.optIn.deny(adobe.OptInCategories.ECID),adobe.optIn.deny(adobe.OptInCategories.ANALYTICS))}catch(e){var n={from:"AA",type:"AA-Extension",name:"Customize Page Code - registerPostTrackCallback"};_satellite.logger.error(e,n)}}))}catch(e){var a={from:"AA",type:"Config",name:"Customize Page Code"};_satellite.logger.error(e,a)}}},libraryCode:{type:"managed",accounts:{staging:["%AA-reportSuite%"],production:["%AA-reportSuite%"],development:["%AA-reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},trackerProperties:{charSet:"UTF-8",currencyCode:"%AA-currencyCode%",cookieLifetime:"63072000",trackingServer:"bmwag.d3.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,cookieDomainPeriods:"%cookieDomainPeriods%",trackingServerSecure:"bmwag.d3.sc.omtrdc.net",dynamicVariablePrefix:"d=",fpCookieDomainPeriods:"%cookieDomainPeriods%"}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker"),n=s("../helpers/applyTrackerVariables");e.exports=function(e,t){return o().then((function(s){a.logger.info("Set variables on the tracker."),n(s,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,s)}),(function(e){a.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker"),n=s("../helpers/getNodeLinkText"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},r=function(e){return i(e)?n(e):"link clicked"},c=function(e,t,s){if("page"===t.type)a.logger.info("Firing page view beacon."),e.t();else{var o={linkType:t.linkType||"o",linkName:t.linkName||r(s)};a.logger.info("Firing link track beacon using the values: "+JSON.stringify(o)+"."),e.tl(i(s)?s:"true",o.linkType,o.linkName)}};e.exports=function(e,t){return o().then((function(s){c(s,e,t.element)}),(function(e){a.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker");e.exports=function(){return o().then((function(e){e.clearVars&&(a.logger.info("Clear variables."),e.clearVars())}),(function(e){a.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,s,a){"use strict";var o,n=s("@adobe/reactor-cookie"),i=s("@adobe/reactor-promise"),r=s("@adobe/reactor-window"),c=s("../helpers/settingsHelper"),d=s("../helpers/augmenters"),l=s("../helpers/applyTrackerVariables"),u=s("../helpers/loadLibrary"),b=s("../helpers/generateVersion")(a.buildInfo.turbineBuildDate),m="beforeSettings",f=a.getSharedModule("adobe-mcid","mcid-instance"),p=function(e){return!e||"true"===n.get(e)},g=function(e){return i.all(d.map((function(t){var s;try{s=t(e)}catch(e){setTimeout((function(){throw e}))}return i.resolve(s)}))).then((function(){return e}))},v=function(e){return f&&(a.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},h=function(e){return a.logger.info('Setting version on tracker: "'+b+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=b:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+b&&(e.version+="-"+b),e},P=function(e,t,s){return t.loadPhase===m&&t.source&&(a.logger.info("Calling custom script before settings."),t.source.call(r,s)),l(s,e||{}),t.loadPhase!==m&&t.source&&(a.logger.info("Calling custom script after settings."),t.source.call(r,s)),s},y=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),a.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},j=(o=a.getExtensionSettings(),p(o.trackingCookieName)?u(o).then(g).then(v).then(h).then(P.bind(null,o.trackerProperties,o.customSetup||{})).then(y.bind(null,o)):i.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return j}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,s){"use strict";var a=s("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-query-string"),n=s("@adobe/reactor-window"),i=/eVar([0-9]+)/,r=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),d=function(e,t,s){return s.indexOf(e)===t},l=function(e,t,s){var a=Object.keys(t).filter(c.test.bind(c));return s&&a.push("events"),(a=a.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&d(e,t,a)})).join(",")},u=function(e,t){var s=t.map((function(e){return e.name}));return(s=s.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&d(e,t,s)})).join(",")},b=function(e,t,s){e[t]=s[t].join(",")},m=function(e,t,s){var a=s.dynamicVariablePrefix||"D=";s[t].forEach((function(t){var s;if("value"===t.type)s=t.value;else{var o=i.exec(t.value);if(o)s=a+"v"+o[1];else{var n=r.exec(t.value);n&&(s=a+"c"+n[1])}}e[t.name]=s}))},f={linkDownloadFileTypes:b,linkExternalFilters:b,linkInternalFilters:b,hierarchies:function(e,t,s){s[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:m,eVars:m,campaign:function(e,t,s){if("queryParam"===s[t].type){var a=o.parse(n.location.search);e[t]=a[s[t].value]}else e[t]=s[t].value},events:function(e,t,s){var a=s[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=a.join(",")}};e.exports=function(e,t){var s={};t=t||{},Object.keys(t).forEach((function(e){var a=f[e],o=t[e];a?a(s,e,t):s[e]=o})),s.events&&e.events&&e.events.length>0&&(s.events=e.events+","+s.events);var o=t&&t.events&&t.events.length>0,n=l(e,s,o);n&&(s.linkTrackVars=n);var i=u(e,t.events||[]);i&&(s.linkTrackEvents=i),a.logger.info('Applying the following properties on tracker: "'+JSON.stringify(s)+'".'),Object.keys(s).forEach((function(t){e[t]=s[t]}))}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-window"),n={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[a.environment.stage]&&(t=e[a.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&o&&o._satellite&&o._satellite.company&&o._satellite.company.orgId&&(t=!0),t}};e.exports=n}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-load-script"),n=s("@adobe/reactor-window"),i=s("@adobe/reactor-promise"),r=s("./settingsHelper"),c=s("./pollHelper"),d=function(e,t){if(!n.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+n.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var s=n.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),n.s=s),s},l=function(e){var t=[];switch(e.libraryCode.type){case r.LIB_TYPES.MANAGED:t.push(a.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.APP_MEASUREMENT)),r.isActivityMapEnabled(e)&&t.push(a.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case r.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case r.LIB_TYPES.REMOTE:t.push("https:"===n.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(r.isAudienceManagementEnabled(e)){var s={namespace:n._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=s,t.push(a.getHostedLibFileUrl(r.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return i.all(l(e).map((function(e){return a.logger.info("Loading script: "+e),o(e)})))},b=function(e,t){if(e.libraryCode.accounts)if(t.sa){var s=r.getReportSuites(e.libraryCode.accounts);a.logger.info('Setting the following report suites on the tracker: "'+s+'"'),t.sa(s)}else a.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},m=function(e){if(n[e])return a.logger.info('Found tracker located at: "'+e+'".'),n[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case r.LIB_TYPES.MANAGED:var s=r.getReportSuites(e.libraryCode.accounts);return t.then(d.bind(null,e,s));case r.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,n,e.libraryCode.trackerVariableName)).then(b.bind(null,e));case r.LIB_TYPES.CUSTOM:case r.LIB_TYPES.REMOTE:return t.then(m.bind(null,e.libraryCode.trackerVariableName)).then(b.bind(null,e))
;default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,s=function(e){return e.getUTCDate().toString(36)},a=function(e){return e.substr(e.length-1)},o=function(e){return Math.floor(e.getUTCHours()/t)},n=function(e){var t=(e.getUTCMonth()+1+12*o(e)).toString(36);return a(t)},i=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+i(t)+n(t)+s(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-promise"),n=40,i=250,r=function(e,t,s){a.logger.info('Found property located at: "'+t+'"].'),e(s)},c=function(e,t){return new o((function(s,a){if(e[t])return r(s,t,e[t]);var o=1,c=setInterval((function(){e[t]&&(r(s,t,e[t]),clearInterval(c)),o>=n&&(clearInterval(c),a(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),o++}),i)}))};e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";var t=function(e){return e&&e.replace(/\s+/g," ").trim()},s=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,a=function(e){return!(e&&e.nodeName&&e.nodeName.match(s))},o=function(e){var t=[],s=!1;return a(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var a=o(e);t=t.concat(a.supportedNodes),s=s||a.includesUnsupportedNodes}))):s=!0,{supportedNodes:t,includesUnsupportedNodes:s}},n=function(e,t,s){var a;return s&&s!==e.nodeName.toUpperCase()||(a=e.getAttribute(t)),a};e.exports=function(e){var s=t(e.innerText||e.textContent),a=o(e);if(!s||a.includesUnsupportedNodes){var i,r,c,d,l=[];a.supportedNodes.forEach((function(e){e.getAttribute&&(i=i||t(e.getAttribute("alt")),r=r||t(e.getAttribute("title")),c=c||t(n(e,"value","INPUT")),d=d||t(n(e,"src","IMG"))),e.nodeValue&&l.push(e.nodeValue)})),(s=t(l.join("")))||(s=t(i||r||c||d||""))}return s}}}}}},company:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:".Next BMW NSC",settings:{domains:["bmw.co.za","bmw.de"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR66f9ca7b31754d7795108262c6004998"},rules:[{id:"RL0010caca3cc040d282c929cca86e7213",name:"TPT - UK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2bfae5eb338847858f30ae588d627d04-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL003166ad2e544bf5ad94d51081a98f7d",name:"TPT - BG - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaf0532b944774f95b7302b68041d655f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC501177b33c484afab374a62581f006ce-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL00367b5832a84d238af2684ec7819443",name:"TPT - SI - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12c8ddf6be98462e8e6101e963188596-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c17ca8ed0424310a3c14aecb1a5ce5d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL008ca45c9dfc45c39179660574588eb6",name:"TPT - DE - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCecb98685e0424af79b067c69b58c9151-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL00b73a6162d346fba113d46521299397",name:"TPT - SK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb73289e55654e128d32f693ce4078a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL00bdfe4964b34ee0a727a5377ced5588",name:"TPT - IE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC988121d9a7de487ea65b45429f97904f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01222ef95b8d4070863767969968ad93",name:"TPT - TH - AEM - Floodlight - RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC06e8e4158d334c199d93afe6157b4f7d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0166a5d6c2844ac5b73db5fd258273ee",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC77fec65559314205a5e7bdf9207b2fa3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01d87506c7db49af8c536c69546c5e6d",name:"PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%splitConsentEnabled%",rightOperand:"false"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7ed00956b59544c79b22bf1090be1742-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL01e6eb1e3598490981f95447bdd8d84a",name:"TPT - TH - AEM - Floodlight - Test Drive Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_8740904",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4ad40344588d4622b50ae575e87edd6c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL01ef324c241d4e1fbffb64bb6a1e535c",name:"TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa835bce97a584f8d90dcc9ed5fff00d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC539c8ea1519b4804a1efebf6b16d278f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02050446fbb043c195b67a24d9612b9c",name:"TPT - IT - AEM - Adwords - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC18c5af69aa4c4500ba78aab79b5e8989-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL020e28cc1fd344e59a35ca0589bdd2a7",name:"TPT - ES - AEM - GTagDC - Multiple New - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC540ef633794245e69456002726849e3d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0232fdeb15164db9879a07f5089530c2",name:"TPT - PT - AEM - Facebook - FormTracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd05163a04a5b4d1f920d51b394bda1f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02342b99007845faa58cd061cfade63d",name:"DCR - DE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4833931efd8f4c9198f08ebcd1a3add6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL027025dd02e64a0bb676a7b7ab9f8937",name:"TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC90017ab7fa18489d8100836b84519ed0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC408d764eeb5d4c3a80cc03b4ef1f863c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL029023be84fd4de8b71905cac8f74fb9",name:"TPT - JP - AEM - Usabilla NPS 3.5 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.jp"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase(),a={JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:0,Psyma:56,Other:24}}};return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC422903b601d34c9fa5484edb40db5fc2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02a38311f7df44858d6c747c64427e59",name:"TPT - PL - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"TDA"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf797aa3cfa174a7da77ca3afa4104467-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL02afff78c16c44e394c3914321d184f8",name:"TP2  - ALL - AEM - Stock Form Finished - p15r[c] - UC Bandaids",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"stock > form finished|nsc > form finished",operator:"regex"}},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.ch",valueIsRegex:!0},{value:"bmw.dk",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8073339",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa3625104cb0b45d393a89b9b4a388786-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7405415",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC389e1dd974374b479bf2d6dcb6f895ae-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6661610",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4cc98e9356ad42bc84af6ac6a3b40c50-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1712395",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC469a7eeb58a04ec98fcdd8f129b38216-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9737683",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC359fc17f22ec48dd9ab3074888e7425a-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3875965",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbe4bb9e72b3f44959d543a544c55a268-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_4026449",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3a1d8a65f1014916ad793432418bf961-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8124001",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC638b6af411d64bd8ae54028e48148810-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9246938",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3f36fb91434240a48535c0d879e020df-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL02bb60c96f7645cb8a3f239b4058a678",name:"TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc2a91d441d09499abbd4b87b1467ca0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0318957a490e4225934b8d604e92e647",name:"TPT - IT - AEM - Adwords - BookTestDrive - ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it/topics/test-drive-now/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32b1dc9ea9f84048b67826e096bae1d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0326ba87fdd0455290717494885c7252",name:"TPT - SG - AEM - Adwords - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc87485ce6b0e458cac1b41629f350e2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL034a30b2b8aa4bfab78f209e630dde19",name:"TPT - CA - AEM - Facebook - Local form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC246b597eab6f47598552d3564ea9f743-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL0351f51e9c024720ab363a66a144a24d",name:"TPT - DE - AEM - Facebook - Mini",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc52a4b69e606487c9a2db0f08ae0d29a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL038bf922c5d24124b55f9333e2759306",name:"TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2f08f86c3ac647a28cf2bea802dcba79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0394df7e1804401d9628e7cb745f8b53",name:"TPT - NL - AEM - Adform - Multiple Page - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa245a66d6ca34c89b39a2fbfedb519b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL039ecbfafc1d479bb212367993f2ecbd",name:"TPT - JP - AEM - Yahoo - CV - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC43920160a1e9484f90037cffceadc0a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL03bbc10fc9e84b7b8831689d86e94d66",name:"TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC59c77a6bf63340a1ba64126aad9ffd63-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL03c780a2765f4437b39f1c4ce2e93403",name:"TPT - HU - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC470935b9f2b7459ba47fa6a9cc58f722-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0407e20745844af5a83134ada4b01da6",name:"DCR - All - IFrame - AA - Local Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfp"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=_satellite.getVar("smartPreviousValueManager");if("Local-Request"!=s.get("event.-1.category.primaryCategory")&&"Local-request"!=s.get("event.-1.category.primaryCategory"))return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t);var o=s.get("event.-1.category.subCategory01"),n=s.get("event.-1.category.subCategory02"),i=s.get("event.-1.category.subCategory03"),r=s.get("event.-1.category.subCategory04"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),d=s.get("event.-1.attributes.dealerInfo",s.get("event.-1.attributes.dealerinfo")),l=s.get("event.-1.eventInfo.eventName"),u=s.get("event.-1.attributes.fuelType");-1!=u.indexOf("|")&&(u=u.replace(/\|/g,"~")),t.events="",t.prop19="local form",t.prop42="locally developed",t.prop43="forms",t.prop56="form",t.eVar34=-1==l.indexOf("nsc >")?"nsc > "+l:l,t.prop8=l,t.prop53=t.prop6="local form",t.prop11=o.toUpperCase(),t.prop7=n,t.prop18=i,t.prop16=s.get("event.-1.attributes.stepName"),t.eVar9=s.get("event.-1.eventInfo.target"),void 0!==d&&(t.eVar41=d.substring(0,d.indexOf("|")),t.eVar42=d.substring(d.indexOf("|")+1,d.indexOf("_")),t.eVar40=d.substring(d.indexOf("_")+1)),"form"==t.prop56&&(t.prop53=t.prop11);var b={RFS:"service",RFA:"accessory"},m=_satellite.getVar("setDefaultProductVariables");m.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),m.category=b[o]||"new vehicle";var f=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr"));if(f&&-1==f.indexOf("/")){var p=/[a-z]{1}[0-9]{2}/i,g=f.match(p);f=g&&g.length?g[0].toUpperCase():"datalayer field empty"}var v=s.get("event.-1.attributes.motorization");if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,y=/sdrive[0-9]{2}[a-z]{1}/i;g=v.match(h)||v.match(P)||v.match(y),
v.indexOf("i3 (120 ah)")>-1||v.indexOf("i3 (120ah)")>-1||v.indexOf("i3 120ah")>-1?v="i3 (120 ah)":v.indexOf("i3s (120 ah)")>-1||v.indexOf("i3s (120ah)")>-1||v.indexOf("i3s 120ah")>-1?v="i3s (120 ah)":g&&g.length&&(v=g[0].toUpperCase())}switch(m.merchEvars.eVar53="New Cars"==r?"new car":"Used Cars"==r?"used car":"datalayer field empty",m.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName")),m.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),m.merchEvars.eVar10=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),m.merchEvars.eVar51=s.get("event.-1.attributes.bodyType",s.get("product.-1.attributes.bodyType")),m.merchEvars.eVar57=s.get("event.-1.attributes.hybridVersion"),m.merchEvars.eVar50=s.get("event.-1.attributes.serie"),m.merchEvars.eVar56=u,m.merchEvars.eVar58=v,t.products=m.toString(),t.prop2=s.get("page.category.pageType",s.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop3=s.get("page.category.primaryCategory",s.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop4=s.get("page.category.subCategory01",s.get("event.-1.attributes.relatedPageCategory.subCategory01")),t.prop5=s.get("event.-1.attributes.relatedPageCategory.primaryPurpose"),t.prop1=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=t.prop55=o,t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar39=s.get("page.attributes.outletName"),t.eVar20=s.get("user.-1.segment.userSelectedCountry"),t.eVar23=s.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=s.get("user.-1.segment.userSelectedGender"),t.eVar25=s.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=s.get("user.-1.segment.userSelectedCurrentVehicle"),"locally developed"==t.prop42&&(t.eVar137="local"),l){case"Form Start":var j={Lead:"event17,event18",Handraiser:"event21,event22",RAO:"event25,event26",RFA:"event29,event30",RFC:"event33,event34",RFCD:"event37,event38",RFD:"event41,event42",RFI:"event45,event46",Download:"event49,event50",Postal:"event57,event58",RFO:"event61,event62",RFP:"event65,event66",RFS:"event69,event70",ROI:"event73,event74",Newsletter:"event81,event82","Keep Me Informed":"event77,event78",TDA:"event85,event86","Online TDA":"event89,event90",Registration:"event93,event94",CAMPAIGN:"event97,event98","FS RFO":"event101,event102",Loan:"event105,event106","Operational Lease":"event109,event110","Private Lease":"event113,event114",Quote:"event117,event118",Insurance:"event121,event122","not set":""};t.events=t.apl(t.events,j[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[o]),t.events=t.apl(t.events,j[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[n]),t.events=t.apl(t.events,j[i]),t.linkTrackEvents=t.apl(t.linkTrackEvents,j[i]),t.events=t.apl(t.events,"event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event3,event4"),"RFI"==o&&"Generic"==n&&(t.events=t.apl(t.events,"event53,event54"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event53,event54")),t.eVar34="nsc > form started",t.prop8="form started";break;case"Form Success":var C={Lead:"event19,event20",Handraiser:"event23,event24",RAO:"event27,event28",RFA:"event31,event32",RFC:"event35,event36",RFCD:"event39,event40",RFD:"event43,event44",RFI:"event47,event48",Download:"event51,event52",Postal:"event59,event60",RFO:"event63,event64",RFP:"event67,event68",RFS:"event71,event72",ROI:"event75,event76",Newsletter:"event83,event84","Keep Me Informed":"event79,event80",TDA:"event87,event88","Online TDA":"event91,event92",Registration:"event95,event96",CAMPAIGN:"event99,event100","FS RFO":"event103,event104",Loan:"event107,event108","Operational Lease":"event111,event112","Private Lease":"event115,event116",Quote:"event119,event120",Insurance:"event123,event124","not set":""};t.events=t.apl(t.events,C[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[o]),t.events=t.apl(t.events,C[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[n]),t.events=t.apl(t.events,C[i]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[i]),t.events=t.apl(t.events,"event15,event16"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event15,event16"),"RFI"==o&&"Generic"==n&&(t.events=t.apl(t.events,"event55,event56"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event55,event56")),t.eVar34="nsc > form finished",t.prop8="form finished";break;case"First Interaction":t.events=t.apl(t.events,"event5,event6",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event5,event6",","),t.eVar34="nsc > form first interaction",t.prop8="form first interaction";break;case"Form Step 1":case"Form Step 2":case"Form Step 3":case"Form Step 4":case"Form Step 5":t.events=t.apl(t.events,"event7,event8",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8",","),t.eVar34="nsc > "+l,t.prop8=l;break;case"Local Form Interaction":t.eVar34="nsc > form interactions",t.prop8="form interactions"}l.includes("error")&&("adobe form"!=s.get("event.-1.category.primaryCategory")&&"local form"!=s.get("event.-1.category.primaryCategory")&&"custom central form"!=s.get("event.-1.category.primaryCategory")&&"custom local form"!=s.get("event.-1.category.primaryCategory")||(t.prop6=s.get("event.-1.category.primaryCategory")),t.prop11=s.get("event.-1.attributes.form.formType")),t.prop9=s.get("event.-1.attributes.form.stepAmounts"),t.prop16=s.get("event.-1.attributes.form.stepName"),a.update("pageName",t.prop1),t.linkTrackVars+="events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop6,prop11,prop9,prop16,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40,eVar137"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-subCategory01%",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL044c6bec44ee40b385b95212309e9cda",name:"TPT - PT - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd28a749cffa24f9b96558f1d20f7865c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL04676596320b4557982ffaf91d17fd02",name:"ACDL GROUP - ALL - ANY - DLP - 0900 - clean datalayer field missing/empty",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6563546",code:"dl.replace('datalayer field missing','');\ndl.replace('datalayer field empty','');\n"},timeout:8e3,delayNext:!0}]},{id:"RL0486af0fce9d4700b68d6e841b3ef62e",name:"TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb92eb8f12f8e40d0a40c85fd423f8f99-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL04ff2fbade684818930cf29771400d8c",name:"TPT - BE - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC791983d371014d8093d25d481ed5505e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0530033230f94971a7dcee55b79515c2",name:"TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd014886ceb1f4d688fe32f7440955afc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0559e28da0be43dd8604d653b9c1af94",name:"TPT - NZ - AEM - DoubleClick - BMW BEV Family Build and price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"bmw.co.nz/en/configurator.html|configure.bmw.co.nz/en_NZ/configure/G60E|configure.bmw.co.nz/en_NZ/configure/I20",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9c2d1d1909cc438b84e8793c9f9a98c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0586e77291a64210875e5649c1881dcd",name:"TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc4551b766d04e7bbd7d45dc8a5f779b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL059427acd8024dacac9bf1d093f56409",name:"TPT - RO - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC302d57ecfa204ab48d503a8e34ea69d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL05d207581d9149d2ab7a47e13db4254e",name:"TPT - IT - AEM - Floodlight - Make Appointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9eef60310c5c45b49993ce36de3c279b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL05e91cc40cd743d580ebe2df5f7f3b81",name:"TPT - AT - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC39eb66bb952945da8bc5536fe536d94d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL065951d0372543d8bf7f5499c0ea6889",name:"TPT - PT - AEM - DoubleClick - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC27b0ba312c014fa8ae9de6bc10bbe35f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL067c86ca6f314a1ca8e90400ee3173d1",name:"ACDL GROUP - ALL - ANY - DLP - 0022 - Event - fix references.linked",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:22}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6245729",code:'    const dealerRef = dl.get("eventInfo.reference.linkedDealers")\n    if (dealerRef && !Array.isArray(dealerRef)) {\n        dl.assign("eventInfo.reference.linkedDealers", Object.keys(dealerRef))\n    }\n\n    let profileRef = dl.get("eventInfo.reference.linkedProfile")\n    if (!profileRef || (typeof profileRef === \'object\' && Object.keys(profileRef).length === 0)) {\n        let user = dl.get("user")\n        if (user) {\n            profileRef = user.profile01 ? "profile01" : Object.keys(user)[0]\n            dl.assign("eventInfo.reference.linkedProfile", profileRef)\n        } else if (dl.get(\'eventInfo.origin.componentName\') == \'legacy aem page\' || (dl.get(`component.${dl.get(\'eventInfo.reference.linkedComponent\')}.componentInfo.componentName`) || "") == \'stageX aem page\' || dl.get(\'eventInfo.origin.isFromTron\') == true) {\n            dl.assign("user.profile01", {})\n            dl.assign("eventInfo.reference.linkedProfile", \'profile01\')\n        }\n    }\n',path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL06a024170065444cb0f5ee3a07d366f6",name:"PLR - PL - AEM - AT - Determine TargetExperience Name",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL072bb9f479af4d0ea99d0c1a07c4a43c",name:"TPT - PL - AEM - GTagDC - Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC48e2c2a952a040198aebe653e6cc2fc3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL073912bbfcce4442aeba26607ffe7be6",name:"TPT - FI - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50f547bdc1f8469faf7d3ef5e370a66e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL075d8cf7b56f4db3af163e585b2a8013",name:"TPT - TH - AEM - Floodlight - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3f52711f09b54c449b648b2e2903bc97-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL07b223680d794bf3b73d2bb32bbabd43",name:"TPT - PT - AEM - Facebook - SignIn - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"div.ds2-mybmw-content.ds2-mybmw-loggedout > div:nth-child(5)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb486ea5076f4392bfc28ff344027f4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07c19497085c4f91b97250efe7656448",name:"TPT - IE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:'a[title="Book a test drive"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3cc07348d15944d2a89f1967a0d3495e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL07db6b325c5648f0baf51ed901f57fa4",name:"TPT - CZ - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfe3c9a3492744b60808956d4a0e7ab89-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL081d8ddbff474261be3e9a429f1fc087",name:"TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%pa_cat_subCategory01%",rightOperand:"TDA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a47e926020c4b1da7f6c0bad689f47b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL08473572064f4f8ebd9cfe903cf20e9e",name:"TPT - ZA - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC533926ddef514a53907ec032b0f1f38b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL086586f340764852985f3db7db969a7e",name:"TPT - DE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa2002fd4f0c470a9371e9c4a43ad244-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL087b983209c145b2b039b7e4a885ddcb",name:"TPT - IT - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0a13fdd658b840a4af7b5d1f5a6977f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0883cda2127a4cebb888f96438d4a53d",name:"TPT - SI - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdae179132a9d49d1913d6a2244f9a798-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC913edd04fd2c49dc9876a071dc53f8e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL08acfa593de3461cba7ddf88f128c684",name:"TPT - SK - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d66a981d6654cdbb24204aceaef3be9-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL08d1ad4c3d644d11b751b8dae8180738",name:"TPT - SK - AEM - Adfrom - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC91f4d28cf8914c7fbeb434d04a75016c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL08ef77bc1c8f4b96a485c52b9019b954",name:"ACDL GROUP - ALL - ANY - DLP - 0090 - User - User Fixes",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:90}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9239160",code:"    const profileKey = dl.get('eventInfo.reference.linkedProfile')\n    const isLoggedIn = adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n        () => epaas.api.getPersistence(\"gcdmToken\") //AAAA-1981\n    ])\n\n    dl.assign(`user.${profileKey}.attributes.loggedInStatus`, (isLoggedIn ? '' : 'not ') + 'logged-in')\n\n    dl.assign(`user.${profileKey}.segment`, adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n        () => isLoggedIn && (roleObj => roleObj === null ? 'private' : `business - ${roleObj.role}`)(window.mybmw.b2b.getRole()),\n        () => ((segment => typeof segment === \"string\" ? segment : \"\"))(dl.get(`user.${profileKey}.segment`))\n    ]))\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL0908b4791b824e8aba320a144dd4ff68",name:"TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0},{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCae5529c7212448a89b843f1e4a6f58cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL092d7dcea7bd4823b7cb3f7cb030ac4c",name:"TPT - LU - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0351ec47aea94724bcc1309d24a86ba1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0944d8de27aa4157945e5b0dd4cb4f86",name:"TPT - RO - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2046d9726cb64e28b181f7a149f79996-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL09535874af544d86a2b4c9d91622388f",name:"TPT - TH - AEM - Floodlight - Link to Test Drive - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-89864b518d.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-b22b3baadd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:50}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4d82bbc62e514601b361810b184a9149-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL0953c9f19b1d4f3a8d3fc7b92b5ba70e",name:"TPT - AU - AEM - Floodlight - eBroch Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87351b8cc7e2479bbd25d7527e02ac52-source.min.js",language:"javascript",
isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL096e266d7f9440f4824253b10b80b5d6",name:"TPT - TH - AEM - Floodlight - All pages EstimatorButton- EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.ds2-sticky-sales-bar__item-wrapper > li:nth-child(1) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54fdf2f8ee9b4d65a1a99b536c2e0be6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL098c4dc4e3e143c2964d5d6765c085c0",name:"EBR - NL - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe59875e21ae449b0956a6b2950ea3d1e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL09d6405e2bd246918e32e31de210e914",name:"TPT - SG - AEM - QuantCast - Register Interest - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tpt-legacy event-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"local > form finished|nsc > local > form finished",operator:"regex"}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa68322dd17294d7a9773596ca272a98d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL09ef61475a624ae4ae403d61d7140480",name:"TPT - PT - AEM - GTagDC - BMW Prime Subscription - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"Client-src-prime-subscription-components-DynamicTable-DynamicTable__button--1_GkB",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc2f07eddbb294bf38433c61d2eadef9e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0a3141b3cc4b42a1b977a6ae483e89c0",name:"TPT - NO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e028e32023c4e7d9511b1a26c22d9ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0a3e3fcbe4804d899549a5a5510cd7bc",name:"TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b93227a67ae4061b9805dcebea2c2c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0a6d7b0375264be19a4afc02d3b00ee7",name:"TPT - MY - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa860544e36a744e2bb40edc5577381c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ad4ff17ad8a4497ba39a5ed388a8ce2",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72e2a015d04b454cb1587604fa7ccfba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b1b6d87f39f401a8a5cf4819f3f90fc",name:"TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaea6e7d5863247d78b891edc0e15ed9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b53113c9bfa40e79ec8a05830ba7ac3",name:"TPT - FR - AEM - Adform - Search Simulated Page - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC94c92a2d4c024286b594506512483077-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b6022d0e269490f8271b8ae728ca1ad",name:"TPT - UK - AEM - Adform - iFrame RFC Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i3056_rfc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf6584c3fa3bd4db68970d7c06f52cb96-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b900421fae3498cbf32e0b7ff633c74",name:"TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8cc7e358b37347f296599d9b5259ba7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0b9ea3329a9b4377855f37cdc9e2a5dc",name:"TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCade97a0da45040d48e8440094b0753da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bc58e2e2bcc4e5db9af73e2a5020e72",name:"TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary",elementProperties:[{name:"id",value:"bmw_send_form"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ssl/discover-enquire-now.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3d73f3f20418496391df18aa2271dfeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bf00c25d4304590b992d888fdecbf5a",name:"PLR - ES - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.es"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6226282ca1d45788aaa134112d922cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0bf3703cd4f8456c95082d795a0b8225",name:"TPT - SI - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf853f9f590b04c2c807071a534f1b8a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c0169419463440da334d153d877400e",name:"TPT - GR - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC85b93bcc223f43bfab98868971ab2f1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c1fb45e6a5847f69cc821c6303b1714",name:"TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC603e0f928cb94ef698a4997c5cd6df87-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c375adc477549c3b2c68be289bcc8b8",name:"TPT - TH - AEM - Line - RFO Form Interaction - event-cleansed - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_4127027",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf179f312d34442d186cb52e6c3e8526a-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Line",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL0c8e9d1393fe4d76bf27f800297a2c9f",name:"TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC85f7a18ea7484d8b83ea97287cefee91-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0c8ec2a113464dfc8a972db1e7e6902b",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_address"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8bfef0d6a45a472597d6cc30ee0810b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0cbc857b432e4192ad9ce7d1ed21977e",name:"TPT - CH - AEM - Adwords - Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa590150638be4c6489d784d0e6bc1e7c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0cbefd2c158746bd922829cc9a39e26d",name:"TPT - TH - AEM - Adform - All pages ShopOnline- EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button > span.cmp-globalnavigation__interaction-label",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe9a32fb3ef1b478e831e4507c12e8dc3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ccef5cbbcb44b6481643fca26754314",name:"TPT - TH - AEM - Facebook - Test Drive Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC28c5064696814449aa289de1a60e21bb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0ce488b8f78e4614aa0b494d409f2c9c",name:"TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc35028a1f49a4528ac8cad50d20f23f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ce8f50e644f4c9a995d2a908293e07a",name:"TPT - TH - AEM - Adwords - Link to Get Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e816fa4324.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1c5e00bc58.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-34b68eab88.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-22dc2eba79.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-a4108a1b41.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51c080e6e.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-7de27fff4a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1d54728eec.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e9ab7843c1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-5ca1a864a1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d48d976970.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2963aad3b7.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-28495b733a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-ddbab81cb0.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC183efe2c84224a7a9d74ed430bcee247-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL0d31e5b1702f4e09aeedde8cd8aa36da",name:"TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa520e72415343228955b1d29f9f3839-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d41e9be106f4f78849c1f4c74653951",name:"PLR - All - NSC - All - Custom Code - Cookie Transfer",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-cookie-transfer",(function(){e()}))}catch(e){_satellite.logger.error("PLR: Cookie consent transfer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.in"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1||"true"!=_satellite.getVar("splitConsentEnabled")}catch(e){var s={from:"AA",type:"Data Element",name:"AA-conWithoutConsentController"};_satellite.logger.error(e,s)}}},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd404c9e7e24b4a649e098e68815a3f05-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL0d488ffde3d44386ba25b7cb7c3d1db9",name:"TPT - DK - AEM - Adform - BrochureDownload-New - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){"/da/footer/k%C3%B8b/kataloger.html"==window.location.pathname&&$('a[data-event-action="clicked-download-link-btn"]').click((function(){e()}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc37e8c0efec1464e8eaf083e9f0a8446-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d59c4d53e484f9587ba5962bf7b16c2",name:"TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC767cddb506324ccd816540c4bcc16aac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe1fc5eca92f842389a1ef7935ea4809b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d8cd9ed31de4136970e1fdb540f7c57",name:"TPT - NL - AEM - DoubleClick - Used Car tool Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6caf8e6345b94b35bd4eaf05dd54b1da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0d93ca4a7c8a4eff8521b4a59568fc88",name:"TPT - BG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd5f048075ccb4bcda7d451d011eaf554-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0dc093662ba5464097553c33ba9bc521",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC45f248fba431413eabc0fb9f3670096b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ded78202f4843b8aa3b82d10ca63299",name:"TPT - PL - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC021ec2611f32431e827ac32989cd295e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0df733f124eb4e21a23feb48d471719a",name:"ACDL BMW - ALL - FORMS - DLP - 0050 - FORMS Workaround Hardcode G60E WL1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!1,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC80a6c91f3e334a05859a345942c982f4-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL0dfcb9d9f40f4d41a2297243e2bc6553",name:"TPT - TH - AEM - Floodlight - RFO Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC39b9b3532e5a496791423c5037c36619-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0dfda7dbbdf34cf1881a322da856d1f2",name:"TPT - CA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf5532e535352492f9b2bd44a7c0dd42f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e03494deb9c475d80a74e36964f07b5",name:"TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/pricelists\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa926dc989e474bdd845a3d6a275fc4b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e2aae44261249d9ab8fa733598163ce",name:"TPT - IE - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6079ba45853b444ab10f04f719767e9a-source.min.js",language:"javascript",
isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e7864b098c4405f8a30500524223096",name:"TPT - TH - AEM - TikTok - RFO ButtonClick - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a#button-72651b9519",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC74a233a093e34ae09cb9aff1e147f369-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0e7bb878838e4aa59510554e6d841eec",name:"TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8274dd89e7f74aa6b68f2df2c5c04f58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e8a27cf311c478a8a974a08d316a054",name:"TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4ff29899d7754a07bc114ef21b3fcd62-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e8c99f95fbd465981330323bc314cd8",name:"TPT - AT - AEM - Facebook - Success Page - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbbe075744dff4251a75a35dff5bc1ccf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0e9f307f5b4f493c97b9ef06da564898",name:"TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb4a2916f06e42aaaeead219ddcd3068-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ef35e40a9e64a3e8b669e66aba7ad6e",name:"DCR - All - AA - TRON - Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tron_event"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.destinationURL",window.location.href),o=_satellite.getVar("smartPreviousValueManager"),n=new Date,i=n.getHours()<=9?"0"+n.getHours():n.getHours(),r=n.getMinutes()<=9?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<=9?"0"+n.getSeconds():n.getSeconds(),d=n.getUTCHours()<=9?"0"+n.getUTCHours():n.getUTCHours(),l=n.getUTCMinutes()<=9?"0"+n.getUTCMinutes():n.getUTCMinutes(),u=n.getUTCSeconds()<=9?"0"+n.getUTCSeconds():n.getUTCSeconds(),b=_satellite.getVar("searchDefaultProduct");if(t.referrer=s.get("page.pageInfo.referringURL"),t.pageType="error"==s.get("page.category.pageType")?"errorPage":s.get("page.category.pageType"),t.pageName=s.get("page.pageInfo.pageName"),t.prop1=s.get("page.pageInfo.pageName"),t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory1"),t.prop5=s.get("page.category.subCategory2"),t.prop13=s.get("page.attributes.brand"),t.prop27=s.get("page.pageInfo.pageID"),t.prop28=s.get("page.pageInfo.variant"),t.prop29=s.get("page.pageInfo.version"),t.prop30=s.get("page.category.subCategory3"),t.prop46=s.get("component.attributes.componentDevAgency",s.get("component.-1.attributes.componentDevAgency",s.get("page.pageInfo.author"))),t.eVar7=s.get("page.pageInfo.language"),t.eVar8=s.get("page.pageInfo.geoRegion"),t.eVar18=s.get("page.pageInfo.pageTitle",document.title),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop19=s.get("component.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop41=s.get("component.category.componentType",s.get("component.-1.category.componentType")),t.prop42=s.get("component.category.primaryCategory",s.get("component.-1.category.primaryCategory")),t.prop43=s.get("component.category.subCategory1",s.get("component.-1.category.subCategory1")),t.prop44=s.get("component.componentInfo.componentID",s.get("component.-1.componentInfo.componentID")),t.prop45=s.get("component.attributes.componentVersion",s.get("component.-1.attributes.componentVersion")),t.eVar134=s.get("component.attributes.touchpoint",s.get("component.-1.attributes.touchpoint")),t.prop51=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.prop52=s.get("event.eventInfo.cause",s.get("event.-1.eventInfo.cause")),t.prop53=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.prop54=s.get("event.category.primaryCategory",s.get("event.-1.category.primaryCategory")),t.prop55=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1")),t.prop56=s.get("event.eventInfo.eventName",s.get("event.-1.eventInfo.eventName")),t.prop57=s.get("event.eventInfo.eventAction",s.get("event.-1.eventInfo.eventAction")),t.eVar9=s.get("event.attributes.iframeURL",s.get("event.-1.attributes.iframeURL")),t.eVar34=s.get("event.eventInfo.effect",s.get("event.-1.eventInfo.effect")),t.eVar71=s.get("event.eventInfo.attributes.requestedURL",s.get("event.-1.eventInfo.attributes.requestedURL")),t.eVar35=s.get("dealer.dealerInfo.dealerOutletBuno",s.get("dealer.-1.dealerInfo.dealerOutletBuno")),t.eVar39=s.get("dealer.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerOutletName")),t.eVar40=s.get("dealer.dealerInfo.dealerOutletID",s.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar41=s.get("dealer.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroupName")),t.eVar42=s.get("dealer.dealerInfo.dealerGroupID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar43=s.get("dealer.attributes.selectionState",s.get("dealer.-1.attributes.selectionState")),t.prop40=s.get("user.profile.attributes.loggedInStatus",s.get("user.-1.profile.-1.attributes.loggedInStatus")),t.eVar15=s.get("user.profile.profileInfo.type",s.get("user.-1.profile.-1.profileInfo.type")),t.eVar16="object"==typeof s.get("user.segment",s.get("user.-1.segment"))?"datalayer field empty":s.get("user.segment",s.get("user.-1.segment")),"object"==typeof t.eVar16&&(t.eVar16="datalayer field empty"),t.eVar17=s.get("user.profile.profileInfo.profileID",s.get("user.-1.profile.-1.profileInfo.profileID")),t.eVar19=s.get("user.profile.address.stateProvince",s.get("user.-1.profile.-1.address.stateProvince")),t.eVar20=s.get("user.profile.address.country",s.get("user.-1.profile.-1.address.country")),t.eVar21=s.get("user.profile.profileInfo.language",s.get("user.-1.profile.-1.profileInfo.language")),t.eVar136=s.get("version"),t.eVar120=s.get("cart.cartID"),t.eVar122=s.get("cart.price.currency")||s.get("transaction.total.currency"),t.eVar123=s.get("transaction.attributes.paymentMethod"),t.eVar125=s.get("transaction.transactionID"),t.server=location.host,t.prop14=d+":"+l+":"+u,t.prop15=i+":"+r+":"+c,t.prop31=o.get("pagePrimaryCategory"),t.prop32=o.get("pageSubCategory01"),t.prop33=o.get("pageName"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=a,a.length>255&&(t.eVar5=a.substring(255,a.length)),t.eVar6=document.referrer.split("/")[2],t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=o.get("url"),t.eVar28=o.get("componentSubcategory1"),t.eVar29=o.get("pathName"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar132=window.navigator.userAgent,t.eVar137="AEM6",t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),o.update("pageSubCategory01",t.prop4),o.update("pagePrimaryCategory",t.prop19),o.update("url",t.eVar4),o.update("jcrPath",window.location.pathname),o.update("pathName",t.eVar12),o.update("pageName",t.prop1),o.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var m=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(m),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var f=s.get("event.eventInfo.eventPoints",s.get("event.-1.eventInfo.eventPoints","0"));if(t.events=t.apl(t.events,"event970="+f),s.get("event.eventInfo.eventName",s.get("event.-1.eventInfo.eventName")).indexOf("form")>-1){t.prop6=s.get("page.category.primaryCategory"),t.prop7=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1"));var p=s.get("event.eventInfo.effect",s.get("event.-1.eventInfo.effect"));p.indexOf(">")>-1?t.prop8=p.split(">")[1].trim():t.prop8=p,t.prop9=s.get("event.attributes.form.stepAmounts",s.get("event.-1.attributes.form.stepAmounts")),t.prop10=s.get("event.attributes.form.formVariant",s.get("event.-1.attributes.form.formVariant")),t.prop11=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.prop16=s.get("event.attributes.form.stepName",s.get("event.-1.attributes.form.stepName")),t.prop17=s.get("event.attributes.form.rfxID",s.get("event.-1.attributes.form.rfxID")),t.prop18=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",",")}var g=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type"));"video"!=g&&"audio"!=g||(t.prop36=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1")),t.prop36=t.prop36.indexOf("%")>-1?t.prop36.slice(0,-1).split("_").slice(0,-1).join("_"):t.prop36,t.prop37=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.prop38=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",","));var v=s.get("event.attributes.search.unit",s.get("event.-1.attributes.search.unit")),h=s.get("event.attributes.search.state",s.get("event.-1.attributes.search.state")),P=s.get("event.attributes.search.label",s.get("event.-1.attributes.search.label")),y=s.get("event.attributes.search.term",s.get("event.-1.attributes.search.term"));"datalayer field missing"!=y&&"datalayer field empty"!=y&&(t.products+=",search;search;;;;"+b+"eVar30="+v+"|eVar31="+h+"|eVar32="+P+"|eVar33="+y),_satellite.getVar("setTronProductString")(t),_satellite.getVar("setTronEvent"),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","),t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events",",")}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"tron event",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL0f3e5cb0c0f549cba5ddddb60272539d",name:"TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcfa571b0100048aa9b4d32aa4bb62de6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f579a1644d2463f9ae3ece75387a035",name:"TPT - HU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb314121375af42e1b1707fd00e932a5c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f6064422a5f475c8e6c58b70769ef8d",name:"TPT - AU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCebbf405b12df44219c7a28884ca06271-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f78b67e3a7142f2b13afa80c5582a91",name:"TPT - NL - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1589380559d945fb92d2982cd6a895b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f82a1bd56ed480fbbe208e4ddb28143",name:"TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.alphabet.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe4f62804af7e4870960f6a433aa52a16-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f96cfbb30024459b30037945034dc5a",name:"TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"BMW bruktbils\xf8k",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCec7e6d7783914e20998ffff7963b73b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0f9aaf8a9d36412184695c7c1971e9b0",name:"TPT - TH - AEM - TikTok - All Models TDAButton - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.ds2-sticky-sales-bar__item-wrapper > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3621cfe446434c949d9fb40841f81d72-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0fc5a3a542f843b38975b046caa377aa",name:"ACDL GROUP - ALL - AEM - ADPT - Local Form Converter",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_7958205",code:"    const convertEventHandler = function(trackingDefaults, eventObj, inx) {\n        const acdl = window.adobeDataLayer;\n        if (trackingDefaults) {\n            var iframepg = new adobeDataLayer.Som(trackingDefaults)\n            iframepg.assign('component.0.attributes.platform', 'local')\n            iframepg.assign('component.0.category.primaryCategory','nsc website')\n            if(!iframepg.get('page.pageInfo.pageName')){\n                const lP = adobeDataLayer.util.getLegacyTrackingPage() || {};\n                let pageName = adobeDataLayer.util.getFirstFunctionWithValue([\n                    () => lP.page.pageInfo.pageName\n                ])\n                iframepg.assign('page.pageInfo.pageName', pageName)\n            }\n\n            if(iframepg.get('event.0.eventInfo.eventName') === 'form'){\n                iframepg.assign('event.0.attributes.form.formVariant', iframepg.get('event.0.attributes.form.formVariant',iframepg.get('page.category.subCategory2')))\n                iframepg.assign('event.0.attributes.stepAmounts', iframepg.get('event.0.attributes.stepAmounts',iframepg.get('page.category.subCategory1')))\n                iframepg.assign('event.0.attributes.stepName', iframepg.get('event.0.attributes.stepName',iframepg.get('page.pageInfo.pageName')))\n            }\n\n            iframepg.replace('datalayer field empty', undefined)\n            var pg = Object.assign({}, iframepg.data)\n            if (pg && pg.event) {\n                eventObj = new window.adobeDataLayer.Som(pg.event[pg.event.length - 1])\n                if (eventObj) {\n                    const eventInfo = Object.assign({}, eventObj.get(), eventObj.get('eventInfo'), { eventInfo: undefined })\n                    eventInfo.reference = {\n                        linkedComponent: adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n                            () => pg.component.length == 1 && pg.component[0].componentInfo.componentID.replace(/\\./g, ' > '),\n                        ]),\n                        linkedProducts: [adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n                            () => (pg.product.length == 1 && (pg.product[0].productInfo.productID || pg.product[0].attributes.modelCode || pg.product[0].attributes.mmdr || 'product01'))\n                        ])],\n\n                        linkedDealers: adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n                            () => {\n                                let dealers = eventObj.get('attributes.linkedDealer').map(it => it.dealerInfo.dealerID).filter(it => it)\n                                return dealers.length > 0 ? dealers : undefined\n                            },\n                            () => pg.dealer.length && [pg.dealer[0].dealerInfo.dealerID || pg.dealer[0].dealerInfo.dealerOutletBuno || \"0\"]\n                        ]),\n\n                        linkedProfile: [adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n                            () => pg.user[0].profile[0].profileInfo.profileID === \"na\" ? \"\" : pg.user[0].profile[0].profileInfo.profileID,\n                            () => \"profile01\"\n                        ])],\n                    }\n                    eventInfo.origin = eventInfo.origin || {}\n                    eventInfo.origin.rule = _satellite.property.name + '|' + event.$rule.name\n                    eventInfo.origin.isFromIframe = true\n                    eventInfo.eventTrigger = \"launch event\"\n                    eventInfo.eventName = (!eventInfo.eventName) ? \"page view\" : eventInfo.eventName\n                    eventInfo.eventAction = (!eventInfo.eventAction) ? \"page load\" : eventInfo.eventAction\n                    eventInfo.origEvent = eventObj\n                    eventInfo.version = (pg.version && pg.version.toLowerCase().replace(/_2.0_20/,'_v2.0.')) || '3ct_lft_v2.0.0'\n                    \n                    try {\n                        console.log(\"ACDL: pushing converted event including page and component \", component[eventInfo.reference.linkedComponent[0].componentInfo].componentInfo.componentName);\n                    } catch (e) {}\n\n                    window.adobeDataLayer.push({\n                        \"event\": \"launch event\",\n                        eventInfo,\n                        page: pg.page,\n                        product: pg.product && Object.fromEntries(pg.product.map(it => [(it.productInfo.productID || it.attributes.modelCode || it.attributes.mmdr || 'product01'), it])),\n                        component : Object.fromEntries(pg.component.filter(it => it.componentInfo !== undefined).map(it => [it.componentInfo.componentID.replace(/\\./g, ' > '), it])),\n                        dealer: pg.dealer && Object.fromEntries(pg.dealer.filter(it => it && it.dealerInfo).map(it => [it.dealerInfo.dealerOutletBuno, it]))\n                    })\n                }\n            }\n        }\n    }\n\n    window.addEventListener(\"message\", (function(ev) { // postMessage handler for LFT2.0\n        if (typeof ev.data === \"string\" && (\n                ev.data.startsWith && ev.data.startsWith('{\"methodName\":\"tracking-localform') ||\n                !ev.data.startsWith && ev.data.indexOf('tracking-localform') >= 0\n            )) {\n            let iframeDL = JSON.parse(ev.data).args[1];\n            if (Object.keys(iframeDL)) {\n                convertEventHandler({\n                    event: iframeDL.event,\n                    component: iframeDL.component,\n                    product: iframeDL.product,\n                    page: iframeDL.page,\n                    dealer: iframeDL.dealer,\n                    user: iframeDL.user,\n                    version: iframeDL.version\n                })\n            }\n        }\n    }).bind(this))\n\n    window.CEDDLeventHandlers = window.CEDDLeventHandlers || {}\n    window.CEDDLeventHandlers[\"local_form_dispatch_event\"] = convertEventHandler;\n\n    window.addEventListener(\"message\", (function(ev) { // postMessage handler for LFT3.0\n        if (typeof ev.data === \"string\" && ( //startsWith should be faster if available\n                ev.data.startsWith && ev.data.startsWith('{\"methodName\":\"TRON: postMessage') ||\n                !ev.data.startsWith && ev.data.indexOf('\"TRON: postMessage\"') >= 0\n            )) {\n            let iframeDL = JSON.parse(ev.data).detail;\n            let combinedObject = {}\n            iframeDL.forEach(obj => {\n                Object.keys(obj).forEach(key => {\n                    if (!combinedObject[key]) {\n                        combinedObject[key] = obj[key];\n                    } else {\n                        combinedObject[key] = { ...combinedObject[key], ...obj[key] };\n                    }\n                });\n            });\n\n            if (typeof combinedObject === 'object' && Object.keys(combinedObject).length > 0) {\n                adobeDataLayer.push(combinedObject)\n            }\n        }\n    }))\n\n",path:"converter/localform",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL0fde303c91654d72a9a2acb2cf158005",name:"TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6f2a66c024034aaf970e7a74b7bf9f0a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0fe079df26ab4e4d9ffdfebce4041e51",name:"TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb43deb1e194b49119c7756e28b53c2a1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ff2631a28b34cf2825dd1cb53f906a5",name:"TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfa3350192cf74fd2a030d81f89243ac1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL0ff30842066c43e1bd716be634a72ed4",name:"TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event",elementProperties:[{name:"href",value:"tel.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/footer/metanavigation/contact.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5694a71cfbea4263ac1371efda8a1760-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10120be8d0304fff85df5b9ccf88d1fd",name:"TPT - CA - AEM - province-selection - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7b3ef49bb05243f4b97f6390bab4cad4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL103692d10d4f444896f1711a456f9ed2",name:"TPT - CH - AEM - Facebook - Senden Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Senden"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f941880149b47d6a1d4a468471538f5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL105c885595784b9fb3a031a92dd22e8c",name:"TPT - UK - AEM - Adwords - Iframe Forms TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6c9c807c6d7b4aa082d8c4f1bf86d929-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10717250dcc540de8664845033aeb546",name:"TPT - PL - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1d1761a4c6384930b033120fde285767-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10907102c41941bb9290f70ce53c2440",name:"TPT - MY - AEM - Involve Asia - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/footer/metanavigation/test-drive-request-confirmation.html|/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html|/all-models/3-series/sedan-long-wheelbase/2021/test-drive-confirmation.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5b1c5eca1dee40178b1d3f88d712de3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6faf4e37cca24d77b18e4ba88d9b0a12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC437cdc0eb893404bbd3aff0bc8ba2ccb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL109de3baa0d741f8ac58c80663884167",name:"PLR - BE - All Models - Custom Script - Visitor Reco Target ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC03ed02f1efad41d8a22ac4713a5ab29b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10a19010990e472fb801eb3bedd2e837",name:"TPT - ZA - AEM - Adform - Models Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf1984b0a13284a80a2efce6e728e6fd9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL10e416ea7feb4484b1eb8fa1d4efc710",name:"TPT - SE - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf5f63776b6e74cd886af549141a378cd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL10f6bec50a6b4803b95b14a6a84433f9",name:"ACDL GROUP - ALL - AEM - PLR - 0050 - AEM Workaround WL 2 (Navi)",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{code:function(){return adobeDataLayer.eventPromises.onWait(100,40,[(e,t)=>document.getElementsByClassName("ds2-navigation").length?t:0,e=>document.getElementsByClassName("globalnavigation").length&&window.adobeDataLayer&&adobeDataLayer.getState?e:0])},eventRegex:"",withConsent:"AdobeAnalytics",afterPageView:!1,afterNoPageView:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdbf888defa2b42108007115488718249-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL110783786db24ccc897453512af09c7e",name:"TPT - NL - AEM - Adwords - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ce86485d71442d591dfea9ef636e0ed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL114f459c7a4d474896d634cdf6c1f71f",name:"TPT - UK - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfabc3c450ef04d93b38d7503e5c36282-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL117b1a183786430f939c2fb507497c7a",name:"TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3459dcebddaf40ee9bc5c86a30d05fbe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL118500522dc1418ea19afcc4e1363418",name:"TPT - BE - AEM - Adwords - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ac2d6d8c941477bbf19ded7a0b92b35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL11cf03abeae54212b154383137771b0d",name:"TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3550f109f79a469cad9b342ee5a657d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL11d914e0053b442dbbc3fab0a4dc64d5",name:"ACDL GROUP - IT - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7846028997b744dd885f7571b6770815-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1201fd8b89324d6e89ce6cb933031fb3",name:"TPT - RU - AEM - Netrox - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe96f05dc8e9b43ab86d60f91745a3db6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL124a49344d244fb183980200c67f9d18",name:"TPT - CH - AEM - Adform - Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4461579b00e3483b9a41db6358d7f8c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL128c86b78dbc4735a817f5543091d072",name:"TPT - AT - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7e81b8f31f464de387cf5aa8a709f00b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL12aed60f5cf04a53a55efef507491fb8",name:"TPT - AT - AEM - Facebook - Brochure Download FS Welcome - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"li:nth-child(3) a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/services-angebote/finanzierung-versicherung/uebersicht.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9097e18f398449ec91cfafcf0c3fdf6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL132d51666ddf46b0aa21318b174bc0b9",name:"TPT - NZ - AEM - DoubleClick - DemoEvent Find a dealer - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.hide-for-large-up:nth-child(5) > ul:nth-child(1) > li:nth-child(2) > a:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC882087f9cf3c47a69dd4fa6b7f824f86-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL135964693c1c40d598cfbe5f4d8e2db3",name:"TPT - NO - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc74ad932df00489fad6d395f54dfc9d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL136feaff4b1642beb4060b143231b9e3",name:"TPT - NL - AEM - Adwords - RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC153e44e2d13842a480f73a3d9a300f25-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL1388b29645c2485aaecda1816d0ead3f",name:"TPT - FR - FORMS - CS Virtual pageviews step Tag - Adobe Forms - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC83bd883823ba4a12a96b498b48c50df9-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL13aea582f5664d26bb0407379c00498f",name:"TPT - NZ - AEM - DoubleClick - BMW BEV Family Find a dealer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"modules.bmw.co.nz/dealerlocator",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d8f28a023f34c308c0a7140e2a1cf0d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL13bd846a51854971aae97b1587a7144e",name:"TPT - PL - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdaaaa642a4a44f74bc0c695a18e460d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC136f82baeb6747b490f8b3e141c503c6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL13bf125475fa4ddc89e2d942e38d3586",name:"TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3ebbe573b58342dba8a7268514a67186-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL13c283c2052b4b73b16fcbe79d8f9193",name:"TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href^="https://discover.bmw.ie/bmwoffers/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC417fc1788c2444b7969ef8f6cb021f38-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL141133f765934ed9b8e8fa28b69a4034",name:"TPT - NO - AEM - Adform - SiteSearch - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC59f63b7588774cf984e21c261d99bb81-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14113643140f41c6bb7752cda7fb86e5",name:"TPT - MY - AEM - Korex - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16992602b47a412cb9d9f3c671fca8cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL141ffcceb60f4d83ad62899c80b5da3e",name:"TPT - ID - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9e77e1f05de24c2c9074abc5e244b4d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL147c49fae8f648c2b7e505df38dc1fb8",name:"TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc1bba3042e4d478491562e74d1cce171-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL147ca53578ac498faa4b744da7f9b084",name:"TPT - AU - AEM - Floodlight - Apple AppStore Link - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://apps.apple.com/au/app/bmw-one/id1491176813"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab29c97ab0a542e7b8c720885fc54f7f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL14c72a9afded42e5bea81fbced52f0f1",name:"TPT - PL - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/forms/rfid/rfid.html']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe24d8edc67bc47529540d8e52c72e034-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL14d64324a2ac41cf830d186f11a1fc8e",name:"TPT - SI - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC94f0249a1fd5483e92a37234cfd46f60-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL14fabd86184e4bf391d3df5fa6fc694a",name:"TPT - SG - AEM - Adform - Multiple - Save configurator - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/configurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCff662c162c1645429542f9fd8eaafd99-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL156d7ee66e37492b815dcca046e94da7",name:"ACDL GROUP - SI - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc603c692a8d141c7a91bb5f54830a282-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL15c4f6a06c0549f1b754049eb9e469a8",name:"TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCad2a55d346f94f5dac0b650d21b36142-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL15c7e66241114367a5c1b8e4f605de6a",name:"TPT - CH - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b08200789ba444aab5d147e73a53ee4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL15c8048684f3435caf5c380fafc41904",name:"TPT - LU - AEM - Facebook - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC70e895b9022349998f02a5b3bcd2897c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL160789dcdc304240b09d2c9e3a592bbb",name:"TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ac3096e0baa4a3b876b4acdbe6e3a8c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL160d47b173c7493ea86ec02cd436e6c1",name:"TPT - PT - AEM - Facebook  - Local Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfb1ac784f8e94752b18c773f4c1c8028-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL163f5d2576d94ec7baeadce700772fc1",name:"PLR - LU - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC856cc1061bf34c9d91ef156f96fb2b7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1642043650624eed990678d9246862c1",name:"TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC43fe9ab30544462b878a3f1731dae628-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL16bc2d44aacb4741a0f9dfc8a1fc4108",name:"TPT - TH - AEM - TikTok - All pages ShopOnline- EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.cmp-globalnavigation__list > li:nth-child(4) > button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc76085abdb274602974e6730ec94d2bd-source.min.js",
language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL16c221f23586486ab321310f2812596b",name:"TPT - ES - AEM - GTagDC - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7ce32f898bea462e9f0d2305bd00ad50-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL173516d6009f488082aba2631942c0fe",name:"TPT - PT - AEM - Adwords - Stock Locator Checkout - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4bb055fd74cd4590a773457a29bcf340-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL178594ccb19d486dbc1e3bff25b71d2a",name:"TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_payment"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1d213739c04e4678af8a2f78c6a6d9b2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL17c7543a83b34a03a336d069899a75bd",name:"TPT - TH - AEM - Floodlight - Test Drive Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7e57e79a4903442e88c608b088bd68e9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL18325dff7eb5479bbb53b9b949feb3f2",name:"TPT - FI - AEM - DoubleClick - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb4ed06657e90464290b8c11781efff12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL183fab8361e5444da1b006ca1a974dd0",name:"TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautot",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4 Laakkosen sivuilta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e1dd9a4937e49059a67febbd5fbc1b7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18789f8dc618432b9d07243f039a3980",name:"TPT - DE - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC67b2d637c3b84b41b296e677e0c58b4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL187ed8fa5b56468aaba7d619a1717859",name:"TPT - IT - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC51185d7b13894fa8b9ca0b66f8f9fe8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL188e260d3bb54a88b819791f571cc703",name:"TPT - TH - AEM - TikTok - Link to Test Drive - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1b75430554.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-395773fc2c.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ca3466dcf934575ac447019dfd4ac12-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL18bc2f45181d434184ea42b1dfe65051",name:"TPT - BE - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC27120351a0484751aa89627b84177969-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL18c4669e12004e29accf37651f70207d",name:"TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC083d25639aec4fa4a383ec8b090b4c83-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL195313efb58f499a841b5de8aba2ad9e",name:"TPT - IT - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b56895e410548ac866f69722db96a70-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19838f861c524c1c8126434d1a9e298a",name:"TPT - RO - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb3bb62e176c84dae806b73722d9d2281-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL199c6629ebc1404187030e51fcaabeef",name:"TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".pagelink.basecomponent.ds2-linklist--item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4b0ab60ec50b4a26a4b0d229f89ce594-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19b2bb8c8e7f4cb2b2656ae641ac9b69",name:"TPT - KR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3694f0101dff4b5e9fa4037fdafe9642-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19fb4725f55a43e19bea1f21c3b477e6",name:"TPT - CY - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.cy",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf65de7510e4946f0bd71cb273d4f3d46-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL19fb6f003277438f8b6fa9c1d5298bb3",name:"TPT - GR - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC482881f05a35400d99ac916c806972db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1a7254b2f465443bb496b73f2c47fabd",name:"TPT - GR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC353fc505ba3541f2ba16bd45a0d20d97-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1a9b1b28e2da4a40b4673cd51cb1d59c",name:"ACDL GROUP - SK - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16014d7795034b6fac37c3bfac057ce3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1aa13f4d5ba94f348aa6e47dd7ca6552",name:"TPT - PT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3e5f17e103d74107af464d28fc2e3ca9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1abd773b43724adf9f60f45f9fbb8fa2",name:"TPT - NO - AEM - Floodlight - RFO Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/kontakt/pristilbud.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"local > form finished"==e.detail.snapshotDL.snapshot.event[0].eventInfo.effect}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd9a6a213ee884df7a712a5f6816f85a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1acc33489b9243e8974b3d8f3efffac8",name:"TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC13f9e65f8226480e96698269080a7fff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6432e1f581c45d89930463e5ad53e9c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b1dcb53dfbf42778a75dd45228ebf28",name:"TPT - FR - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3d963d8135094d6cbac1558174798953-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b2489c663ea4cdcac7b890c2c485991",name:"TPT - IT - AEM - Adform - SignIn - SingUp - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC456b6e0b695d4686b2394985e82d0ed8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b5fa88a39ce42cf977e1f4fd7bb983c",name:"TPT - LU - AEM - GTagDC - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbd68248bc75d46968b9842fdff3f4225-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b6888afe684401da261ff657db74ad6",name:"TPT - ID - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c1617fc00194c62bc12c8e9dab6e5b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b7c670882ab454a8b37b7361c09cbb2",name:"TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbda662b74c664a8a8f796e912f7d7df8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1b85aaf99786491cb61a0fe969429674",name:"TPT - TH - AEM - Line - Test Drive Form Submit Button - EN - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10e2dd3da622414bb20a6804ce2a1261-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1bb2b886ca9047ae9e53f3553aa164a2",name:"TPT - SG - AEM - QuantCast - Multiple Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7048ac1916aa4083968197685e3dae73-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1bb3297759d14399b84c9f7062dfaae0",name:"PLR - IT - hashedemailid - AAM",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#email",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid"))return!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf67233a1fad24f538805a5733b0b7ca8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1bca4b6addbc44558f6cddb03c940ef0",name:"TPT - PT - AEM - GtagAW - FormSubmit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4bc557ae1d3d4376a4d74bbb6f943181-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1bcf25d9f83e4267b79d8feeed59f0e8",name:"TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7e8e851f3f6c44de80d51d08fbb2c5bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1a4301e324704bc7883da76713a6139a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1bde36a28d4a4668b8ef6fe99173955d",name:"TPT - JP - AEM - YDN - RFO Success Page - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC663408c1e05a4022a2390fea04c8f6bd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1bef9ea06a1745e5a490bf1e87a8220c",name:"DCR - All - AEM - AA - Central Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error"},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Cat\xe1logo Lifestyle"],a[title="Ver colecci\xf3n"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/Content/RoadAhead/BMWFS0190_Lessee_Privacy_Engsml_May-2021.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.category.subCategory01"),o=s.get("page.category.subCategory02"),n=s.get("page.category.subCategory03"),i=s.get("page.pageInfo.pageName"),r=s.get("event.-1.eventInfo.eventName"),c=s.get("event.-1.eventInfo.eventAction"),d=s.get("page.attributes.accessoryID"),l=s.get("product.-1.productInfo.productID"),u=s.get("transaction.transactionID"),b=s.get("page.attributes.accessoryName","generic"),m=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName");if("small_teaser"==m||"multicontent"==m||"new_pre_configuration"==m||"offers"==m||"line_component"==m||"new_gallery"==m||"highlight"==m||"uxs-highlight"==m)return void(t.abort="true");function f(){t.prop1="nsc > "+i,t.prop42="nsc website",t.prop43="forms",t.prop19="central form",t.prop56="form",t.prop6="central form",t.eVar41=s.get("page.attributes.dealerName"),t.eVar42=s.get("page.attributes.dealerID"),t.eVar39=s.get("page.attributes.outletName"),t.eVar40=s.get("page.attributes.outletID"),t.eVar20=s.get("user.-1.segment.userSelectedCountry"),t.eVar23=s.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=s.get("user.-1.segment.userSelectedGender"),t.eVar25=s.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=s.get("user.-1.segment.userSelectedCurrentVehicle"),"Form Start"==i?(t.eVar34="nsc > form started",t.prop8="form started"):"Form Success"==i?(t.eVar34="nsc > form finished",t.prop8="form finished"):(t.eVar34=-1!=i.indexOf("nsc >")?i:"nsc > "+i,t.prop8=i),t.prop53="central form",t.prop11=t.prop54=a.toUpperCase(),t.prop10="dedicated forms",t.prop16=i,t.prop17=u}t.events="",_satellite.getVar("setDefaultVariables",e)(t);var p=s.get("product.-1.attributes.mmdr");function g(){var e=_satellite.getVar("setDefaultProductVariables").merchEvars;return window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1?e.eVar53="new car":e.eVar53=s.get("product.-1.category.primaryCategory"),e.eVar52=s.get("product.-1.productInfo.productName"),e.eVar60=s.get("product.-1.productInfo.manufacturer"),e.eVar10=p,e.eVar51=s.get("product.-1.attributes.bodyType"),e.eVar50=s.get("product.-1.attributes.serie"),e}function v(e){switch(e){case"Form Start":var o={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98",Registration:"event93,event94,event3,event4"};t.events=t.apl(t.events,o[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,o[a]);break;case"Form Step":t.prop9=s.get("event.-1.attributes.form.stepAmounts",s.get("page.category.subCategory1")),t.prop16=s.get("event.-1.attributes.form.stepName",s.get("page.pageInfo.pageName")),t.events=t.apl(t.events,"event7,event8"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8");break;case"Form Success":var n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100",Registration:"event95,event96,event15,event16"};t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a]);break;default:"Request"!=s.get("page.category.primaryCategory")&&"Requests"!=s.get("page.category.primaryCategory")||"start page"!=s.get("page.category.pageType")||"Error"==s.get("event.-1.eventInfo.eventAction")?"Request"!=s.get("page.category.primaryCategory")&&"Requests"!=s.get("page.category.primaryCategory")||"end page"!=s.get("page.category.pageType")||(n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"},t.prop8="form finished",t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a])):(o={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"},t.prop8="form started",t.events=t.apl(t.events,o[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,o[a]))}}if("Form validation error"==r||"Error fallback page is shown"==r||"Back"==r||"Error fallback page"==i){if(f(),t.prop56="error",t.prop52=s.get("event.-1.eventInfo.cause"),t.eVar34=-1!=r.indexOf("nsc >")?r:"nsc > "+r,t.prop53="",t.prop8="",t.prop6="",t.prop11="",t.prop10="",t.prop16="","adobe form"!=s.get("event.-1.category.primaryCategory")&&"local form"!=s.get("event.-1.category.primaryCategory")&&"custom central form"!=s.get("event.-1.category.primaryCategory")&&"custom local form"!=s.get("event.-1.category.primaryCategory")||(t.prop6=s.get("event.-1.category.primaryCategory")),t.prop11=s.get("event.-1.attributes.form.formType"),t.events=t.apl(t.events,"event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931"),"datalayer field missing"!=l){(x=_satellite.getVar("setDefaultProductVariables")).id=l,x.category="vehicle";var h=g();x.merchEvars=h,t.products=x.toString()}"Error fallback page"==i?t.prop56=t.eVar34="":"Back"==r&&(t.prop56="interaction",t.prop53="ux")}else switch(a){case"Registration":case"CR":case"RFO":case"TDA":case"RFC":f(),"datalayer field missing"!=l&&((x=_satellite.getVar("setDefaultProductVariables")).id=l,x.category="service",(h=g()).eVar84=s.get("product.-1.attributes.fin.downPayment"),h.eVar85=s.get("product.-1.attributes.fin.mileage"),h.eVar86=s.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=s.get("product.-1.attributes.fin.term"),x.merchEvars=h,t.products=x.toString()),t.prop7="generic",v(i);break;case"RFS":f(),"datalayer field missing"!=l&&((x=_satellite.getVar("setDefaultProductVariables")).id=l,x.category="service",
(h=g()).eVar84=s.get("product.-1.attributes.fin.downPayment"),h.eVar85=s.get("product.-1.attributes.fin.mileage"),h.eVar86=s.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=s.get("product.-1.attributes.fin.term"),x.merchEvars=h,t.products=x.toString()),t.prop7=o+">"+n=="datalayer field missing>datalayer field missing"?"generic":o+">"+n,v(i);break;case"RFA":f(),"datalayer field missing"!=d&&((x=_satellite.getVar("setDefaultProductVariables")).id=d,x.category="after sales",h=g(),x.merchEvars=h,t.products=x.toString()),t.prop7=b,v(i);break;case"RFI":f(),"datalayer field missing"!=l&&((x=_satellite.getVar("setDefaultProductVariables")).id=l,x.category="vehicle",h=g(),x.merchEvars=h,t.products=x.toString()),t.prop7="generic",v(i),"Download your brochure"!=r&&"Download"!=c||(t.prop56="interaction",t.eVar34=-1!=r.indexOf("nsc >")?r:"nsc > "+r,t.prop53="ux",t.prop6="",t.prop11="",t.prop10="",t.prop8="",t.prop16="",t.prop7="",t.events=t.events.replace("event15,event16,event47,event48,event55,event56",""),t.events=t.apl(t.events,"event903"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903"),t.prop74="bmw .next - nsc|DCR - All - AEM - AA - Download")}"cr"!=t.prop4&&"CR"!=t.prop4||(t.prop4="campaign"),"cr"!=t.prop11&&"CR"!=t.prop11||(t.prop11="campaign",t.prop54="campaign");try{var P=document.getElementById("formrfo").getAttribute("gcdm-lead-context");if(-1!=P.indexOf("PREDOC-G26-BEVE-E")||-1!=P.indexOf("predoc-g26-beve-e")){t.prop11="roi",t.prop7=P;var y=s.get("product.-1.attributes.motorization",s.get("product.-1.attributes.engine"));if(y){var j=/[0-9]{3}[a-z]{1}/i,C=/xdrive[0-9]{2}[a-z]{1}/i,w=/sdrive[0-9]{2}[a-z]{1}/i,R=y.match(j)||y.match(C)||y.match(w);y.indexOf("i3 (120 ah)")>-1||y.indexOf("i3 (120ah)")>-1||y.indexOf("i3 120ah")>-1?y="i3 (120 ah)":y.indexOf("i3s (120 ah)")>-1||y.indexOf("i3s (120ah)")>-1||y.indexOf("i3s 120ah")>-1?y="i3s (120 ah)":R&&R.length&&(y=R[0].toUpperCase())}(x=_satellite.getVar("setDefaultProductVariables")).id="g26",x.category="vehicle",x.merchEvars.eVar10="G26",x.merchEvars.eVar56="e",x.merchEvars.eVar57="beve",x.merchEvars.eVar44=s.get("product.-1.attributes.productionYear"),x.merchEvars.eVar45=s.get("product.-1.attributes.yearOfRegistration"),x.merchEvars.eVar46=s.get("product.-1.attributes.vehicleStatus",s.get("product.-1.attributes.vehicleSelection")),x.merchEvars.eVar47=s.get("product.-1.productInfo.color",s.get("product.-1.attributes.color")),x.merchEvars.eVar48=s.get("product.-1.attributes.modelCode"),x.merchEvars.eVar49=s.get("product.-1.attributes.gearing"),x.merchEvars.eVar50=s.get("product.-1.attributes.series"),x.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),x.merchEvars.eVar52=s.get("product.-1.productInfo.productName",s.get("product.-1.attributes.modelName")),x.merchEvars.eVar53="model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":s.get("product.-1.category.primaryCategory"),x.merchEvars.eVar54=s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==s.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":s.get("product.-1.category.subCategory1"),x.merchEvars.eVar55=s.get("product.-1.category.subCategory2"),x.merchEvars.eVar58=y,x.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),x.merchEvars.eVar65=s.get("product.-1.attributes.modelName"),t.products=x.toString(),"form started"==t.prop8?(t.events=t.events.replace("event97,event98",""),t.events=t.apl(t.events,"event73,event74"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event73,event74")):"form finished"==t.prop8&&(t.events=t.events.replace("event99,event100",""),t.events=t.apl(t.events,"event75,event76"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event75,event76"))}}catch(E){_satellite.logger.error("css script error in Central Forms",E)}if(!t.products){var x=_satellite.getVar("setDefaultProductVariables");if(window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1){var I=_satellite.getVar("setDefaultProductVariables").merchEvars;I.eVar53="new car",x.merchEvars=I}t.products=x.toString()}t.eVar125="",t.linkTrackVars+="events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop9,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1,"}catch(T){_satellite.getVar("catchblock",e)(t,T)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%pa_cat_subCategory01%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL1c41c41e1ef04f7ca6bc22e7126dfe15",name:"TPT - ZA - AEM - Adform - MFest Buy Tickets - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-stage-presentation--keyvisual-cta > div > div > div.show-for-large-up.button--ghost-style-white > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/forms/BMW-M-Festival",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d687d730daf411597833edf97be7025-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1c56ef7f1abb45b6bef3f38760e70cea",name:"TPT - TH - AEM - TikTok - Test Drive FormSubmit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC960abeaf15c243f7914e0301388e2495-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1c7904b6edae469a9a2bd7ec119b79f8",name:"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3209ef97a0f14b4ba7920f9a5bac7c91-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1c833a4f29de4219a594a346789700ee",name:"TPT - LU - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc2797b7f92a4142a6ffec18fa56a248-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1ce46c8cbbcb472286a0068e83177402",name:"TPT - TH - AEM - Facebook - Test Drive Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa67d4908a9b444378b1cb0c6f32d16f5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1cfb727838dc459ab544847b90bc3fab",name:"TPT - UK - AEM - GTagDC - TDA Form View - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC68b354d32a22413a844770b3ef526243-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d1c411b6a4f418b9ba29a23a0062c4a",name:"TPT - GR - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa15979dcda6f4596a23f9eaa07646ed1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d1e1d9050fc47cb989ce32ebaecef6a",name:"TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5e1ae99a42de427a895586aefc3ecfc1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d4ba628f44d4ecda4a0e7eb3b636d32",name:"TPT - AU - AEM - GtagDC - Multiple - PLR - p15r[c] - DoNotUse",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5af0615b75ba49838bd7ad1f2054652b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1d96b92bea794146a617f82e240b8ce5",name:"TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaad41d877faf4dd78243a6069320f906-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1dc0467be23543779387130d3d4b7e54",name:"TPT - ES - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50e594855fc34145801be96c3932197f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1dda69da9e1649f38e672b5f40b932ac",name:"TPT - GR - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbca6867fba2e4d27ac4b65d467340169-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1dfdb66182b44d1b858a9283dfa1a77d",name:"TPT - HU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e132839439747a1860092cd62c81c7f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC173e5e7861e549f396c2b91bdbc663af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e0983402eed4940af686fc37028b1e1",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd85884b6252443519d11767d09fdce6e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e5dd65ed7b2474284c954584ce0c621",name:"TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"ES"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/campanas/plan-moves-2020.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c0b1e53fbec486e996f2ae67c063cb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1e883a3bb61744339854eb3323b8180b",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC25425e4d9e154227be8e9e6268568789-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1ec6cd31814d499e8d36ff245eeef82b",name:"TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC43f716df40934120bc1abdc9cbdf2ea5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1eff87ff6a8f42b79d0b596de9e7f1f1",name:"TPT - ALL - AEM - Adobe Form Start AIA - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#vehiclestage-order-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#contact-cta-0 > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#contact-cta-1 > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#vehiclestage-secondary-cta",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("getDL",e).get("eventInfo.effect"),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/stocklocator",valueIsRegex:!0},{value:"/neuwagensuche",valueIsRegex:!0},{value:"/garageonline",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/details",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd59cebcd40448ce84060150eb52f79a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f30371aaa6a4350b26ae4b19980a318",name:"TPT - LU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/rfi/catalog.de.html#/"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7b06a214a762413c8235de90a3a321a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f806634f89148a483096db05598a689",name:"TPT - IE - AEM - Adform - Download Brochure - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Brochure Download']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfee4ad3bb7f34c98b26b2a0f79811503-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1f95492699174a6693228dbc4d427399",name:"ACDL GROUP - ALL - DCS - DLP - 0050 - general",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!0,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_2850374",code:"dl.assign('page.attributes.solutionSpecific.dcs.checkoutMethodsSelected', dl.get('page.attributes.solutionSpecific.checkoutMethodsAvailable'))\ndl.assign('page.attributes.solutionSpecific.dcs.deliveryMethodSelected', dl.get('page.attributes.solutionSpecific.deliveryMethodAvailable'))\ndl.assign('page.attributes.solutionSpecific.dcs.paymentMethodsSelected', dl.get('page.attributes.solutionSpecific.paymentMethodsAvailable'))\n\ndl.assign('eventInfo.attributes.solutionSpecific.dcs.referringComponent', dl.get(`component.${dl.get(\"eventInfo.reference.linkedComponent\")}.attributes.referringComponent`))\ndl.assign('eventInfo.attributes.solutionSpecific.dcs.offerID', dl.get(\"cart.attributes.offerID\"))\ndl.assign('page.attributes.solutionSpecific.dcs.checkoutID', dl.get(\"page.attributes.checkoutID\"))\n\n\nObject.entries(dl.get(\"product\")).forEach(([productId, product]) => {\n  //const pGet = (subPath) => dl.get(`product.${productId}.${subPath}`);\n  const pSet = (basePath => (subPath, value) => {\n    if (typeof value === 'function') {\n      try {\n        value = value()\n      } catch(e){}\n    }\n    dl.assign(`${basePath}${productId}.${subPath}`, value);\n  })(\"product.\")\n  \n  pSet('attributes.mmdr', ()=>product.attributes.internalCode)\n})\n",path:"dcs/general",type:"DLP"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5459083",code:"dl.assign('eventInfo.element', 'page title')\nif (dl.get('eventInfo.eventTrigger') === 'pageview') {\n    dl.assign('eventInfo.type', 'success')\n}\n",path:"dcs/hardcode",type:"DLP"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4097887",code:"    const pageName = dl.get('page.pageInfo.pageName')\n    const modPageName = pageName.replace(/[>:,-]/g, '_').replace(/\\s+/g, '');\n    let productKeys = new Set(dl.get('eventInfo.reference.linkedProducts'));\n    let cartItemKeys = new Set(dl.get('eventInfo.reference.linkedCartItems'))\n    let transactionItemKeys = new Set(dl.get('eventInfo.reference.linkedTransactionItems'))\n    let combinedUniqueKey = new Set([...productKeys,...cartItemKeys, ...transactionItemKeys]) \n\n    // reset checkoutID in case of 'na' and only set on order confirmation page\n    if (dl.get('page.attributes.checkoutID') == 'na') {\n        dl.assign('page.attributes.checkoutID', '')\n    }\n\n    if (dl.get('page.attributes.checkoutID') && dl.get('eventInfo.eventTrigger') == 'pageview') {\n        if (['sales > dcs: order-confirmation', 'sales > dcs: credit-check'].includes(pageName)) {\n            // check mapping in DCS specific subMap\n            dl.assign('eventInfo.dcs.pageName', modPageName)\n            combinedUniqueKey && combinedUniqueKey.forEach((key) => {\n                let product = dl.subSom(\"product.\" + key);\n                if (product){\n                  let { category } = product.getSubNodes()\n                  if (['new car', 'bto car', 'preorder car'].indexOf(category.get('primaryCategory')) > -1) {\n                      dl.assign('eventInfo.dcs.formInfo.formType', 'orders (new vehicle)')\n                  } else if (['used car', 'young used car'].indexOf(category.get('primaryCategory')) > -1) {\n                      dl.assign('eventInfo.dcs.formInfo.formType', 'orders (used vehicle)')\n                  } else {\n                  }\n                }\n                \n            })\n        }\n    }\n\n    // Workaround created for Korea market AAAA-7187\n    if (dl.get('page.pageInfo.geoRegion') == 'KR') {\n        if (dl.get('page.pageInfo.pageName') == 'sales > dcs: payment details' && dl.get('eventInfo.effect') == 'sales > dcs: order submit success') {\n            // check mapping in DCS specific subMap\n            dl.assign('eventInfo.dcs.pageName', modPageName)            \n            combinedUniqueKey && combinedUniqueKey.forEach((key) => {\n                let product = dl.subSom(\"product.\" + key);\n                if (product){\n                  let { category } = product.getSubNodes()\n                  if (['new car', 'bto car', 'preorder car'].indexOf(category.get('primaryCategory')) > -1) {\n                      dl.assign('eventInfo.dcs.formInfo.formType', 'orders (new vehicle)')\n                  } else if (['used car', 'young used car'].indexOf(category.get('primaryCategory')) > -1) {\n                      dl.assign('eventInfo.dcs.formInfo.formType', 'orders (used vehicle)')\n                  } else {\n                  }\n                }\n                \n            })\n        }\n    }\n\n",path:"dcs/purchase",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL1fcd4c6db68a41cbb7abc23f6b5d7f97",name:"TPT - TH - AEM - Adform - RFO FormSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf144d7079f7647d0a10ad507b05db08a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1fd2052b73c4422b929aacf15f071b90",name:"TPT - SE - Multiple - Usabilla",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf013905cca94d7caf29234780bcd152-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fe404f7ae7a4ad4863f1a940badae9c",name:"TPT - DE - AEM - Outbrain - Reserve Vehicle - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb6e5bb5ba48844eda594fe4c23c8a6a4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL1fe63e2e9433408588a27250a276fbc4",name:"PLR - All - AA - Custom Code - JS error event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.ch"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1}catch(e){var s={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,s)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL203b9dba7956431da26e3536fabbbf42",name:"TPT - TH - AEM - Floodlight - RFO ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$="form/request-for-offer.html"]',elementProperties:[{name:"href",value:"/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC37e264c905c845c289bf42ee193a0764-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL205e2c0ddab04e1e89dfab2a757a7434",name:"TPT - BE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e03ca65d210482e8a9abbf43a039138-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2082bc504a454bbdaf60ab8c8c324ebb",name:"TPT - JP - AEM - Yahoo - RTG - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC173a9d6c1e754e8faba647d8a1161ee0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL20cc4cfb197e40d698a7f2a949e26765",name:"TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2e9eae8c7a60482b9c2c4382c5106e21-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL20e95d1cc3e14a6c9d08583d28460a7c",name:"TPT - NL - AEM - Adwords - SL_RFO Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCac39bf8f3a31424eae75a34ff0c1ef88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL20f75e5cfcfa49a7b4fd98409f1b42f5",name:"TPT - JP - AEM - EBiS - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3eaad1e394a9469387d71777e4efa61c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2111597e52144ff9b5a06bb2f63f001c",
name:"TPT - AR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf8109e491dfc4d56be09bdd26be699fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b515dc86c00475e99219941ff46c87b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL215e98e5639a4cca8d3b0f5c90b29459",name:"TPT - CH - FORMS - Floodlight - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa1ed8e339b51497091d29b0d7eccc539-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL21604f783b68483da04a141d658136c0",name:"PLR - DE - All Pages - Custom Script - New Visitor Reco Script",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6abe20ee4c774346bf3a9e009a6bc0b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL217c4e0c4c6c4be5a769e8603cd63460",name:"TPT - SG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ca5917b4cd049cc81674e4da91db6ca-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL21a87dd63ae7454daad2f16e2d47dbb5",name:"TPT - AT - AEM - Adform - Visualizer - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC71443f5feda3417a996abdc9fadc2114-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL21b9c814400a4405a768f6f7fd8cf489",name:"TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3296bed43f8a4f97b8030b8de02e1a2e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22218363301e4ab3a28bbaa5a8ced812",name:"TPT - BR - AEM - Adwords - Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var s=JSON.parse(t.data),a=s.args[1];"addEventTracking"==s.methodName&&(_satellite.setVar("eventtracking",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb2ff5f979584b509f86357da51b4fde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22252f42739b4223ad6d6aae1c0c2c0a",name:"ACDL GROUP - ALL - ANY - DLP - 0008 - Component - page component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:8}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"(tpt-pageview|tpt-legacy event)",operator:"regex"}},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5436550",code:'try {\n    let eventTrigger = dl.get("eventInfo.eventTrigger")\n    let componentToFilter = ["mood pre-configuration"]\n    let pg = adobeDataLayer.util.getLegacyTrackingPage();\n    \n    // Only trigger on pageview so that overwriting of component can be prevented if component is pushed by tron\n    if (pg && pg.component) {\n        let nscComponent;\n        if (eventTrigger === \'pageview\') {\n            if (Array.isArray(pg.component)) {\n                nscComponent = pg.component.filter((it) =>\n                    adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n                        () => (componentToFilter.indexOf(it.componentInfo.componentName) > -1)\n                    ])\n                ).map(it => {\n                    const cC = Object.assign({}, it);\n                    return cC\n                });\n\n                if (nscComponent && nscComponent.length > 0) {\n                    dl.assign("component", Object.fromEntries(nscComponent.map(it => [it.componentInfo.componentID.replaceAll(/[\\:\\.]/g, \'_\'), it])))\n                    const compPref = nscComponent.map(it => it.componentInfo.componentID.replaceAll(/[\\:\\.]/g, \'_\'))\n                    dl.assign("eventInfo.reference.linkedComponent", compPref[0])\n                    dl.assign("page.pageInfo.reference.defaultComponent", compPref[0])\n                } else {\n                    _satellite.logger.log("No defaultComponent in legacyDL. Message from " + event.$rule.name)\n                }\n            }\n        }\n\n        if (nscComponent && nscComponent.length > 0) {\n            compKey = dl.get("eventInfo.reference.linkedComponent");\n\n            Object.entries(dl.get("component")).forEach(([k, v]) => {\n                if (v.componentInfo.componentName === "mood pre-configuration") {\n                    dl.assign(`component.${k}.category.primaryCategory`, "nsc website")\n                }\n            });\n        }\n    }\n\n} catch (e) {\n    _satellite.logger.log("Error in computing default component", e)\n}\n'},timeout:8e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_2395584",code:"let brand = dl.get('page.attributes.brand')\nlet geoRegion = dl.get('page.pageInfo.geoRegion')\nlet language = dl.get('page.pageInfo.language')\nlet primaryCategory = dl.get('page.category.primaryCategory')\nlet pageName = dl.get('page.pageInfo.pageName')\n\nlet componentTemplate = {}\n    const eventComponentKey = dl.get('eventInfo.reference.linkedComponent')\n    const pageComponentKey = dl.get('page.pageInfo.reference.defaultComponent')\nlet componentKey = eventComponentKey || pageComponentKey // To check if any Component key is was created by previous action (getting page component from leagcyDL)\nif (componentKey) {\n    if (eventComponentKey) {\n        if (!pageComponentKey) {\n            dl.assign('page.pageInfo.reference.defaultComponent', eventComponentKey)\n        }\n    } else {\n        dl.assign('eventInfo.reference.linkedComponent', componentKey)\n    }\n} else {\n    componentKey = brand + \"/\" + geoRegion + \"_\" + language + \"/\" + primaryCategory + \"/\" + pageName\n    if (!dl.get(`component.${componentKey}`)) {\n        let href = window.location.href;\n        let spl_regex = /(\\.bmw\\.com|.bmw\\-welt\\.com)\\/[a-zA-Z]{2}\\//g;\n        let nsc_regex = /(\\.bmw\\.com\\/[a-zA-Z]{2}\\-[a-zA-Z]{2}\\/)/g;\n        let brandRegex = /(\\.bmw\\.)|(\\.mini\\.)|(\\.bmw-motorrad\\.)|(\\.rolls-roycemotorcars\\.)|(\\.bmwusa\\.com\\.)|(customer\\.bmwgroup\\.com)|(m\\d{1,3}\\..*-int\\d\\.com)/g;\n\n        let componentPrimaryCategory = spl_regex.test(href) ? \"special website\" : (nsc_regex.test(href) || brandRegex.test(href)) ? \"nsc website\" : \"special website\";\n        let componentName = adobeDataLayer.util.getFirstFunctionWithValue([\n            () => (href.indexOf('bmw-welt') > -1) && \"bmw welt\",\n            () => dl.get('eventInfo.origin.componentName', 'stageX aem page')\n        ], { isValid: (v) => !!v }) // neither undefined nor false nor 0\n\n        componentTemplate[componentKey] = {\n            'componentInfo': {\n                'componentID': componentKey,\n                'componentName': componentName,\n            },\n            'category': {\n                'primaryCategory': componentPrimaryCategory,\n                'subCategory1': dl.get('page.category.pageType'),\n                'componentType': 'standalone'\n            },\n            'attributes': {\n                'componentVersion': dl.get('page.pageInfo.version'),\n                'touchpoint': 'web'\n            }\n        }\n\n        dl.mergeDeep({ 'component': componentTemplate })\n    }\n    if (dl.get(\"event\") === \"pageview\") {\n        dl.assign(\"eventInfo.reference.linkedComponent\", componentKey)\n    }\n}\n\n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL2271cc38a9ab4047a154405dc009ecbf",name:"TPT - NZ - AEM - Facebook - CON Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input",elementProperties:[{name:"name",value:"c-submit",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb641ca08d8da41a4b06b678bfaa667cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22c68bf7d2ab4b4e82d7530aa83c63df",name:"TPT - PL - NSC - AA - preconfiguration interstitial page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return window.location.href.indexOf("icp=pl_precon-entry")>-1}catch(s){var t={from:"Condition",type:"PLR",name:e.$rule.name};_satellite.logger.error(s,t)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf10fbdee9d954118bdf1aa3ae3bfc020-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22dac952fc4d4bf49cccc2ff29f5f060",name:"TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC302d176687ee48479389be51d41c4834-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL22eae47507da43d78a99621612722786",name:"TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe123b183e9c24e4c950d5be13b37b8a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL231070a5397948509b5a63f01758e3fe",name:"TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC46cfab0a142a4dc3bf4d9c7587b9753a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2330fcd00a8d498ab4ce36c50c60e0d7",name:"TPT - LU - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeba3f4a914e447929ea1e0ad0e05c535-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2349e564520d44be8b9c12fe78582dcc",name:"TPT - ES - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4618ff1d8cc749078184f6537fd78ada-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1810b3a46aba48a991f372028fa9ca2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2374524919ae403d822f222bf475230a",name:"TPT - PL - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93557d6f416b4daea496c819ed097a66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL23823ff4567f43fa9de9ede38495c1e1",name:"TPT - BE - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCff5b3fa0afe642c691683a0000ff8e4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2436546181c9483d8f6de94c6a6875ca",name:"TPT - UK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCda9878c96d9b4c739bafad42ba9fe2c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL243b138d4a9b419aba7e0401edaf5ccc",name:"TPT - UK - AEM - Adform - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38d3153926f8418abe76279e746703a5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24a7c102aebd4523bd575ee17e423945",name:"TPT - MY - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC99f94b05ec2f47f0aad1dc3daef600f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24b94bbf27394353b0883516b7d4f1d8",name:"TPT - PL - AEM - Adform - Make Appointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC88cb7ce3f1f647e0887caeac6080f87d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24caa53a51a64a788326d7b24aecbc5f",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=(_satellite.getVar("consentMap"),{GIVEN:"GIVEN",REVOKED:"REVOKED",UNKNOWN:"UNKNOWN"}),a=function(){var a=_satellite.getVar("consentMap");t.registerOnConsentChange(a.AdobeAnalytics,(function(t){t===s.GIVEN&&e()}))},o=function(){var a={ANALYTICS:"advertising"};t.registerOnConsentChange((function(t,o){o===a.ANALYTICS&&t===s.GIVEN&&e()}))};t.type===t.ENUM_TYPE.EPAAS_SPLIT?a():t.type===t.ENUM_TYPE.EPAAS_NON_SPLIT&&o()}catch(e){}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAAAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"shop.bmw.co.kr",valueIsRegex:!1}]},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/tradein",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"huoltovaraus.bmw.fi",valueIsRegex:!0},{value:"servicebokning.bmw.se",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return null==adobeDataLayer.getState("page")}catch(t){_satellite.logger.log(e.$rule.name+" condition to check if ACDL is present fails",t)}}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%ACDL - PV_techABtest10percent%"},timeout:2e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),o=s.get("event.-1.eventInfo.eventName"),n=_satellite.getVar("smartPreviousValueManager"),i=(window.location.href,t.Util.cookieRead("gcdmToken"));t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t);try{"datalayer field missing"==a&&(a=dataLayer.pages[0].page.pageInfo.pageName||"datalayer field missing")}catch(L){var r={from:"AA",type:"PLR",name:e.$rule.name};_satellite.logger.error(L,r)}if(t.prop1=t.pageName=-1==a.indexOf("nsc >")?"nsc > "+a:a,window.location.href.indexOf("/dcs/")>-1||"nsc > stocklocator"==t.prop1)return void(t.abort=!0);if(t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop42="nsc website",t.prop5=s.get("page.category.subCategory02"),s.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL||window.location.hostname+window.location.pathname,t.pageType="errorPage",t.prop1=t.pageName),"nsc > stocklocator"==t.pageName&&(t.prop19="central new car stock locator"),0!=s.get("product").length){for(var c in s.get("product"))if(!isNaN(+c)){var d=s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode")),l=s.get("product."+c+".attributes.mmdrVG",s.get("product."+c+".attributes.internalCode")),u=s.get("product."+c+".attributes.modelCode");h="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode"))}var b=_satellite.getVar("setDefaultProductVariables");b.id=h,b.category="new vehicle",b.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),b.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),b.merchEvars.eVar10=h,b.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=b.toString()}if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var m=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(m),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}if(t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),"user_centric_navigation"==t.prop19&&(t.events=t.apl(t.events,"event919",",",1)),"delayed"==s.get("event.-1.category.eventType"))if(t.prop56="interaction",t.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),"Navigation"==s.get("event.-1.category.primaryCategory")&&"user_centric_navigation"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){var f=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory"));2==(o=s.get("event.-1.eventInfo.eventName")).split("L").length&&"Navigation"==f&&(t.events=t.apl(t.events,"event919",",",1)),t.prop42="nsc website",t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version"),t.prop14=(new Date).toISOString().substr(11,8),t.eVar80=date.toISOString().slice(0,10).replace(":","-"),t.eVar81=Math.floor((date.getTime()-15778368e5)/864e5),t.prop15=(new Date).toString().substr(16,8);try{i&&(t.prop40="logged-in"),""==i&&(t.prop40="not logged-in")}catch(k){}t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="delayed"==s.get("event.-1.category.eventType")?"success":"ux",t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.linkTrackVars+="prop42,prop43,prop44,prop19,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar80,eVar81"}else if("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("Open navigation"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"model_navigation_hp"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("accessory click"!=s.get("event.-1.eventInfo.eventAction")&&"cta click"!=s.get("event.-1.eventInfo.eventAction")||"ZSO_accessories"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))t.prop53="success",t.prop3=s.get("page.category.primaryCategory"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.linkTrackVars+="prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54";else{var p=s.get("event.-1.eventInfo.effect"),g=s.get("event.-1.eventInfo.eventAction");t.prop56="interaction",t.prop53="ZSO CTA click"==o?"success":"ux",t.eVar34=-1==p.indexOf("nsc >")?"nsc > "+p+" clicked":p+" clicked",t.prop3=t.prop54=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop55=s.get("event.-1.eventInfo.cause"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop51=o,t.prop52="default",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),t.eVar55=s.get("product.-1.category.subCategory01"),t.eVar65=s.get("event.-1.attributes.productName"),t.prop42="nsc website",t.prop43="accessories",t.prop28=s.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page");var v=_satellite.getVar("setDefaultProductVariables");if(0!=s.get("product").length){var h="";for(var c in s.get("product"))isNaN(+c)||(d=s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode")),l=s.get("product."+c+".attributes.mmdrVG",s.get("product."+c+".attributes.internalCode")),u=s.get("product."+c+".attributes.modelCode"),h="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":s.get("event.-1.category.mmdr",s.get("product.-1.attributes.mmdr")));v.id=h,v.category="new vehicle",v.merchEvars.eVar10=h,v.merchEvars.eVar53="new car",v.merchEvars.eVar54="build to order"}if("ZSO recommended accessory click"==o||"ZSO CTA click"==o){var P=_satellite.getVar("setDefaultProductVariables");P.id=s.get("event.-1.attributes.wishlist.-1").split("~")[2],P.category="after sales",P.merchEvars.eVar53="accessory configurator",P.merchEvars.eVar52=s.get("event.-1.eventInfo.cause"),
P.merchEvars.eVar54=s.get("event.-1.attributes.wishlist.-1").split("~")[0],v.append(P)}switch(t.products=v.toString(),t.linkTrackVars+=",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44",o){case"ZSO Specific accessory click":case"ZSO recommended accessory click":"accessory click"==g&&(t.events=t.apl(t.events,"event253,event254",",",1));break;case"ZSO CTA click":"cta click"==g&&(t.events=t.apl(t.events,"event253,event254,event255,event256",",",1),"Request Offer now"!=p&&"Order Information"!=p&&"Request for Test drive"!=p||(t.events=t.apl(t.events,"event1,event2",",",1)))}}else t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34="nsc > "+o+" clicked",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop53="navigation",t.prop13="bmw",t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.prop3=s.get("component.-1.componentInfo.componentName"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.eVar136="2020 - 06- 15 model_navigation_hp";else t.events=t.apl(t.events,"event921"),t.prop43="navigation",t.eVar34="nsc > "+o+" clicked",t.prop52="default",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.prop28=s.get("page.attributes.virtualPage"),t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop2=s.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&o.indexOf("test")>-1&&o.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136";if(n.update("pageName",t.prop1),n.update("componentSubcategory1",t.prop43),_satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()){var y=s.get("event.-1.attributes.relatedComponentID");for(I=0;I<s.get("component").length;I++){var j=I.toString();s.get("component."+j+".componentInfo.componentID")!=y&&s.get("component."+j+".componentInfo.componentId")!=y||(_satellite.logger.log("related component - "+s.get("component."+j)),s.get("component."+j+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),s.get("component."+j+".componentInfo.componentID",s.get("component."+j+".componentInfo.componentId")),s.get("component."+j+".category.primaryCategory"))}o=_satellite.getVar("eventName"),p=_satellite.getVar("eventEffect"),_satellite.getVar("eventCause"),_satellite.getVar("eventPrimaryCategory"),_satellite.getVar("eventSubCategory01"),t.events=t.apl(t.events,"event925"),t.eVar34="nsc > "+s.get("event.-1.eventInfo.effect","cookie drawer is shown"),t.prop51=s.get("event.-1.eventInfo.eventName","Cookie drawer impression"),t.prop52=s.get("event.-1.eventInfo.cause","default"),t.prop55=s.get("event.-1.category.subCategory01","impression")}try{var C=_satellite.getVar("topLevelDomain");if("true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&("bmw.de"==C||"bmw.fr"==C||"bmw.co.uk"==C||"bmw.it"==C||"bmw.nl"==C||"bmw.es"==C)){function w(){function e(){o||(o=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics - v"+a)))}function s(e){if(e)n=e;else{n=Math.random()+"_"+Date.now(),function(){for(var e=0,t=document.domain,s=t.split("."),a="_cs_tld"+(new Date).getTime();e<s.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=s.slice(-1-++e).join("."),epaas.api.setPersistence(a,a);epaas.api.setPersistence(a,a)}();var s=new Date,a=s.getTime();a+=18e5,s.setTime(a),epaas.api.setPersistence(i,n)}t.eVar142=n,t.linkTrackVars+=",eVar142",_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:n}])}var a="1.9.0",o=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var n=null,i="_cs_mk",r="; "+document.cookie;if(r){var c=r.split("; "+i+"=");1==c.length?s():s(c[1].split(";")[0])}}w()}}catch(_){r={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(_,r)}try{var R=_satellite.getVar("AA-componentDefaultValues");R&&"configurator all models"==R.componentName&&(t.prop1="nsc > all-models-con-entry",t.pageName="all-models-con-entry",t.prop2=s.get("page.category.pageType","page"),t.prop4=s.get("page.category.subCategory01","con entry"),t.prop3="models",t.prop28=s.get("page.attributes.virtualPage"))}catch(O){r={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(O,r)}for(var x=s.get("component"),I=0;I<x.length;I++)if(x[I].attributes&&x[I].attributes.onsiteSearch&&"General"===x[I].attributes.onsiteSearch){var E="true";break}if("true"==E){s.get("component.1.componentInfo.componentName"),s.get("component.-1.attributes.onsiteSearchResults"),t.prop56="search",t.prop53="content",t.eVar34="nsc > onsite search result clicked",t.prop51=x[I].componentInfo.componentName,t.prop55=t.prop24=x[I].attributes.onsiteSearchResults,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop54="onsite search",t.prop44=x[I].componentInfo.componentID,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop13="bmw";var T=x[I].attributes.onsiteSearchTerm;t.events=t.apl(t.events,"event333,event334,event331,event332");var A=_satellite.getVar("searchDefaultProduct");(v=_satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar53="new car",t.products=v.toString(),t.products+=",search;search;;;;"+A+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+T}t.prop56="page view",t.prop53="success",t.prop55=s.get("page.category.subCategory01"),t.prop51=s.get("page.category.subCategory02"),t.prop57="page load",t.eVar34="nsc > page: "+s.get("page.pageInfo.pageName")+" shown",t.prop54=s.get("component.-1.componentInfo.componentName")}catch(D){t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(D)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b99023d817c498a8ed173bb5ef77a22-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/directCall.js",settings:{identifier:"TPT page view"},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL24e249075e544fc0a6e24ccf0e0da7a6",name:"TPT - CZ - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32b87e066904492d8ebf8008d8d3d4cd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL24fbbaee19264fb2ab3012a9272cff65",name:"TPT - BG - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdeedc32a67084ec19ef89d7e1898d8be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL256ecaec08b94e2188f5fc90ffd910a6",name:"TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/discover-enquire-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd4b2b0ac718483e8244bebd2307517f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL257b3a4df83f47f1b5c559915ae4fb2f",name:"TPT - FR - FORMS - Adform - Adobe Forms - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa32aff9065ad46b6b67e06ea67e2c7a5-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL258d23c5968741bab1bfebd103d7720e",name:"TPT - JP - AEM - YDN - Christmas Campaign 2023 - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe87047d0c6ac4347bc779eef765cf6f4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL25d0869b190547d49868c5366ae72c11",name:"TPT - NZ - AEM - DoubleClick - BMW BEV Family Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"modules.bmw.co.nz/testdrive",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa65050243ff34793b1ec1e6db026b396-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL261b31e09bb147f5adcfc1caecec0934",name:"TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a7cea7659a94ecc951a083ae97d77f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL26d9f64cb3c44425bb7b44362752c4c0",name:"TPT - IT - AEM - Adform - TDA Form Finish - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ea502ae8769439c831ce81d126b9925-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL27451dce23b941938b240d41862d2df1",name:"TPT - DK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe02015a49fa84f9d8bb456c6cad9398b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2784de2eccd9404b89351a859afdbfe6",name:"ACDL GROUP - ALL - FORMS - DLP - 0020 - Event - eventKey preparation for mapping for Tron version >= 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"tron_v10.0.0",operator:"versionFrom"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4843261",code:"    let formStep = dl.get('eventInfo.attributes.form.step')\n    let formLeadType = dl.get('eventInfo.attributes.form.formLeadType')\n    let formType = dl.get('eventInfo.attributes.form.formType')\n    \n    if(['form started','form finished'].indexOf(formStep) > -1){\n        dl.assign(`eventInfo.form.step.${formStep.replace(\" \",\"\")}.formLeadType`,formLeadType)\n        dl.assign(`eventInfo.form.step.${formStep.replace(\" \",\"\")}.formType`, formType.split('~'))\n    }\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL278a19b080114341bc54afda82ca6d40",name:"ACDL BMW,MINI - DE - ANY - DLP - 0800 - User - encrypted GCID",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:800}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!0,market:!0,component:!1}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!!epaas.api.getPersistence("gcdmToken")}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_7124403",code:"    const profileKey = dl.get('eventInfo.reference.linkedProfile')\n    const gcdmToken = epaas.api.getPersistence('gcdmToken')\n    if (gcdmToken) {\n      let encGCID = a12r.extEvntData.cache.get(`user.gcdm.${gcdmToken}.encGCID`);\n      if (!encGCID) {\n        let gcdm = epaas.api.getPersistence(\"encGCID\");\n        if (gcdm){\n          gcdm = JSON.parse(gcdm)\n          a12r.extEvntData.cache.assign(`user`, gcdm)\n          encGCID = gcdm.gcdm[gcdmToken].encGCID\n        }\n      }\n      if (encGCID) {\n        dl.assign(`user.${profileKey}.encGCID`, encGCID)\n      }\n    }\n",path:"DLP/encGCID",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL2793367c12964ebaa66bffbf75867216",name:"TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfab9f2c616d041b4a290dacec121b76e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL27d16ad1d4db418f82e1e8929de75dcb",name:"TPT - CZ - FORMS - Facebook - Adobe Form- ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC902c782bc7494c77995f203cbce0778e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL281a5aaf38ce4624884b73316c48001d",name:"PLR - IT - All Pages - Custom Script - Visitor Reco Script ",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.it"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0815c2ff842f4fd2b58db99f06853f4e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL282614020fd747638d688dbc69819596",name:"TPT - CA - AEM - DoubleClick - CTA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"View Catalogue"==_satellite.getVar("getDL",e).get("event.-1.eventInfo.eventName")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd501e44de7e460ab19e67c1689e5fe3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL283a61d5f5b941caa9d3dba8f481d447",name:"ACDL GROUP - CH - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb482e47103c24b20b7f1f541b50e2480-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL28691584b08f47bb885d5000cc6c989d",name:"TPT - TH - AEM - Floodlight - Test Drive Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd8808087437e4b069534d25d28665ca5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2874b0757d504664bca80e2b6b9ab76a",name:"TPT - TH - AEM - TikTok - Link to Test Drive - EN - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-89864b518d.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-b22b3baadd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f666cd4e77847b5925a21b347404e46-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL288d571582c8436da8aa928e199f31f3",name:"TPT - BE - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9190200e27b44ba78422b9b88a057704-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2892c20bb7014c378889868f490b9fa2",name:"ACDL GROUP - FI - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC04f43b5b32944611a4a2bfb25fa89e5c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28a61fd087af4496998c83e061de665c",name:"TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC709bd04ac7e94f1083a1d8e5cc29db17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28b70fbd72ce48d58332420758283180",name:"PLR - All - AEM - AA - Trigger Central Forms",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC28c4634888f04a8981acbcc1f7d3dedc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28bf628aae3243f291cee696e1e5fcdc",name:"TPT - SK - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa1bb0024367d42268b6545aa74b29d8a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL28e179dea70942b8b9a467f54ef2c17a",name:"TPT - LU - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC97f88ea9cd9f4f2799d75a59b0b28393-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29acee29926749569a6d9cc1c18decf0",name:"TPT - GR - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd2e5a410131e4198b810af8ed67fc51a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29b35007dd59491985f7385b2cf59d70",name:"TPT - NL - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2147868cacba40bf882baadf3ef95083-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29cf04d301db4369b5f3bd1a13e5611b",name:"TPT - SK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0b9bea2535ef4c5aa2f16173439806af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29d61aed08ed4ad0bf32e0a555f19e7d",name:" TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.ie/en/configurator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC378db241bbef4b5ea4ad5cafcc976259-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL29fe0d120608439c9c9f4fcf96e4184b",name:"TPT - SK - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC34a57155ee934e2f82f780babbc4baeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a2a42ccb1a1406787f4c9e8a3dc3b2c",name:"TPT - UK - AEM - Floodlight - Find a BMW Centre - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Find a BMW Centre"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1e40b2a456f24dbe91698c318a2ea4b8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2a3a266b03cc4d5fac28e05ce87dbafe",name:"TPT - SK - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8a94aefb4ce6407d8cb36cb1d043f75a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2a89d1e7cc8b4e54b8c924e288834622",name:"ACDL GROUP - ALL - ANY - DLP - 0005 - Page - detect shadow domains",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:5}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9231320",code:'const shadowDetect = location.hostname.match(/[mp](?<inx0>\\d*)\\.(?<brand0>bmw|mini)(-(?<isInt0>int|test))?|(?<brand1>bmw|mini)-(?<market1>\\w\\w)-awsint-[mp](?<inx1>\\d*)\\.(?<isInt1>int|)/)\nif (shadowDetect && !dl.get("page.pageInfo.geoRegion")) {\n  const {inx0, brand0, market0, inx1, brand1, market1} = shadowDetect.groups\n  const inx = shadowDetect.groups.inx0 || shadowDetect.groups.inx1\n  const brand = shadowDetect.groups.brand0 || shadowDetect.groups.brand1\n  const isInt = shadowDetect.groups.isInt0 || shadowDetect.groups.isInt1\n  let market = shadowDetect.groups.market1\n  if (market) {\n    market = market.toUpperCase()\n  } else {\n    if (brand && inx) {\n      const market = {\n        bmw: {\n          "2": "DE",\n          "156": "DE"\n        },\n        mini: {\n          "3": "DE"\n        },\n      }[brand][inx]\n      }\n  }\n  dl.assign("page.pageInfo.geoRegion", market)\n}\n'},timeout:8e3,delayNext:!0}]},{id:"RL2ab3c5afe26d43f6ac12e3e90c0e77a2",name:"TPT - SK - AEM - Facebook - Brochure Download - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{
identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb28d9d22d3174b498591bde17a248e8c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ac5fb2adf5248f396feaabf547970a5",name:"TPT - UK - AEM - LinkedIn - TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f02fdb4219a4169b1d7ff60d4872873-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2acf2e0427c84a55aa14eaec6f5ea8ca",name:"TPT - UK - AEM - GTagDC - Local Form - RFI Form Sub - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb31d8bfe7db465fa1fd8e0c669cfcce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL2ad4267f16d64c14aca758965024acc5",name:"TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC869c6522b07641439ebc32af48270d66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ad66793a4e34b5b80e2d0762eb3df64",name:"ACDL GROUP - BE - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa91199904c0f439fb8cc44c03e52da60-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2b06594199a645329ca91b5b88ff6fc2",name:"ACDL GROUP - ALL - DCS - DLP - 0900 - set specific Map",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!0,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/setSubMap.js",settings:{ID:"MAP_action_8754936",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f66ba1e9c614af6b553f2589e6c54bb-code.min.js",path:"",type:"MAP"},timeout:2e3,delayNext:!0}]},{id:"RL2b2a3151218a4f2e9bee4aaa9b5c56fe",name:"TPT - BG - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC95354f977ef3494589bb566a61831c89-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2b443e58f1934b69b18189cfd9e5513c",name:"TPT - FR - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"m155.bmw-int5.com",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f79e3cae0fb454188e2e81ff61fb912-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2b4c7270f3df489ba92a59661c327a7e",name:"TPT - TH - AEM - Facebook - Link to Estimator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/topics/offers-and-services/bmw-financial-services/payment-estimator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC37854ea7e49749a1a1aea972bf466771-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2b554cd594fe4b6b9e1c825607c32cac",name:"TPT - SK - FORMS - Adform - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC910f71d28b404b0f8175718ecc581575-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ba94171fa714f849ee7bcea9595369e",name:"TPT - ES - AEM - GTagDC - Local Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87c564007fa7462db55fbc64510c2359-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2bdd17faf80f4936969671f930c74ac4",name:"TPT - CZ - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc9165403fe69494dae1623f9407b1e17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2be765bcb0b747d1ada27e063379dfec",name:"TPT - LU - AEM - Facebook - RFO Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC21373734b53e439db1e9540909639f96-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c074848646c4e4381c4f90afc1dd05a",name:"TPT - BG - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc39612cd6ec446ffbd00f4f148e4ccd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c2cef25c67a4d6f9485a8b8e33c1d04",name:"TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/brochure-download.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC34c448aef05f45ef9b3da5e4ae4707d5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC712ac94ad82c4d6f834b2e08540fbaa2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c40046604d043e990c43d409cda434b",name:"TPT - PL - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe76ace2bdd294a4da6b280f777d671a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2c5a641b5c3d4c31a1dd24b1a454e5c4",name:"TPT - TH - AEM - Line - RFO Form Submit Button - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC849b48f1fd094fd8911f1b465848b8ab-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2c6939392d314e018a9e0e8ab109cdee",name:"TPT - BE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2e7c307084194487933cff8d3db95d8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ca561a2a0834212a374ad901b7bbfaa",name:"TPT - GR - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC767d2899482a4bba86b259f3fcf0c2c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2cfb472f96794d3f82f5ae72fbf72e27",name:"TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it_IT/home/shop/dcs/nuovi-veicoli/checkout/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa4b15738da0497b96bdc09617c3abef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2d351f703e914462a7f8be4501311942",name:"TPT - LU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb62236c85b5476996414f85cb1e7319-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4e0bae94557c4dd5aed8f88be05b393b-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e1eb0a879ff422e8db74b1322bbc6f4-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL2d599bb8e56e46afb081035b16d57942",name:"TPT - IE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC740e99fe536e42adbd4a29526bef6907-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2d7f276ef3264afba0663554fe9c69ff",name:"TPT - BE - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC56237c44a84b48f6aaf35c9d07104b66-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL2dcc33d25945414981e36b29e337f83d",name:"TPT - PL - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3bc43bfbb5614f0cb331165b88fce7e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2dd9b7cc694c4a05bcef16ab40f1e241",name:"TPT - AT - FORMS - Linkedin - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd84e948519643f385bbc91493df6508-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2e7f79a3fea340909a79b39f0e91f8a1",name:"TPT - TH - AEM - TikTok - Test Drive Form Thank you page - EN - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5416e95f481442d8b911b8ee6828891a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2e8b0ee113534e18b3e85c87d8fd2252",name:"TPT - LU - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbc128ee59b8a4ba2b9e54819798b6fb2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2eb9ee82b28d4771836555b33757fd45",name:"TPT - AT,DE,FR,ES,IT,NL,GB,UK,AU,ZA,PL,RU,JP,CA,KR - AEM - Qualtrics - Deployment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50fd574bdc3645f89741aa539cade317-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2ef89d9205d4466db7cbbe561625a9e7",name:"TPT - HU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbab64ccfd8c64c539383c31c34ee64ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f038f9cbc6543cd9dcb7b4277093e1a",name:"TPT - NZ - AEM - DoubleClick - i4-M50 Build and price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"li a span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventAction"),t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return"Internal click"==e&&"Build & price"==t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCadc84bd0b23e4b85a2b4c7aeec977a73-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2f14158ebe684a28b52d53a0b3843cea",name:"TPT - SI - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0b1ac47848d4d098cd27469a9f4b768-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f1cd740064a47869a791b38b7ad0ab5",name:"PLR - UK - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.uk"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC513e3d2b37cd49509048ae0247512737-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f235af6da834daab4d4fbbf83869dd0",name:"DCR - All - AEM - AA - Onsite Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),i=s.get("event.-1.eventInfo.effect"),r=s.get("component.1.componentInfo.componentName"),c=s.get("component.-1.attributes.onsiteSearchResults"),d=(s.get("component.-1.attributes.onsiteSearchType"),s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop56="search",t.prop53="content",t.eVar34="",t.prop51=r,t.prop54="onsite search",t.prop55=c,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop13="bmw",t.prop1=t.pageName=-1==d.indexOf("nsc >")?"nsc > "+d:d,t.prop28="simulated page"==s.get("page.category.pageType")?"virtual page":"real page",t.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop53="content",t.prop24=c,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop52=n,t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.evar71=o,t.events=t.apl(t.events,"event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event331,event332"),"search intent"==i){t.prop56="search",t.prop53="content",t.prop52="default",t.prop57=n,t.prop51=s.get("event.-1.category.subCategory1"),t.eVar34=prefix+i,t.prop55=s.get("event.-1.attributes.searchResults"),s.get("event.-1.category.primaryCategory");var l=s.get("event.-1.attributes.searchTerm");t.events=t.apl(t.events,"event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event331,event332")}s.get("page.category.primaryCategory").indexOf("Error")>-1?(t.prop56="error",t.prop53="web links",t.eVar34="nsc > "+d,t.events=t.apl(t.events,"event925,event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event931")):"More Search Results"==a&&(t.eVar34="nsc > onsite search more results clicked",t.prop55=t.prop24=i);for(var u=s.get("component"),b=0;b<u.length;b++)if(u[b].attributes&&u[b].attributes.onsiteSearch&&"General"===u[b].attributes.onsiteSearch){var m="true";break}"true"==m&&(t.prop51=u[b].componentInfo.componentName,t.prop55=t.prop24=u[b].attributes.onsiteSearchResults,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.eVar34="nsc > onsite search results shown",t.events=t.apl(t.events,"event925,event331,event332"),t.prop44=u[b].componentInfo.componentID,l=u[b].attributes.onsiteSearchTerm,t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event331,event332"));var f=_satellite.getVar("searchDefaultProduct"),p=_satellite.getVar("setDefaultProductVariables");p.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),p.merchEvars.eVar53="new car",t.products=p.toString(),t.products+=",search;search;;;;"+f+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+l,t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop24,prop57,prop52,prop58,eVar71")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL2f35391bbb2b48f682fb4b76184b871a",name:"TPT - SE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeeb1a6a3824b4e898a7d8b6e126e2400-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f51af3dae9f43669b8965af02a14b4d",name:"TPT - TH - AEM - Floodlight - RFO Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72a775a145924df88b6545700c66b9fd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2f5a8a5a2b26406ba82e30f1070edf34",name:"TPT - SG - AEM - Adform - E- Offers and services - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-detail--interactive.large-6 > div > ul > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Finance Offer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb56841b028449888ea1dc3bd6fcef4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2f6568504cc94bceb28d51a79d71e5a7",name:"TPT - ES - AEM - Adform - Brochure_Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8234572b44334751843e912b4341010b-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL2f7644465bbc4bcba21bcf5f0961d960",name:"DCR - All - AEM - AA - New All Models",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL");t.prop1=t.pageName=s.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1);try{var a=_satellite.getVar("AA-componentDefaultValues");a&&"configurator all models"==a.componentName?(t.prop1="nsc > all-models-con-entry",t.pageName="all-models-con-entry",t.prop2=s.get("page.category.pageType","page"),t.prop4=s.get("page.category.subCategory01","con entry"),t.prop3="con all models",t.prop28=s.get("page.attributes.virtualPage")):"all-models-prod"==a.componentName&&(t.prop3="all models")}catch(e){var o={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"};_satellite.logger.error(e,o)}if(t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.products)t.products.indexOf("search")>-1&&(n=_satellite.getVar("setDefaultProductVariables"),t.products+=n.toString());else{var n=_satellite.getVar("setDefaultProductVariables");t.products=n.toString()}t.linkTrackVars+="prop1,eVar34,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all models",linkType:"o"},timeout:8e3,delayNext:!0},{
modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL2fa731bf50874db8a26371fbf0ed5e48",name:"PLR - NL - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCde4cb3aa2446465e963976129a0c4fa4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2fcfa75f4b214577b27105c174c4e156",name:"TPT - MX - AEM - Facebook - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC148ea0dec1084723b195faaa3c9f1e3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL2fd384842f3649cf9bb17709965333a7",name:"TPT - BE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3209edc013c5494388e556f182adc28e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL30408cbd80a24a24aeda6c449fc6a86a",name:"TPT - FR - FORMS - Adwords - Adobe Forms - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe73ad37c61794123887ebf4a0c76caab-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL3044bc828e5d4187b4f7fdecab233c8b",name:"TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf4a399d72a744cfbbaf3f9cba658fe33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL30c0d8fcc3f246dcbb7b9b9b6570c9ab",name:"TPT - NZ - AEM - DoubleClick - i4-M50 Find a BMW Dealer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span, a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("Find a BMW Dealer"!=$(this).text().trim())return!1;setTimeout((function(){return!0}),200)}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5468d3fbf9024f98b3858dd9ac9248c2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL30c1632bc983494e97c5151b15182178",name:"TPT - PL - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webpl"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5c3318619e3e4ac5843cabdceb87166c-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL30c3b129bfd64779901d508658ceb539",name:"TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb8188e7552d64eb68818c450320fbfc9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL30e6cae3f5bb429eb514a22b382b5fe3",name:"TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb75b80a776e84d9683a7797a06da4d6a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL312082198fea48f6a3676010f6526219",name:"TPT - AU - AEM - Adform - Brochure Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2aff1204db0d4f6381152fc08de60b23-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL314b776df2794399a30736c8d458f321",name:"TP2  - ALL - AEM - TDA Form Finished - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"page.pageInfo.pageName",value:"nsc > tda success",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC946bab0fbe954dc8b37113fd49ab8e22-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC514e3ad044a5438086d23f5bac3d50e5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe2d4c26b9e194c938f986385eb42aa37-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9144fe4e538e43b3a83a7efd69cdf33e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL31822eb9aa4a4f25b7bb00ac4f4f5360",name:"TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6134ae15b76b4c33ad0279d18a4e716c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL31ab3d8342fc46418f308ac7d58edd44",name:"TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC05de0c4f6caf41dfa476609d870ae107-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL31b33dde3ef34095a80c1e31c47f53b5",name:"TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCef750d205fed4140bbd6e700d7145af5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL31e4ea86f5084d3ea4616873ea37437b",name:"TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6215621b1da74f2f8435bf29728d7dd6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3227454faad944b1abd4df09276aaf0a",name:"TPT - JP - AEM - Line - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC24f1ef5da16e4b4cab4176b7c9beb255-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL325ea8f4d9834bf994d5c416b3cfb24b",name:"TPT - HU - AEM - Adwords - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe94244ed9dea4247ba4c6ca4b7b6b70a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL326ad553d6ab492f85cb1d8b6fdf7e59",name:"TPT - RU - AEM - DoubleClick - Configurator Last Page - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5ce877d94a634530a7447fdf0febd504-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL332be87612b3459a8846c76823d071b1",name:"TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en_IE/configure/G30",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf53f7b52ef046189f6f29a8abdf3046-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL332ddcbdd2ca47e38e990709f424d90b",name:"TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6517ea6d288d48b597635242e8c5f270-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3345b373143d46c3b2009312d08fad5f",name:"TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf0808063756d4babaf85f6305fc4731d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3349e05f55514f65ba2175464c709256",name:"TPT - CZ - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d431f6bb7444ea8b35b50365c9edf57-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL339ae49dfaa0471c9579f90bb735d495",name:"TPT - AT - AEM - Adform - Local form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaea807ac922947e4a111a52bd0677672-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33a986f82e05411281579d2df6690363",name:"TPT - FR - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC19fe0a4aed4e45bd94dd8f1462e50b11-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33bc8d67ab144113a7d277d7a4f2a88c",name:"TPT - UK - AEM - Adform - ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf67f536cce414bce8c5715fdea9c470f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL33bd9cd64f704615b5dcadd7704e8636",name:"TPT - RO - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8636942d144e42c48bdf10f5c88117b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL33d48a19890b4db2b1209a0681d63277",name:"EBR - DE - AEM - AA - Finance Calculator",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("tracking:fs showroom",(function(t){t.detail&&(_satellite.setVar("financeEvent",t.detail),e())}))}catch(e){_satellite.logger.error("EBR: Finance Calculator",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("financeEvent"),a=s.event[0].eventInfo.eventAction,o=s.event[0].eventInfo.eventName,n=s.event[0].eventInfo.type,i=s.event[0].eventInfo.timeStamp,r=s.event[0].eventInfo.cause,c=s.event[0].eventInfo.effect,d=s.event[0].eventInfo.eventPoints,l=s.component[0].componentInfo.componentName||"fs showroom",u=s.component[0].componentInfo.componentID||"fin > finance > fs showroom",b=s.component[0].componentInfo.componentType||"native in-page",m=s.component[0].componentInfo.primaryCategory||"finance",f=s.component[0].componentInfo.subCategory1||"offers",p=s.custom[0].product.productInfo.productName,g=_satellite.getVar("snapshotDL");t.prop1="nsc > "+g.get("page.pageInfo.pageName"),t.prop2=g.get("page.category.pageType"),t.prop19=l,t.prop41=b,t.prop42=m,t.prop43=f,t.prop44=u,t.prop56=o,t.prop57=a,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=i,t.prop52=r,t.eVar34=c,t.eVar17=g.get("user.-1.profileInfo.visitorID"),t.prop74=_satellite.property.name+"|EBR - DE - AEM - AA - Finance Calculator";var v=g.get("product.-1.attributes.mmdr"),h=_satellite.getVar("setDefaultProductVariables");h.id=g.get("product.-1.attributes.mmdr"),h.category="vehicle",h.merchEvars.eVar52=p,h.merchEvars.eVar60=g.get("product.-1.productInfo.manufacturer"),h.merchEvars.eVar10=v,h.merchEvars.eVar51=g.get("product.-1.attributes.bodyType"),h.merchEvars.eVar48=g.get("product.-1.attributes.modelCode"),h.merchEvars.eVar65=g.get("product.-1.attributes.modelName"),t.products=h.toString(),t.linkTrackVars+="prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"finance_calculator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL33e81b9ee15e4e66a93e2a1cbb4f041c",name:"TPT - JP- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b1aefa8a784421ea89ad741162abb0a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL345237f4eff84c40a247601b46508fe9",name:"TPT - NL - AEM - Adwords - Thankyou - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC92ac1502cd414875a24b68c471e90114-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL353541d2f4154438baa23b40d07e2af9",name:"TPT - CH - FORMS - Adform - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC55b8a8ebb2e54cb08c5e49996524c990-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3536eb56475b4f86940a2ce8d29f7218",name:"TPT - IE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:3e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c667990015a42899d33ec94418c4720-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL354d07248f73499c8d07355652896880",name:"TPT - BG - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcf8b64763c1345329789caa2215bfee3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL359c6b1968d548e5a19eb58f407c6467",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1789a064c9744b3baccd398b8e12bc30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL35a54826b55b4c7d86669f6d396db849",name:"TPT - BG - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa35355b24dfd4afa8beb0c7a4a59f551-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL35bf4087dbc64d4bae1e40ce983448ec",name:"TPT - PL - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf941c0fc9b24cbf8de61383a338054b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL35cc91fb20ef4a33a7eeaca9ca58b044",name:"TPT - CA - AEM - DoubleClick - CTA ViewPackage - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div:nth-child(19) > div > div > div.ds2-text-only--button > div > ul > li:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"/en/topics/owners/parts_service_warranty/service-maintenance.html"==document.location.pathname}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfa5a66784708477db3f97b9343beea30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL35d0ca8bfc484298999049b1bbcc356a",name:"TPT - CA - AEM - Facebook - All Pages - pageview-cleansed - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2a32fc8a99dc45c0aacf53d72c170e97-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL35f402208515459a8dc33f0004a75716",name:"TPT - SE - AEM - VWO - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc6b3c82dc18b42489a06407274e99e45-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL36343c1482e14b11bbd7b3121d782f06",name:"TPT - NO - AEM - Adform - BrochureDownload - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a226e3826ac4501833f8c24c6ae0d7c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL365346b51fd04658956e7625912b1e57",name:"TPT - RO - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb1f5176ef0af400287fb3284eb8ca49b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36b2bc7d52e740e6a50a299dcb7b9df6",name:"TPT - TH - AEM - Facebook - RFO Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",
eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5599196",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3e4f0f5e54734dfe921cd73733e6cf34-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL36c423bc372242d990f7826e24356f85",name:"TPT - CH - AEM - Adform - DCS - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC74d5861a1a6141ef8336228c23be41b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL36c6ae4c5a1643918de8d981c8c60d9c",name:"TPT - TH - AEM - GTagDC - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC46085766dc554792b9ef2ecb9ba14fb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL36e5bccb646d411f85c82ac735c02e39",name:"TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc7c187e26e214cb982959d99ac6defa4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36e73c5dfda74d229a4e0f154402d998",name:"TP2 - ALL - AEM - PDP PageView - P15R[C] - UC Bandaid",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.ch",valueIsRegex:!0},{value:"bmw.dk",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_52649",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc028c62a27e94b198f8e1a9ddb2dc11e-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3228586",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC26c532be63094988aa5b2cce9cdc97f0-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3373838",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2f6183f74b8f43759f63c008be4784f4-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1105308",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5faf4f76e4824a29b84381e7964c8d22-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_7001746",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbbf9e79d785e40a78b3adca4084a7255-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_272819",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC31b268b2ec70480da3cafea3feee1514-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2134895",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf2c7b55f5fea4b71b63adea20eb171e4-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2343481",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3cab35f3d8d44df4adc2b8ed17604055-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9485402",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC98960ebb142f4966ae5db182e5e5fe09-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL36ec783450d642308a03b7e1022090a5",name:"TPT - AU - AEM - Adform - eBroch Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc998dc40bd14e96aad953c273d196fe-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL36f1a58c3d2c48ada545f767c7bba20b",name:"TPT - SE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaca0fff621df436da6a8a2e45ae8548f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL36f656457a9740cbad70fdc5d098794d",name:"TPT - TH - AEM - Line - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66154d85f67f4a46bcf25fdefafb4b66-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL371e7e0bf539413194d0d9fe2f6623ee",name:"TPT - PT - AEM - Facebook - Configuration - Reservation Start - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC05cc92ea517a42f4b5255f982c8b0518-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL373ca459f3ef4285b7516e2d501bd4c5",name:"TPT - MY - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC67e978139919416495264fb453d1e98f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL374ba857febe41258d52a185d524fc21",name:"TPT - JP - AEM - Adwords - 24 TDA Page - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC290659b462674d1e990b7e7f2fb761ff-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3756312eb89b41c2b55d84941622e4a4",name:"TPT - RO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9158f34f0ccf4cbbb270a3902a3f03d5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL377533d123d7484d8957aca4df8d68f1",name:"TPT - FR - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb90edd6664ab47cea9f5570e379f05cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL379d5aa742c044e69646804b1d40ec64",name:"TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6be71ae75c39452e9b4059c4eafab056-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38015ca0992646b48638974cbd6bb0ee",name:"TPT - NL - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12c5a1ebe1a24e1384e4772fb36368eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3840cd6bcb1b4b978f77c401edac9e39",name:"TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC673d8da21fb0448da8142078a2032d03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38764532cc02427bb5ae73996b83c3dd",name:"TPT - UK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2dacd022d64e46448af752ccf03191d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL38e44aa24a8949ff9f7a96dd1ddaecdc",name:"TPT - IT - AEM - gTagDC - Form Tracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd2b933359b42420eae06b513e3f16f87-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL390c0e7e89754e7ba5b1b0569e61249f",name:"TPT - HU - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0bdd9f7ca9264bbf92f9c588a7dce227-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3913fb5017b94d61b93211fbbc58aa7f",name:"TPT - SG - AEM - Adform - Download catalogue - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download catalogue",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a3386a5dfd74fb99dba3889e789dc3d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL394b4dac8674405584c4e4bd4fce7a58",name:"TPT - PT - AEM - Facebook -  Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"#offer-progress-accordion > div:nth-child(7) > div > div > app-offer-overview > div > div > div > div > div.hidden-print > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38450087bfa54069982a20254e037773-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL394f266e4c7e4e2db9baa7a5ff76e145",name:"ACDL BMW - ALL - FORMS - DLP - 0020 - event cancellation of data with PII",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,market:!1,component:!0}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5659490",code:'    let component = (dl.get("component." + dl.get(\'eventInfo.reference.linkedComponent\') + ".componentInfo.componentName") || "").toLowerCase()\n    let eventEffect = (dl.get(\'eventInfo.effect\') || "").toLowerCase()\n    \n    const cancelRequest = {\n      "adobe form" : "https://atc.bmwgroup.net/jira/browse/AAAA-5765"\n    }\n    \n    const blockOnComponents = ["adobe form"]\n    \n    if (blockOnComponents.indexOf(component) > -1 && eventEffect.indexOf(\'gcdm_more request\') > -1) {\n        const pattern = /request.*/i\n        let PIIKeyword = dl.get(\'eventInfo.effect\').replace(pattern, \'potential PII removed\');\n        dl.assign(\'eventInfo.effect\', PIIKeyword)\n    }\n',path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL398a0f392a7542f48c9d6d4f892c21c8",name:"TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC134d76e4c1db4bb9b41abd30bef7643d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL399c01722a3345b986946c1023f42938",name:"TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb176796aa00240beb67edafd6e9ae4dc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL39b3f031c15a4f6fadea767e895f580b",name:"TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6eeefc6609244ad18a1f7889dce38fbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL39d3b49babb544cb82c297720c7b60c7",name:"ACDL GROUP - ALL - FORMS - DLP - 0009 - Page - Page fixes | AAAA-5551",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:9}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9815438",code:"\tif([\"/form\", \"-forms\",\"/lomake\",\"/skjema\"].some(keyword => window.location.href.indexOf(keyword) > -1)){\n\t  if ((dl.get('page.category.pageID') || '').indexOf('/success-') > -1 || (dl.get('page.category.pageType') || '').indexOf(\"error\") == -1 && (dl.get('page.pageInfo.pageID') || '').indexOf('error-pool') == -1) {\n\t\tif ([\"index\", \"home\", \"homepage\"].some(keyword => ((dl.get(\"page.pageInfo.pageName\") || \"\").toLowerCase().trim()).indexOf(keyword) > -1)) {\n\t\t  if ((dl.get('page.category.pageType') || '') == 'formssuccesspage' || (dl.get('page.pageInfo.pageName') || '').indexOf('success') > -1 || (typeof dl.get('page.category.subCategory2') != 'undefined' ? (dl.get('page.category.subCategory2') || '').indexOf('success') > -1 : false)) {\n\t\t\tdl.assign('page.pageInfo.pageName', 'request success');\n\t\t\tdl.assign('page.category.pageType', 'form');\n\t\t\tdl.assign('page.category.subCategory1', 'request success');\n\t\t\tdl.assign(\"page.category.primaryCategory\", \"forms\");\n\t\t  } else {\n\t\t\tdl.assign('page.pageInfo.pageName', 'request details');\n\t\t\tdl.assign('page.category.pageType', 'form');\n\t\t\tdl.assign('page.category.subCategory1', 'request details');\n\t\t\tdl.assign(\"page.category.primaryCategory\", \"forms\");\n\t\t  }\n\t\t  dl.assign('page.pageInfo.pageID', (dl.get(\"page.category.pageType\") || \"\") + '/' + (dl.get(\"page.attributes.brand\") || \"\") + '/' + (dl.get(\"page.pageInfo.geoRegion\") || \"\") + '/' + (dl.get(\"page.pageInfo.language\") || \"\") + '/' + (dl.get(\"page.category.primaryCategory\") || \"\") + '/' + (dl.get(\"page.category.subCategory1\") || \"\") + '/' + (dl.get(\"page.category.subCategory2\") || \"\") + '/' + (dl.get(\"page.category.subCategory3\") || \"\") + '/' + (dl.get(\"page.pageInfo.pageName\") || \"\"));\n\t\t} else if (![\"index\", \"home\", \"homepage\"].some(keyword => ((dl.get(\"page.pageInfo.pageName\") || \"\").toLowerCase().trim()).indexOf(keyword) > -1)) {\n\t\t  if ((dl.get('eventInfo.effect') || '').indexOf('form finished') > -1 || window.location.href.indexOf('success') > -1 || (dl.get('page.category.pageID') || '').indexOf('/success-') > -1 || (dl.get('page.category.pageType') || '') == 'formssuccesspage' || (dl.get('page.pageInfo.pageName') || '').indexOf('success') > -1 || (typeof dl.get('page.category.subCategory2') != 'undefined' ? (dl.get('page.category.subCategory2') || '').indexOf('success') > -1 : false)) {\n\t\t\tdl.assign('page.category.subCategory1', 'request success');\n\t\t\tif (dl.get('page.pageInfo.pageName') == \"\"){\n\t\t\t\tdl.assign('page.pageInfo.pageName', 'request success');\n\t\t\t}\n\t\t  } else {\n\t\t\tdl.assign('page.category.subCategory1', 'request details');\n\t\t\tif (dl.get('page.pageInfo.pageName') == \"\"){\n\t\t\t\tdl.assign('page.pageInfo.pageName', 'request details');\n\t\t\t}\n\t\t  }\n\t\t}\n\t\tdl.assign('page.category.pageType', 'form');\n\t\tdl.assign(\"page.category.primaryCategory\", \"forms\");\n\t  } else if (((dl.get('page.category.pageType') || '').indexOf(\"error\") > -1) || ((dl.get('page.pageInfo.pageID') || '').indexOf('error-pool') > -1)) {\n\t\tif ((dl.get('eventInfo.effect') || '').indexOf('form finished') > -1 || window.location.href.indexOf('success') > -1 || (dl.get('page.category.pageID') || '').indexOf('/success-') > -1 || (dl.get('page.category.pageType') || '') == 'formssuccesspage' || (dl.get('page.pageInfo.pageName') || '').indexOf('success') > -1 || (typeof dl.get('page.category.subCategory2') != 'undefined' ? (dl.get('page.category.subCategory2') || '').indexOf('success') > -1 : false)) {\n\t\t  dl.assign('page.category.subCategory1', 'request success');\n\t\t} else {\n\t\t  dl.assign('page.category.subCategory1', 'request details');\n\t\t}\n\t  }\n\t\t\t \n\t\t  if(dl.get('page.pageInfo.destinationURL') && (dl.get('page.pageInfo.destinationURL') || '').indexOf('.fi/fi_FI') > -1){\n\t\t\tdl.assign('page.pageInfo.geoRegion',\"FI\")\n\t\t\tdl.assign('page.pageInfo.language',\"fi\")\n\t\t}\n\t  dl.assign(\"page.category.primaryCategory\", \"forms\");\n\t}\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL3a0282b8501e427da30e19b718e738e7",name:"TPT - SK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2157279921fd41c1a555e9225afa0919-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3a30d76ac6894b25b173c38da35f54a1",name:"TPT - ZA - AEM - Adform - Offer and Financing CTA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"#prices-financing",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc34abbeb57954136a75e3782b8231f79-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3a4d5310df734a60b5faebcfcefd3f31",name:"TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.button-blue",elementProperties:[{name:"title",value:"Zoeken"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7198efb348b4460299329d1c0f7f23f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3ab710f9d25d45cc8145640eecd462a5",name:"TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC63db9110f3a4432b9a17f8da52b952fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3af571bdb84e4dfabe8e1eb65a0fd976",name:"TPT - DE - AEM - Adform - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return" Jetzt zahlungspflichtig bestellen"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC48f107927d934c48a9bbe67707d00ef6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3b2ba4f605734eea85fec408e0d20ee6",name:"TPT - PT - AEM - Adform - iFrame RFC Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6c0fee4b7af8424c8c9a2de25190ab12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3b955d1644d44e8096b789a9c9e23d7a",name:"TPT - RU - AEM - DoubleClick - Started Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC35afb097f0604173a2e719205b69592e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3b9f36c2b6354173ba1b799a0e5e8b13",name:"TPT - PL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd9b9881a6f7e4b2b8f1427ddc6c6473c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3bc0e21f3c35475ea1a2f2f0d94be516",
name:"TPT - PT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC40f33e1fb8f64c2087fe39c89f398275-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3c4b4183419d431a802b502e44cfa1c2",name:"ACDL GROUP - NO - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaabac8067c7a4fd6bfc924983cfdeaf1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3c58fbbdd23441728cc13adc8cb53386",name:"DCR - All - AEM - AA - Electric Range",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric_range_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric-range"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),i=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),r=_satellite.getVar("AA-componentDefaultValues"),c=_satellite.getVar("smartPreviousValueManager");if(-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=s.get("component.-1.category.componentType"),t.prop45=s.get("component.-1.category.componentVersion"),t.prop56=a,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop13="bmw",t.prop19=s.get("component.-1.componentInfo.componentName"),t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),t.eVar71=s.get("event.-1.attributes.requestedURL"),t.prop42=r.primaryCat||"datalayer field empty",t.prop43=r.subCat||"datalayer field empty",t.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponent.componentInfo.componentID")),t.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop59=s.get("product.-1.attributes.configID"),t.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==a||"error"==a&&(t.events=t.apl(t.events,"event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931")),t.products)t.products.indexOf("search")>-1&&(d=_satellite.getVar("setDefaultProductVariables"),t.products+=d.toString());else{var d=_satellite.getVar("setDefaultProductVariables");t.products=d.toString()}"tr > errors"!=t.prop56&&"error"!=t.prop56&&"error"!=t.prop53||(t.events=t.apl(t.events,"event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",c.update("pageName",t.prop1)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"electric range",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL3cc14b76fbe2451d8cab74b2d921d686",name:"TPT - AT - AEM - GtagDC - Forms Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC25c65703c8ca4ec5a890e40822ff59a5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3cd6abe89f71489ea8f61fa5d56f5222",name:"TPT - IT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html|/it/topics/test-drive-now/panoramica.html|/it/topics/richiedi-preventivo/panoramica.html|/it/topics/offerte-bmw/panoramica.html|/it/topics/bmw-cataloghi.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC37ff15c5da784db283ba5943072868f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3cf2e68533904efe9077b9470ce54ad1",name:"EBR - SE - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.se"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfb2ed93f5bb249e6bf69166889368aff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3cf32a24bc4b4e5fbd9e7930e7c8bf31",name:"TPT - MX - AEM - Zeta/IgnitionOne - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC945f00b6a6d64a4c92d35df85af683c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3dc317863a734f55a1f13db2cdaf7b80",name:"TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab4df8660b724bfd9fc444075cebafda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3dc6be4d8ab54712bd99f9c1f1791109",name:"TPT - JP - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC522f0f0a40e34f62b945b062344272b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3ddf90e0a4b746e48580a7c6a2c779f1",name:"TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc7b8448364144c8c81334f8590d9dd6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbc1bc791dd85402db24cbb768bf26627-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3de3006482e64368be3fc226c49aeb00",name:"TPT - PT - AEM - GtagDC - Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC421573be0b48464ba60f55dec2253bd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3dfec2ba55aa4a6b9131d76444278209",name:"TPT - TH - AEM - Floodlight - Test Drive Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc239274ba3d44ed28e0f184fe23e9f89-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3e17c4ac889945ae92b0cff1dd8699c6",name:"TPT - BE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4e6d011e552f4fcbae861381d1f09cd8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3e3deb972b184393a6e96d0dde382780",name:"TPT - NZ - AEM - DoubleClick - DemoEvent Request a Test Drive - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.hide-for-large-up:nth-child(5) > ul:nth-child(1) > li:nth-child(1) > a:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-text-only--button:nth-child(3) > div:nth-child(1) > ul:nth-child(1) > li:nth-child(1) > a:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-text-only--button:nth-child(2) > div:nth-child(1) > ul:nth-child(1) > li:nth-child(1) > a:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc83efee4e0d640e5984592f2f5d4de77-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3e60ed00eec2467e92845a85c16b145c",name:"TPT - TH - AEM - TikTok - RFO Form Interaction - event-cleansed - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_8711600",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcf9844fb63024b328f4bb4bf66c15120-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TikTokPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL3e9d57094e4346c1a18b83f302272b4c",name:"TPT - ZA - AEM - Effectivemeasure - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdcb7ec584d1b40baabca3379804c2af7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3f5fd449c90d494cb64bb30b961a0d65",name:"TPT - NL - AEM - Adform - Confirm reservation click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Bevestig reservering"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC327e0c182971429ea66a86bcf08d76b5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3f639fc80d4a4d039ebf312f6fdb5ed1",name:"TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-hoest-vinter-tillbehoer.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC282240427e68420a9ea6025e0e5b4cfc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL3ff7749afea049b4bb66637d5801e2e0",name:"TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ecf3782692f4feea97abbf158acecbf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40104915c10b430f9830ad4ff0549c32",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC945c621814104e19934739b5eb00eb5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40386bee968e49d9a2d13c3a22935fba",name:"TPT - PT - AEM - DoubleClick - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC24360837566241aba74c13453d24d8bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL403b6dd0df154dc09eeeb9afd872bde8",name:"TPT - ES - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c094213e2674f94b16379c682c2c338-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL403bec51aae5485e84ae45ce0b81d1ea",name:"TPT - JP - AEM - YDN - All Pages - PLR -p15r[l] - Test",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2df7e34a30a44e5aa216068eab40e23b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9e7355f035ff478e974397453753503d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL40522d1eceb94aa38e41ed8de4ec6ad3",name:"TPT - BE - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8ae0fb17f5cd40cabd92d70c4a06a428-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4068ba1d1607426c8a36faa12cd6195b",name:"TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa9f37bf8905e4e53878e8fdc9f5be94a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL408837daf5e74f368fbe55320632a030",name:"TPT - TH - AEM - Floodlight - All pages ShopOnline - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.cmp-globalnavigation__list > li:nth-child(4) > button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCec328489bab24946b58b257ce3e43962-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL409900892dce4382a054fac5117345e7",name:"TPT - NZ - AEM - DoubleClick - i4-M50 Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventAction"),t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return"Outbound click"==e&&"Download Brochure"==t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8d29e857da374eff85682e018cb013ec-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL40e1d32bfb554152bef0b64f1a09d907",name:"TPT - SI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!1,anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3d6f6ebc00b2427b93c4da42e2c3f335-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc8250b6a6f64918b0e65e9b2b3964de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL40fb0896a6ec46e5a8d36fb8193b78b5",name:"TPT - PL - AEM - Adform - Form Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b43553be6184f48a4e26444e6297b9b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL410098f1bf8948489ee9a809214653f8",name:"PLR - SE - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.se"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf3cd3864b7dd49589d1ed4ccc42f33f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41010cda819b4b2ea493cca83a52f393",name:"TPT - TH - AEM - Floodlight - Link to Get Offer - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-20f7aff6d4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e2c364d6ae.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-eb4fbb0245.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-4b5f2b21f4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-87e7f420b3.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-82ce5315dc.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-3e2adb97e4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-6d6d318fbf.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51ad3f462.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-f4684f8185.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2d01a1c77f.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-c96527d316.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-41112154dd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-010491c873.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd1940845388b4f8883300e9a11fd3396-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL41316ad282d94bc590b3c208dabedb30",name:"DCR - All - AA - Custom Code - TRON Error Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:electric range calculator",(function(t){_satellite.logger.log(t,"error register on Electric range calculator"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:all models list",(function(t){_satellite.logger.log(t,"error register on All Models List"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:dynamic disclaimer",(function(t){_satellite.logger.log(t,"error register on Dynamic disclaimer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:visualizer",(function(t){_satellite.logger.log(t,"error register on Tron visualizer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())}))}catch(e){_satellite.logger.error("TRON Error Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric",e)(t),_satellite.setVar("errObj",""),t.events=t.apl(t.events,",event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL416605902e30421c93b6368212d77092",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{
modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC06e9b1c8b3794633bf3a1c0397ef47c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4197f741607643c4919c386b5a624eed",name:"TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC01295fe894394426abe7fb163b256d35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41af36748f2349a7a8bce76247b2b759",name:"ACDL GROUP - DK - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa4f0b1ed2a354b63b0c0c1727ff22ee9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41b76ab9c9c34944a4e5a535e0a70773",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC68a5b714a8f543b9b7369f832493f58d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41bd51ef023042419ade945c12ecbb23",name:"TPT - ZA - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC22bf84f59f254408b962a4d2247718c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL41e39d3243434d38ae87fb4a4e7af9ba",name:"TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0},{value:"p152.bmw.com",valueIsRegex:!0},{value:"m152.bmw-int3.com",valueIsRegex:!0},{value:"m152.bmw-int1.com",valueIsRegex:!0},{value:"m152.bmw-int9.com",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfe6669cac49b4138bd28b8399388d5e9-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4218f4009c2d47018d23fbfde27ee2dc",name:"TPT - PT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5812a62f1ecd46dd8908f313b4b84b14-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL42bae5e57b364999adf6d8ac18e8569a",name:"ACDL GROUP - ALL - DCS - DLP - 0050 - Product - Default Product",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!0,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_3254455",code:"    const validProductCategories = ['new vehicle', 'after sales', 'used vehicle', 'other', 'search'];\n\n    const categoryLookup = {\n        'new car': 'new vehicle',\n        'new bike': 'new vehicle',\n        'con options': 'new vehicle',\n        'finance': 'new vehicle',\n        'preorder car': 'new vehicle',\n        'used car': 'used vehicle',\n        'used bike': 'used vehicle',\n        'oneshop': 'after sales',\n        'accessory configurator': 'after sales',\n        'accessory request': 'after sales',\n        'service request': 'after sales',\n        'owned car': 'after sales',\n        'owned bike': 'after sales',\n        'ride and style': 'after sales',\n        'online appointment scheduler': 'after sales',\n        'rental car': 'other',\n        'rental bike': 'other',\n    };\n\n    let productKeys = new Set(dl.get('eventInfo.reference.linkedProducts'));\n    let cartItemKeys = new Set(dl.get('eventInfo.reference.linkedCartItems'))\n    let transactionItemKeys = new Set(dl.get('eventInfo.reference.linkedTransactionItems'))\n\n    let combinedUniqueKey = new Set([...productKeys, ...cartItemKeys, ...transactionItemKeys])\n\n    function getProductType(primaryCategory) {\n        // Check in the lookup table first\n        if (categoryLookup[primaryCategory]) {\n            return categoryLookup[primaryCategory];\n        } else if (validProductCategories.includes(primaryCategory)) {\n            return primaryCategory;\n        } else {\n            return 'new vehicle';\n        }\n    }\n\n    function getUpdatedFuelType(fuelType) {\n        const fuelTypeLower = fuelType.toLowerCase() || ''\n        if (fuelTypeLower.includes('gasoline')) {\n            return fuelTypeLower.includes('hybrid') ? 'x' : 'o';\n        } else if (fuelTypeLower.includes('diesel')) {\n            return fuelTypeLower.includes('hybrid') ? 'y' : 'd';\n        } else if (fuelTypeLower.includes('electric')) {\n            return 'e';\n        } else if (fuelTypeLower.includes('petrol')) {\n            return 'b';\n        }\n        return fuelType;\n    }\n\n\n\n    function assignAttributes(objectType, key) {\n        const path = `${objectType}.${key}`\n        const PCT = dl.subSom(path)\n        const { attributes, category } = PCT.getSubNodes();\n\n        // Determine and assign product type using the single lookup table\n        const primaryCategory = category.get('primaryCategory').toLowerCase() || '';\n        category.assign('productType', getProductType(primaryCategory));\n\n        // Assign 'trimLevel' based on 'salesModel'\n        attributes.assign('trimLevel', attributes.get('salesModel'));\n\n        // Update and assign fuel type\n        const fuelType = attributes.get('fuelType');\n        const updatedFuelType = (fuelType && getUpdatedFuelType(fuelType)) || undefined;\n        attributes.assign('fuelType', updatedFuelType);\n\n        // Assign 'status' based on 'vehicleSelection' or 'vehicleStatus'\n        const status = attributes.get('vehicleSelection') || attributes.get('vehicleStatus');\n        attributes.assign('status', status);\n    }\n\n    // Main processing loop\n\n    if(combinedUniqueKey.size){\n        const objectTypes = ['product', 'cart.item', 'transaction.item'];\n        objectTypes.forEach((objType) => {\n            if (dl.get(objType)) {\n                combinedUniqueKey.forEach((key) => assignAttributes(objType, key));\n            }\n        });\n    }\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL42f074d7eabd4dcdb10c9e57892c0825",name:"TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd1e689b55238432e90fd5414fcb3b757-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL42f7974628bf4f089b8b03c00e9bf8c4",name:"TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Salgskampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfa8c1934026042d1b29132cef43888ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL437710dbc97143738132ac31ca3c21d4",name:"TPT - TH - AEM - Facebook - Link to Shop - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0441f4b2b5bf4cfa80cb29ca2c1e71b7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL437b9c2366da41798142944da12c8b31",name:"TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcee0cd15ffd248c1af39f8caf315c048-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4397296258c2445d85da07566d92a48c",name:"TPT - DE- AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7773d72899a141fa9ce4f7b2e917faeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL43acbc5240064b56b1c2144fb8331a71",name:"TPT - PT - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC11e27b267cf74d9cbc9f62841a90f6b4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL43ef39cc220f41fdafef52e0a05dda9d",name:"TPT - PT - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7be4f4c41b3c42e091bffcada1cb76f1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44261bb26eb9413bb5b4e233057d9202",name:"TPT - All - AEM - WebVitals - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa2343408ba01477580e4a3fe87f58687-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4442bae43e1341a2bc2bcb8b2c297946",name:"TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC39eb83e56c9b45569a09d66a590d8ee7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44443cfd9e31467d9ec10eb30f2a0a9d",name:"TPT - NL - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCadfe53b2e34e4e3cb4d7a7edd16c48eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4456824527214ee48bf71a30d8842c17",name:"TPT - UK - AEM - Facebook - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ee0af20961a42c99b2eeaf53fccbec6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44790a548ed244ed94124e5207bd310d",name:"TPT - GR - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC077a5b1987514531afca52d99c862fa1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL448c9f111a224c54ae830661246aa310",name:"TPT - HU - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC231b44f58d024ffeafb950a6eb3d5a84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL449653d360e74028bed699624ed5aba8",name:"TPT - CZ - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd712e87cd0cb4e05b7d988a0d12cba13-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4499bb361f564ed78761f0f08a8fbf42",name:"TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC897eef31ced2484888da9ffa9d48c4bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44a9c5174d22432cb67e82f978b7c923",name:"TPT - RU - AEM - RuTarget - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe8d350aeb5824f12ad7fb0da66546314-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44c98eb3a2ae41bd8932b413c4397d2e",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb8eb8d21a5b547f7b70f185969dc0d22-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL44eb818eb9a9413ab52961fbb8c52812",name:"TPT - BG - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb826e6c5947548ed9dca88a113fc0f66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL450bf7700eea4b319e761f0750e3a2cb",name:"TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5e94f6d2d3474d4abf087ea2351d1714-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL452179c4ddcb401e9a061557d170b0f5",name:"TPT - UK - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa9b0d98446094cd6807dc2c2dbc241db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL454c7dc42f654dc48aa220be20d5fedf",name:"TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/ssl/book-a-video-consultation.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC03a14a68d979426a84dae82242e7f5e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL454d683ba2f743978b727a20265de226",name:"TP2  - ALL - AEM - StoLo details AIA - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("getDL",e).get("eventInfo.eventAction"),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/stocklocator",valueIsRegex:!0},{value:"/neuwagensuche",valueIsRegex:!0},{value:"/garageonline",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/results",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6407848",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4a60e66036544966abfd01ee893472c6-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!0,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL455223087f554373ad4eea969ce91cde",name:"TPT - DE - AEM - Adform - Stock Locator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC219766343a184c44b2630b128784513d-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL45549131ea024878a2dda3e6b8e61c60",name:"TPT - RO - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCddad5b7fefe84bf98f7bd4e7884ca6f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL459815baa4924caca031405cd7c6805d",name:"TPT - BR - AEM - DoubleClick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3a08e2143d0e4e9fa75780c7ad4a9efa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL45a7b09e3e684782909a908b2a2554c6",name:"TPT - CZ - AEM - Adform - Showroom - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb1c7becb57e34f2d99cd5069d7c033a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL45d95c5dc6f1494ebb713f77f811d8e5",name:"TPT - NO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa51e9a36026c440ba50b69df6b9e5a85-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL46034c63990541bda118036abca251c5",name:"TPT - JP - AEM - Adwords - TestDrive Campaign Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa7cf2a8b33954197a8a7152708b88827-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL460b6f15b4954c83b086d90c3f0d6b04",name:"PLR - All - AEM - AA - 3rd Party Event Listener",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("StockLocatorEvent");t.prop44=s.component[0].componentInfo.componentID,t.prop19=s.component[0].componentInfo.componentName,t.prop41=s.component[0].category.componentType,t.prop42=s.component[0].category.primaryCategory,t.prop43=s.component[0].category.subCategory1,t.prop56=s.event[0].eventInfo.eventName,t.prop57=s.event[0].eventInfo.eventAction,t.prop58=s.event[0].eventInfo.eventPoints,t.prop53=s.event[0].eventInfo.type,t.prop12=s.event[0].eventInfo.timeStamp,t.prop52=s.event[0].eventInfo.cause,t.eVar34=s.event[0].eventInfo.effect,"locally developed"==t.prop42&&(t.eVar137="local"),"stock > sl > vehicle"===t.pageName&&(t.pageName="stock > vehicle");var a=_satellite.getVar("setDefaultProductVariables");void 0!==s.custom.product&&(a.id=s.custom.product[0].productInfo.productID,a.category=s.custom.product[0].category.productType,a.merchEvars.eVar53=s.custom.product[0].category.primaryCategory,a.merchEvars.eVar54=s.custom.product[0].category.subCategory1,a.merchEvars.eVar52=s.custom.product[0].productInfo.productName,t.products+=","+a.toString()),t.linkTrackVars+="prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,eVar137,products,pageName"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{props:[{name:"prop1",type:"value",value:"stock >  vehicle"}],pageName:"stock >  vehicle"}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"3rd party component (3CT)",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL46206c308aa64698a327102d249fcd26",name:"W - All - AEM - AA - BMW Registration Start",events:[{modulePath:"core/src/lib/events/click.js",settings:{
elementSelector:"#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==a.indexOf("nsc >")?"nsc > "+a:a,t.prop11="Registration",t.prop8="form started",t.eVar34="nsc > form started",t.prop19="registration",t.prop6=t.prop53="central form",t.prop7=t.prop55="My BMW Registration",t.prop17=s.get("transaction.-1.transactionID"),t.prop54="registration",t.prop56="form",t.prop10="dedicated forms",0!=s.get("product").length){var o=s.get("event.-1.category.mmdr"),n=_satellite.getVar("setDefaultProductVariables");if(n.id=s.get("event.-1.category.mmdr"),n.category="vehicle",n.merchEvars.eVar10=o,t.products=n.toString(),"undefined"!=t.products){var i="",r=0,c="",d="";r=(i=t.products).indexOf("eVar"),c=i.substring(r,i.length),d=i.substring(0,r),r>0&&c.length>0&&(t.products=d+c.replaceAll(/[,]/g," "))}}t.events=t.apl(t.events,"event93,event94,event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event93,event94,event3,event4"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Start",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL46276b9f17364c3b8ec20eb0b854ef7d",name:"TPT - FI - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54b801fe989048a6bf15199fd6160fba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL463dd1a94dfc43fdbcff32b6cc5b9ecb",name:"TPT - TH - AEM - Facebook - Link to Test Drive - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-89864b518d.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-b22b3baadd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:50}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa0d9aef7b4549609681ef87d3a49a0b-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL466e9dd8c57a455dbe2ce7a76a1ba9ac",name:"PLR - LU - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCde3234dd4417494caa591dc32e16e83d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL46a998702dbe453c88f1a6dc9acd6e3d",name:"TPT - ZA - AEM - Twitter - BMW FIN SERVICES Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5b9831ca39494594870e668054e36e2e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL46c7097f0e8b404d9ab742cfd4843458",name:"TPT - IE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC73c35152456b4492ade040674d68fe93-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4710b9b1f00349b0a1d2c73c29a3c5a2",name:"TPT - ZA - AEM - LinkedIn - BMW Customer Support Multpile - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33633ec7d2804bb28f274bf32f87ddb1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL473c9e0c973549e3a2af271c2e3b810e",name:"TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC61ca412748a54580a27ddf70ea36788e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL475ddbdb4ea24f1db32aff3dd435dce4",name:"TPT - IN - AEM - gTagDC - Form_Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4b675a57e91849dd9e643021b312e443-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL4848a9451c9d49d2af14e02aa5f22305",name:"TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Oversikt over alle BMW (i |)kampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Kontakt din forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfe8e6d6723f4450cafd95893f7423a12-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4859e26dedee461085bd4aeafa5f4591",name:"TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93a1abeed0f749f1b2c09b251379e1ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL48a2b2d0bfdc4b96ae620995380ea8c1",name:"TPT - JP - AEM - Pardot - All Pages - PLR -p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6f5e555642f040b5adb3719535e35482-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL48b0fe24748a4220b2c84707846c52b1",name:"DCR - All - AEM - AA - My CE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),o=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var i=_satellite.getVar("setDefaultProductVariables");i.category="new vehicle",i.merchEvars.eVar53="new car",i.merchEvars.eVar54="build to order",s.products=i.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.update("pageName",s.prop1);var r=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("component.-1.componentInfo.componentName"),s.prop42=r.primaryCat||"datalayer field empty",s.prop43=r.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.cause"),u=a.get("event.-1.eventInfo.eventAction");s.eVar18="",s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop54=a.get("event.-1.category.primaryCategory"),s.prop57=u.replace("phone","p h o n e"),s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 MyCE","MyCE Error"==c?(s.eVar34="nsc > "+d.replace("phone","p h o n e"),s.prop51=c.replace("phone","p h o n e"),s.prop52="datalayer field missing",s.prop53="backend 3rd party",s.prop55=l.replace("phone","p h o n e"),s.prop56="error",s.events=s.apl(s.events,"event931"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931")):(c=c.indexOf("click")>-1?c:c+" clicked",s.eVar34="nsc > "+c.replace("phone","p h o n e"),s.prop51=d.replace("phone","p h o n e"),s.prop52="default",s.prop53="ux",s.prop55=l.replace("phone","p h o n e"),s.prop56="interaction"),s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(a){_satellite.getVar("catchblock",t)(s,e)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL48c169f16cb94afa923c8acc2e91d37f",name:"TPT - HU - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd4e4e6f8cd734f76bd1caddc9a87799b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL48d1975326054a80ac66a4b1ebe63050",name:"HT - ALL - NSC - AA - ActivityMap for link and region",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dynExec.js",settings:{ID:"DYN_action_3761877",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa46f2453655a40f1aaa5241976978d91-code.min.js",path:"",type:"DYN"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dynExec.js",settings:{ID:"DYN_action_731908",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC41c07c1e4c21467f853635608f06ee72-code.min.js",path:"base/activityMapShadowRoot",type:"DYN"},timeout:8e3,delayNext:!0}]},{id:"RL49bdff4d2e98494eb07fcdd827785117",name:"TPT - DE - AEM - Adform - All Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd7f46a1f0c5b4e15a0e2477fef4428cc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL49cf779e02854122a7c83798570e28db",name:"TPT - GR - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7899b777dc04439caee8f5cecedd6da5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a28b3b5c649448cae130e9c25c321a1",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC20fe481613314526b9c2f1ff9c6f3864-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4a4355d0a99e46999325da47189568d1",name:"TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16a4c21106ea4121a3df4cb85fd6a16c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a77162aafc44ce9a303b62e89063830",name:"TPT - LU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6002885a033546198803e9bab07b0a42-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4a9d6aab2b8e47ef88545f791f1fa65a",name:"TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b981f942db84466af1bd45a8ccd6cc8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4abadb444a1946edb58e4e1d65c9cb8d",name:"TPT - NO - FORMS - Adwords - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC931c5910c54e4c67a99cd19f0a485c84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ac43742c69743968003220c2936e68d",name:"TPT - SK - AEM - Adwords - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC515c37a0ee2d4c8eaabde0d40046dd1f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL4af9db78504a48cf8b59ae4462b88539",name:"TPT - AU - AEM - Floodlight - Brochure Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc8cdca40861a44729c6b127661ff476c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4b3d72ec5cee4ed3bdf91b2d2bf51240",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf691d7e258774ed5bf9dae5f7b85e1c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4b92442e4f94415d96e6b5d962caf903",name:"TPT - HU - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCca28f61c69b349468402f14b641bf614-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4b9ad3daee054b0b8fefaac3972ffd5a",name:"TPT - RU - AEM - Floodlight - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC044ab8a481f44565a9a5b87784be1625-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ba6d926a4fb4cda8111206d9c9ec5d4",name:"TPT - JP - AEM - MicroAd - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4133d6ffc2804e4c98acae57cfed3839-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4bab2c80db724ed2b5a75438df765b9a",name:"TPT - GR - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/el/publicPools/success-pool/success-page-tda.business-forms.html|/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf6ca65558519472fb43017333c3296bd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4bd2e77a466d4ed2861dfcec68ae0488",name:"TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc77a2efe3267442ca97450cd5d2a3027-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c02a496e68c48d5993d4087d3a03187",name:"TPT - HU - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC27ff1478831149729835d85aa6f8f817-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c0c97a918fb433cad25fc6180ca4cb6",name:"TPT - TH - AEM - Line - Link to Test Drive - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1b75430554.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-395773fc2c.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c5d98c1e1cd4ecfa9a87da3e1b8a132-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL4c257f52ade548a1a4041684d962add2",name:"TPT - SK - AEM - Adwords - All Pages - PLR - p15r[c]",
events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC588b3fa7f1ed418a8e2b73ade2c5d1aa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c3bbdc1197d4ad8b0b04c325a7336d1",name:"TPT - UK - AEM - Floodlight - Submit Click ROI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32b991d9beaf4d95a663d8185154886f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4c62bf8985d54f83a571d3cff53432e7",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0371ff9426d423d82a76a5012d6a2b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4c69803ae02041f6a792a64bfc21de6b",name:"TPT - AU - AEM - Adwords - All Pages - PLR copy",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8b3f9eba45b428f88dfaab75ff687f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4ca094a0d715420c9a4581e9982778de",name:"TPT - SK - AEM - Facebook - Form Submission - RFC Submission - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"sk/publicPools/success-pool/success-page-rfc.html.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4fff141ce2554459a6f41f1b63611303-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cbc631f66ad4e8e936598f39b4f8de6",name:"TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9241fbd123554bcf8d49e80b689fd785-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4cf6a555e22e4401b04fe27639998dda",name:"TPT - DK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC560355a909e34afea45b970fe0c7bcda-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4d2f6ebbd6b24bc9962f53f86a174251",name:"TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/electromobility2020/elektroautos.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4fc103ec55804bd2b98bc12f744e6297-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4d614c455f8c4616825392491f42dc1e",name:"TPT - SK - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe1889be5c4614b63b2c6f03f4583b906-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4db21cca6f584ef6b6a8db9af204f885",name:"ACDL GROUP - ALL - ANY - DLP - 0030 - get missing products from legacy DL",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){const t=e.detail;return t instanceof adobeDataLayer.Som&&"page view"===t.get("eventInfo.eventName")&&["showroom","all models"].indexOf(t.get("page.category.primaryCategory"))>=0&&(void 0===(s=t.get("product"))||!Object.keys(s).length);var s}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_356739",code:'let pg = adobeDataLayer.util.getLegacyTrackingPage() || {};\nif (pg.product && Array.isArray(pg.product)) {\n  let anonProdID = 901;\n  showroomProducts = pg.product.filter(it => adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n      () => !it.category && it,\n      () => /^mini$/i.test(dl.get("page.attributes.brand")) && it,\n  ])).map(it => {\n      const cP = Object.assign({}, it);\n      cP.productInfo = cP.productInfo || {}\n      cP.productInfo.productID = cP.attributes.mmdr || "product" + anonProdID++\n      delete cP.attributes.modelCode \n      delete cP.attributes.modelName\n      cP.category = {\n        "productType": "new vehicle",\n        "primaryCategory": "new car",\n        "subCategory1": "build to order"\n      }\n      return cP\n  })\n  console.log(pg.product)\n  dl.assign("product", Object.fromEntries(showroomProducts.map(it => [it.productInfo.productID, it])))\n  const prodRef = showroomProducts.map(it => it.productInfo.productID)\n  dl.assign("eventInfo.reference.linkedProducts", prodRef) // no need to merge, aswe had no product, so any ref would be invalid anyway\n  dl.assign("page.pageInfo.reference.defaultProducts", prodRef)\n  adobeDataLayer.extEvntData.cache.assign("page.pageInfo.reference.defaultProducts", prodRef)\n}\n',path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL4dbb5e8482184700a42def00f45be508",name:"TPT - SG - AEM - Apex - BMWi4 - Book a Test Drive - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation.ds2-accessibility > div.ds2-stage-presentation-quick-facts.ds2-presentation-teaser-background-grey.button--ghost-style-white > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta > div > div > div.show-for-tablet-only > div > ul > li:nth-child(2) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC47be1ea324b0454fb66a03b9dbacc98b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf1aa92df1f804f359fdf0dcc085f3dd1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4dbc84387d454425bd47f156e5852a4c",name:"TPT - UK - AEM - Adform - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Download a brochure']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe0cd8ded02df46018612abfad59515e9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4dc61a01fea740c0aed72f6be11c75d9",name:"TPT - NL - AEM - Adwords - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb27529f18dc04f189d933f66b451ab07-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e1f48091eb94ce9b77e15bf8765a745",name:"TPT - SG - AEM - Tradedesk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa20d517d141c48f8815da39d726e7c08-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e404ebf131b42dfbe76bbd21197be62",name:"TPT - SG - AEM - LinkedIn - Multiple - PLR - p15rl[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC213e103896de44a7bca8f317e0e4493e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e52a46cb4a0403eb592467c2146bfe0",name:"TPT - PT - AEM - GTagDC - Shop - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ca97cc9511b46b3b7d657afc6779603-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e78f117d2834ce68138876c648dd25c",name:"TPT - IE - AEM - Floodlight - TradeInRequest View - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"en/topics/discover/forms/trade-in-request",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfd22704fe5814365b30fc7a5779e7906-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e8c22d3333047ceaa5b0ba493e110b2",name:"TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5a3378da0ca642c281e688e2e5b3cc23-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4e92b2f5a24744dd97bb09806cec13d7",name:"TPT - MX - AEM - Retargetly - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC850eec5d245e4aa8bab73e777f180ae4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4eaf4677bf834628a331fac2238d4b35",name:"ACDL GROUP - ALL - ANY - DLP - 0200 - Clean Price Data Layer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:200}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6191555",code:"    const ENUM_EVENT_PERMISSION = {\n               'ALLOW': 'ALLOW', /* return the complete list of events*/ \n               'DENY': 'DENY', /* Delete the events that are not supposed to be present in the s.events */\n               'FILTER' : 'FILTER', /* Use to filter the merchandising events - event keept in s.events but remove potentially from merchandising event*/\n            }\n    \n    const whiteList = {\n         \"con\": {\n             \"permission\":ENUM_EVENT_PERMISSION.ALLOW\n         },\n         \"stock locator\": {\n             \"permission\":ENUM_EVENT_PERMISSION.DENY\n         },\n         \"oneshop\" : {\n             \"permission\":ENUM_EVENT_PERMISSION.FILTER\n         }\n      }\n    /* elements to be used to filter the productSubcateory set to FILTER*/\n    const productList = {\n        /*\"datalayer field missing\":{\n            \"permission\":ENUM_EVENT_PERMISSION.ALLOW\n        },\n        \"datalayer field empty\":{\n            \"permission\":ENUM_EVENT_PERMISSION.ALLOW\n        },*/\n        \"digital services\": {\n            \"permission\":ENUM_EVENT_PERMISSION.ALLOW\n        },\n        \"physical products\": {\n            \"permission\":ENUM_EVENT_PERMISSION.DENY\n        },\n        \"physical goods\": {\n            \"permission\":ENUM_EVENT_PERMISSION.DENY\n        }\n    }\n    const denyPrice = function(dl){\n        let products = dl.get('product',{});\n        dl.assign('page.extra.priceSetup','prices are denied');\n        for (let product in products){\n            dl.assign(`product.${product}.productInfo.price`,undefined)      \n        } \n        return products\n      }\n    const filterPrice = function(dl){\n        let products = dl.get('product',{});\n        for (let product in products){\n            primaryCategory = dl.get(`product.${product}.category.primaryCategory`);\n            subCategory1 = dl.get(`product.${product}.category.subCategory1`);\n            /*Require to be allow in both category to be set*/\n            if (productList[subCategory1] && productList[subCategory1].permission == ENUM_EVENT_PERMISSION.DENY){\n                dl.assign(`product.${product}.productInfo.price`,undefined)\n                dl.assign(`product.${product}.attributes.basePrice`,undefined) // 841\n                dl.assign(`cart.price.basePrice`, undefined) //841\n                dl.assign(`product.${product}.attributes.sellingPriceTotal`,undefined)\n                dl.assign(`product.${product}.attributes.basePriceVehicle`,undefined) //831 \n                dl.assign(`cart.item.${product}.price.basePrice`, undefined)  //831 \n                dl.assign(`cart.item.${product}.price.taxRate`, undefined)   //834, 835\n                dl.assign(`cart.item.${product}.price.priceWithTax`, undefined) //836\n                dl.assign(`cart.item.${product}.price.shipping`, undefined) //837\n                dl.assign('page.extra.priceSetup','prices are filtered');\n            }\n            \n        }\n        return products\n    }\n    const allowPrice = function(dl){\n        let products = dl.get('product',{});\n        dl.assign('page.extra.priceSetup','prices are allowed');\n        return products\n    }\n    \n    /*WARNING*/ \n    let environment = dl.get('eventInfo.origin.app', dl.get('page.pageInfo.websiteEnv')); /*define the environment we are - to be tested for each application*/\n    let envEvaluation = whiteList[environment] || {\"permission\":ENUM_EVENT_PERMISSION.DENY}\n    \n    if (envEvaluation.permission== ENUM_EVENT_PERMISSION.DENY){ /*removing all prices*/\n        products = denyPrice(dl)\n    }\n    else if (envEvaluation.permission == ENUM_EVENT_PERMISSION.FILTER){ /*removing prices for subcategory not in the allow list*/\n        products = filterPrice(dl)\n    }\n    else { /*doing nothing*/ \n        products = allowPrice(dl)\n    }\n    \n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL4eb0a0d3745e4f51ba7215a65d1b5e96",name:"TPT - MX - AEM - Adwords - Distributors pages - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbf47d63e88214356884151f1a7c794c4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4ec5c211579b47a5a696a03cf820b262",name:"TPT - PT - AEM - Adwords - Digital Show Room More Detail Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC22249136d40d4f8e87cc218a5c370d07-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4ed4b5914ea14c9e914fe725c5fd4674",name:"TPT - CZ - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0ae4731a435946dc97d65966efab0ca2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f0684bb90f74df3b8f1426609e281dc",name:"TPT - TH - AEM - Line - Test Drive Form Interaction - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4e801c490c594deb8fa58f8bbe0a026d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4f54d044f7224b32b94918c1a03845ed",name:"TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce1b37f0cbeb44bfbdeb6cc1f4a0fc1c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4f892d02b7f94d4c9820b9a422159afa",name:"TPT - NL - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f84823f1bd345dc8dc42b11c83ea453-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fa78b9722e74a9eb13f663ee81c942a",name:"TPT - AT - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC25cb2633ec9240028cff5a2d4b60e0b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fdb7074b79d42319fd5b132c466bd5c",name:"TPT - SG - AEM - Precision - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6670fc5d56324920ad0759bde316630e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL4fe46d9afc484d90aa21934c4928e171",name:"TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC074ffb4c45c24073a54ff971779d86a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL50126f7cc8734aff82b4405aa0288c44",name:"TPT - HU - AEM - Adform - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4632e6be94674315a955edea29eb7f34-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5018dcb2d09c46ffaf3f8700908385b6",name:"TPT - LU - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe7224cf99d514638a8dd93a5fb9f0254-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5021d569ddf24840b1b6ac260548f96a",name:"TPT - NZ - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1a045793dc0648efaa5650989aee0bd2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL502424921267466dbe2caeea2918e9e7",name:"TPT - CA - AEM - DoubleClick - EV CTAs - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/accessories_wheels/bmw-wheels-tires.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC76d2fda60d1d4aaea63750a7d0857a02-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL503dc2ea69bf4599ac0fe94954201364",name:"TPT - NL - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc7c83b3728c743578a13e20f06e843ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL50b3a98363634b7f88b72e6bf23ba3c2",name:"TPT - TH - AEM - Facebook - Test Drive Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3627a97a1cad4e7b955f8930273bb1fd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL512d3575cef24a899efd1dda4494e412",name:"TPT - SG - AEM - QuantCast - Test Drive Form Submit - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tpt-legacy event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC47ad09fdbdb248e9a3b4af9dcb921691-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL513b18e1f9944575b13dfc8c63f02169",name:"TPT - DK - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbfe08f33b3104555ac23bd9b1f57e76b-source.min.js",language:"javascript",isExternal:!0},
timeout:8e3,delayNext:!0}]},{id:"RL514f1f540311494fbadb65df4812f5a0",name:"TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC74072d92cbbf4ca8a18d4e2a63356bbf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5161d3388d6445f096599b1587e47a08",name:"TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd2ae1d8dd8564a7eb0c40f4d051ad41c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5164b583209d46eaa05dd76125fa7800",name:"TPT - AU - AEM - DoubleClick - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ace5b978d8543889dde7e3130a12d9d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL517f8d98f0244906a17b85c2e03170a6",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - product and its references",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_971107",code:'let prodRef = dl.get("eventInfo.reference.linkedProducts")\nif (prodRef && !Array.isArray(prodRef) && Object.keys(prodRef).length) {\n  let product = dl.get("product")\n  let inx=1; \n  Object.keys(prodRef).filter(it=>it.indexOf(\'datalayer\')===0).forEach(it=>{\n      product[\'product0\'+inx] = product[it];\n      prodRef[\'product0\'+inx++] = "";\n      delete(prodRef[it])\n      delete(product[it]);\n  });\n  if (inx > 1) {\n    dl.merge("product", product)\n  }\n  prodRef = Object.keys(prodRef)\n  dl.assign("eventInfo.reference.linkedProducts", prodRef)\n}\n\nif (dl.get("eventInfo.eventName") === \'page view\') {  \n if (Array.isArray(prodRef) && prodRef.length) {\n      let defaultProd = dl.get("page.pageInfo.reference.defaultProducts") || [];\n      if (defaultProd.length === 0) {\n        dl.assign("page.pageInfo.reference.defaultProducts", prodRef);\n        adobeDataLayer.extEvntData.cache.assign("page.pageInfo.reference.defaultProducts",prodRef);\n      }\n    }\n} else {\n  if (!prodRef || !prodRef.length) {\n    prodRef = dl.get("page.pageInfo.reference.defaultProducts") || adobeDataLayer.extEvntData.cache.get("page.pageInfo.reference.defaultProducts")\n    if (prodRef && prodRef.length) {\n      dl.assign("eventInfo.reference.linkedProducts", prodRef)\n    }\n  }\n}\n',path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL5196fe5583ae40d49dfc8186b5cec99b",name:"TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4ccc0b842750436ab4982554675f8ab5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL51d1dcf53cb2483a9f6edd6346e01dcb",name:"TPT - IT - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f54c1d9e1194d74ba00fb04e20db882-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL528c8828d55848ec8c51e9892c39400c",name:"TPT - PT - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC907201bb487343f39e45b30b8bec4f61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL52aa342d798147f2a6ce1765f861cda2",name:"TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC53a308b77667443880949a7dad41b892-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL52ae993eff4446b8b8c367c41e41646a",name:"TPT - ZA - AEM - VeInteractive - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2015/start.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC455ccdebd83c4e47aeffd56d2e7ff306-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL52bdc979f9fe464c9c934dc3243cdcb1",name:"TPT - MX - AEM - Zeta/IgnitionOne - TDA/RFO Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCba0ca379f827408d82ab0291f852f5d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL52c3be393696429bb4ac549e3bce44ee",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9c472bc2e9b346dca757d8eb252fc892-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL533a16e3c2964c9b8d55a549104c69c2",name:"TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a10c4d1c134464d8f88681c7cfa0a01-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL536d634052c44884a5153d207115e8a5",name:"TPT - IT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66c634d1f15b4d34a83ad2f6b69c3274-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53894f87b69b4304ad3fae436e8ff94c",name:"TPT - BG - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3cf8e0894cc249adb94fe40067f4457e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53ac824085e0496cabb536f6ae19a55b",name:"TPT - RO - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa5a1398b37c74b97b0f80c1d5cab257f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53aca0e8fa5842d8bf43c2a88d326765",name:"TPT - LU - AEM - Facebook - RFO Form View - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeaab256133a84fc69f5e9e3f00fa002f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53b72850ed8e4f4c8c9e87e900a43fc2",name:"TPT - FR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfe7f8965988f4a43abef374ee81c7d64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53b7897c2ebc4871b51313b479afbb2a",name:"TPT - IE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3dbf78188b204422ab448b44506dd972-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53c4ff6df12d4c5892fb1001a069182a",name:"TPT - HU - AEM - Zeta/IgnitionOne - TDA/RFO Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC344a685d94364fcfa09d5535a47401ed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53e1afb48de249cbb0cc0d744692621e",name:"TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC773de6929a884efdb7a19a569ba8d4c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL53e295be7b1348b8aaaec232bbe35893",name:"TPT - RO - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbe6b3ba954ce4a599457d07533ad00e0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa71438dfd88e46e1bf42db7a8da76bc0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5415d64a77fc45728594f3b89591442a",name:"ACDL GROUP - DE,FR,IT,UK,RU - ANY - DLP - 0100 - Page - set page.context",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e291f814ddf4bc4a05716f095eff642-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL546a24a704bd4a3b81d547a9004f12e5",name:"TPT - IT - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdaa525f3071b4ebd99ca9b54eec444b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL546a4ccce8e3463f9da8b7cf9216f17a",name:"TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf8b420b7b2224eb0a223e7e69f2d92ca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL54720c19923448e491ccf86c46c141b5",name:"TPT - RU - AEM - MailRU - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcb206264fd8d49ca95cb7d0b8b840e67-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL54c4d770aed84c07b0ed1fdbf8f547fb",name:"TPT - RU - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb3e38fc96fc24111bcd4943dc9d14340-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL54c5e74572f64b398715bb851de636d2",name:"TPT - TH - AEM - Adform - RFO ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc277f1d3eb4a4fba92532ba5df95db2a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5527d1c8c6234077861ed8002b3faf4a",name:"TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaaf5757339a3426992fc437918a523df-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL562617467b4144be9d587bb04e50591c",name:"TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0a56db222faf41939fd175181b520934-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5641c44d5f7a47f694b4ad9d484251d6",name:"PLR - ALL - NSC - AA - share Campaign with IUCP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC181b07b580334ac5ba7e2680e0b3c69e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL565eeae2345942dd92325b1a8e8e67cd",name:"TPT - TH - AEM - Line - Test Drive Form Thank you page - EN - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC65481a68d50648d5820ea0a5e27f5ff3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL56695b1d0b2d4da7b92d6028b8796a52",name:"TPT - CH - AEM - GtagDC - Multiple Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCedcb5fe82c77445199d8103cba5e1ea0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5687befc7d424cca97766240c1b18981",name:"TPT - MY - AEM - GTag_DC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa4a447083ff04ed8a0c426942cb01b73-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL56924b0aa9d04cb6a30710a03305e4d3",name:"TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"configurator"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8a425ac420c141669ed8b149653afee0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL56b626980f364b60945ad91c5dd166cc",name:"TPT - TH - AEM - GtagAW - Link to Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCecfa3552f821447b8c6045795750c992-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL56d1dd0f3a1b4e6bacb59e259d6eafc9",name:"ACDL GROUP - ALL - ANY - DLP - 0006 - Page - pageInstance handler",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:6}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4180728",
code:"    const originComponent = dl.get(\"eventInfo.origin.componentName\")\n\n    if (originComponent === \"legacy aem page\") {\n\n        dl.mergeDeep({\n            'page': {\n                'pageInfo': {\n                    'pageName': (dl.get('page.pageInfo.pageName') || \"\").toLowerCase(),\n                },\n                'category': {\n                    'primaryCategory': (dl.get('page.category.primaryCategory') || \"\").replace(/-/g, \" \").toLowerCase(),\n                    'subCategory1': (dl.get('page.category.subCategory1') || \"\").replace(/-/g, \" \").toLowerCase(),\n                    'subCategory2': (dl.get('page.category.subCategory2') || \"\").replace(/-/g, \" \").toLowerCase(),\n                    'subCategory3': (dl.get('page.category.subCategory3') || \"\").replace(/-/g, \" \").toLowerCase(),\n                }\n            }\n        })\n\n        if (dl.get('page.category.primaryCategory') === 'all-models' || dl.get('page.category.primaryCategory') === 'all models') {\n            dl.assign('page.category.primaryCategory', 'showroom')\n        }\n    } else {\n        let pageType = dl.get('page.category.pageType');\n        if (pageType) {\n            adobeDataLayer.extEvntData.cache.assign(\"page.extra.pageType\", pageType)\n        }\n\n        let sysEnv = dl.get('page.pageInfo.sysEnv');\n        if (sysEnv) {\n            adobeDataLayer.extEvntData.cache.assign(\"page.extra.sysEnv\", sysEnv)\n        }\n\n        /* To determine whether a page is from tron or launch, isFromTron is set and used to create prefixing logic. The \"tron pageview\" connector rule sets the 'true' flag in the cache as well as in ACDL*/\n        let isFromTron = dl.get('page.origin.isFromTron');\n        if (!isFromTron) {\n            let isFromTronInCache = adobeDataLayer.extEvntData.cache.get(\"page.extra.origin.isFromTron\") || false\n            dl.assign('page.origin.isFromTron', isFromTronInCache)\n        }\n        // /[pageType]/[brand]/[geoRegion]/[langugage]/[pagePrimaryCat]/[pageSubCat1]/[pageSubCat2]/[pageSubCat3]/[pageName]\n        // adobeDataLayer.getState(\"page.pageInfo.pageID\").match(\"/[^/]*/(?<brand>[^/]*)/market(?<market>[^/]*)/(?<site>[^/]*)/(?<region>[^/]*)_(?<language>[^/]*)(/(?<primaryCat>[^/]*))(/(?<subCat1>[^/]*)(/(?<subCat2>[^/]*)(/(?<subCat3>[^/]*)?)?)?)?/(?<pagename>[^/]*$)\").groups\n        const regexpPageInstanceId = /\\/content\\/(bmw|mini|bmwmotorradnsc)\\//i;\n        let pageInstanceId = dl.get('page.pageInfo.pageID');\n        let pageInstanceIdIsValid = regexpPageInstanceId.test(pageInstanceId)\n        if (!pageInstanceIdIsValid) {\n            pageInstanceId = adobeDataLayer.extEvntData.cache.get(\"page.extra.pageID\")\n            pageInstanceIdIsValid = !!pageInstanceId\n        }\n\n        const isPageviewUpstream = a12r.extEvntData.modifyOnAny({\n            current: dl,\n            comparator: (cur, it) => cur.get(\"eventInfo.eventName\") === 'page view' && cur.get('eventInfo.eventAction') === 'page load' && it.get(\"eventInfo.category.primaryCategory\") === \"stageX aem page\",\n            modifier: (cur, it) => true,\n            exitOnFirst: true,\n          }) === true\n        \n        if (pageInstanceIdIsValid && isPageviewUpstream ===  false) {\n            try {\n                let pageInstanceIdArray = pageInstanceId.split(\"/\");\n                pageInstanceIdArray.shift();\n                if (pageInstanceIdArray.some(it => it.length === 0)) {\n                    pageInstanceId = adobeDataLayer.extEvntData.cache.get(\"page.extra.pageID\")\n                    if (!pageInstanceId) return; // no cache avail\n                    dl.assign('page.pageInfo.pageID', pageInstanceId);\n                    pageInstanceIdArray = pageInstanceId.split(\"/\");\n                } else {\n                    pageInstanceIdArray.unshift(\"\");\n                    adobeDataLayer.extEvntData.cache.assign(\"page.extra.pageID\", pageInstanceId)\n                }\n                let arrayCount = pageInstanceIdArray.length;\n                let brand = pageInstanceIdArray[2];\n                let market = pageInstanceIdArray[3];\n                let languageRoot = pageInstanceIdArray[5];\n                let geoRegion = languageRoot.slice(3, 5) || market.slice(6); // cut \"market\" and only take the 2 letter iso code for markets. see specific region handling DLP\n                let language = languageRoot.slice(0, 2); // cut locale info and only take the 2 letter iso code for languages\n                let primaryCategory = pageInstanceIdArray[6]; // needs switch cases for homepage and showroom see below\n                let subCategory1 = pageInstanceIdArray[7] || '';\n                let subCategory2 = pageInstanceIdArray[8] || '';\n                let subCategory3 = pageInstanceIdArray[9] || '';\n                let pageName = pageInstanceIdArray[arrayCount - 1] && pageInstanceIdArray[arrayCount - 1].replace(/.html$/, '').replace(/-prod$/, '');\n\n                // change values of pageInstanceId for homepage\n\n                if (arrayCount == 7 && (pageInstanceIdArray[6] == \"all-models-prod\" || pageInstanceIdArray[6] == \"all-models\")) {\n                    primaryCategory = 'all models';\n                    subCategory1 = 'content';\n                    pageName = 'all models'; // Ravindra: Changes for AAAA-6117\n                } else if ([\"index\", \"home\", \"homepage\"].includes(pageName)) {\n                    primaryCategory = 'homepage';\n                    subCategory1 = 'content';\n                    pageName = 'homepage';\n                } else if (primaryCategory === 'all-models') {\n                    primaryCategory = (arrayCount === 8) ? 'series overview' : 'showroom'\n                } else if ([\"home\", \"hjem\", \"koti\"].indexOf(primaryCategory) > -1) {\n                    if ([\"range\", \"modeller\", \"mallisto\", \"gama\"].indexOf(subCategory1) > -1) { //MINI\n                        primaryCategory = 'showroom'\n                        subCategory1 = subCategory2\n                        subCategory2 = subCategory3\n                    } else if (subCategory1 === 'forms') { // AAAA-5551 primary category wrong for Adobe Forms\n                        primaryCategory = 'forms'\n                        subCategory1 = subCategory2\n                        subCategory2 = subCategory3\n                    } else if (window.location.href.indexOf('home.html') > -1){\n                        primaryCategory = 'homepage';\n                    } else if ([\"home\", \"hjem\", \"koti\"].indexOf(subCategory1) == -1) {\n                        primaryCategory = subCategory1;\n                    } else {\n                        primaryCategory = \"topics\";\n                    }\n                } else if (RegExp('^[c|k]onf').test(pageName)) {\n                    pageName = 'all-models-con-entry'\n                    primaryCategory = 'con all models'\n                    subCategory1 = 'con-entry'\n                }\n\n                if (pageInstanceId !== '') {\n                    dl.mergeDeep({\n                        'page': {\n                            'pageInfo': {\n                                'geoRegion': geoRegion.toUpperCase(),\n                                'language': language.toLowerCase(),\n                                'pageID': pageInstanceId,\n                                'pageName': pageName,\n                                'sysEnv': dl.get('page.pageInfo.sysEnv') || adobeDataLayer.extEvntData.cache.get(\"page.extra.sysEnv\")\n                            },\n                            'category': {\n                                'pageType': dl.get('page.category.pageType') || adobeDataLayer.extEvntData.cache.get(\"page.extra.pageType\"),\n                                'primaryCategory': primaryCategory.replace(/-/g, \" \").toLowerCase(),\n                                'subCategory1': subCategory1.replace(/-/g, \" \").toLowerCase(),\n                                'subCategory2': subCategory2.replace(/-/g, \" \").toLowerCase(),\n                                'subCategory3': subCategory3.replace(/-/g, \" \").toLowerCase()\n                            },\n                            'attributes': {\n                                'brand': brand,\n                            }\n                        }\n                    })\n                }\n\n            } catch (e) {\n                _satellite.logger.error(e, event.$rule.name);\n            }\n        }\n\n    }\n\n    if (dl.get(\"event\") === \"pageview\" && !dl.get(\"eventInfo.effect\")) {\n        dl.assign(\"eventInfo.effect\", \"page: \" + (dl.get('page.pageInfo.pageName') || \"\").replace(/-/g, \" \").toLowerCase() + \" shown\");\n    }\n",path:"base/pageInstance",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL56d845f94e5e4589903b337ff9077e31",name:"TPT - SI - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5f7a30e3d0244dc1ae5d8377ba8789ca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL572b598061b048d584f1d0013a469811",name:"TPT - UK - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1fa9ea1a90ee43de9973717328591624-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57912c729e034d7893256c74c5d2b7fe",name:"TPT - LU - AEM - GTagDC - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaf375e12bfbc46e38221b13e14434d2c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57b8e7a663cc473cba369462c0c50af5",name:"TPT - FR - AEM - Facebook - DCS Form View - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf2d7a42fe9c4440c9cc2ccdefdb00814-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57bc5103bc9d4e8087c24fef9ddaf818",name:"TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title=dlo]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCccd57435fa6840a690dd860d14b3987a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57d32abca4404fff896df34267c328cd",name:"ACDL GROUP - ALL - FORMS - DLP - 0021 - Event - Prefixing Issue | AAAA-5053 | Remove Once main issue is resolved",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:21}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.category.primaryCategory",value:"adobe form",operator:"equals"}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd24f7f9fa6247039d6aa4e2bd40a02a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57db5b92f39645f89297288973277d6b",name:"TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1d9edbf114b84c7a97e47dfec1f9a835-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL57f046ff170f4f27973a3b02ebae2007",name:"TPT - TH - AEM - Facebook - Link to Get Offer - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-20f7aff6d4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e2c364d6ae.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-eb4fbb0245.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-4b5f2b21f4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-87e7f420b3.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-82ce5315dc.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-3e2adb97e4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-6d6d318fbf.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51ad3f462.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-f4684f8185.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2d01a1c77f.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-c96527d316.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-41112154dd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-010491c873.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe37b07fa66b54f42854114a5b7c5eb13-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL580c9bac41094a0e80c9e1527b1852cc",name:"TPT - SG - AEM - Adform - PML Online Shop - EBR - p15[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8a2080d25fa44e24ab21fc87f116c748-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL58141d4dbabc4e0497db13565a5c8929",name:"TPT - CH - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC700bc02a62f94a32ab803089d3bfb339-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5862777591a1419cb7a049ca49fddd93",name:"TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form",elementProperties:[{name:"id",value:"test-drive-second-form",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7ce6de1e37f24284ab95cce3af0d3e7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL589e09157e364041bad581ae4c18930d",name:"TPT - IT - AEM - GTagDC - Iframe Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8630fed8ae3c4f93a09b4eca153adca2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL58b4f85e299c4001b06afec6b216106b",name:"ACDL GROUP - ALL - ANY - DLP - 0090 - Page - real Page Name",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:90}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_7773092",code:"dl.assign('page.pageInfo.realPageName',dl.get('page.pageInfo.pageName'))\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_2920494",code:"if((dl.get('page.pageInfo.windowInfo.server') || '').includes('configure')){\n  dl.assign('page.pageInfo.realPageName', 'new configurator')\n}\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL58c6d1848cc4417e81e53f8c50fa44b5",name:"TPT - TH - AEM - TikTok - RFO FormSubmit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87c0249cbb1c401dba60216588912342-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL59160ba6cd434855ac343680360104aa",name:"TPT - NL- CON - Adwords - Configuration_Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"gtag_adwords_configuration_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl/nl_NL/configure/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC263a62c9615b4b90b3aaeeb7024549ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59a1d29d43134dfe8793e63ed01d9cf1",name:"TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd6edf4ed38204fe9b21ba856384dfa31-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59a4dea81c364b72a615ae158a2b8399",name:"TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC881172dbf21845c595bb22eb8c6a38f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL59ae7d2450764b87942399bbc27b9615",name:"TPT - TH - AEM - TikTok - Link to Get Offer - EN - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-20f7aff6d4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e2c364d6ae.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-eb4fbb0245.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-4b5f2b21f4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-87e7f420b3.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-82ce5315dc.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-3e2adb97e4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-6d6d318fbf.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51ad3f462.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-f4684f8185.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2d01a1c77f.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-c96527d316.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-41112154dd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-010491c873.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdbcbcb9b94e647c283493eafb42f9bce-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL5a6eefbfe77c4cf1b2e9b903cbc9938f",name:"TPT - HU - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC62eb2eef19994f1b82e96be503e0a3a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a729895e1914abc9362e7bdb55310e2",name:"TPT - IE - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfc48d044fada4b6f9e56f1848b5a236e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a7815a354c34b71bd260e688d00cba9",name:"TPT - IT - AEM - Adform - RFO Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16de2696d94b4447861dd96056d713ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a7b4ec0687844ea81e035152d6b2cba",name:"TPT - SI - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a1ad94687e24449a5c9626999f49bb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5a954fcbde884d7b8e00b8ec3d0fdf69",name:"TPT - SG - AEM - Apex - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa2b82e9f32484ba4a6a75b9971c93f6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC113d9e6f6edd479a9fad8ff589772338-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b03ce86d8234c94bee5833c5f75c0e3",name:"TPT - PT - AEM - Facebook - FormTracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32e6a9155c494394aaa7452dcffa28dc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b103e7027d247ce8d25f3d27b976980",name:"TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf9d4547e6eea4e6e9c211f283bfd8d8b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b37da178bd34b578f59ce853d69118a",name:"TPT - PL - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa48bc9a8df8b4d92b857e1295ea8c268-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b404759dabe431fb6f013534758eaac",name:"TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC280392d65f844655919255a728b40846-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b604dbfd37049f8ba6883be214366cb",name:"ACDL GROUP - ES - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd4d86a074f31428f93d6af1a91c0bca2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{
id:"RL5b80244826464bca8182e4c815982f33",name:"TPT - ID - AEM - LinkedIn - Contact Email Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3418bb760d014f8cbc05e2a2f829fadb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5b863cf534d24552bab341bcb058ee45",name:"TPT - MY - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a624e1277eb4c3ca30a0e83768de02e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5badc55112c74919a2c7a6b59032b578",name:"TPT - CH - AEM - Floodlight - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCde3128d5e41745dea30b1500c27fd555-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5bcf4b5ff582449a934281231b8e0bb5",name:"TPT - RU - AEM - Chatbot - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ru/test/bot-test-1.html",valueIsRegex:!0},{value:"/ru/test/bot-test-2.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfacaff992c66426c840b16444fe91532-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5bd00c7130ea4bf892c8dd89a9c7a963",name:"TPT - IT - AEM - GTag DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC487d449f93b64c7ca0e646f0cfaa486e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5bd4f7908478492fac9d0b48364ec653",name:"TPT - AT - AEM - Twitter - All Pages - PLR -p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC17dd52ae64e0496ea03879185960a237-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5be7a1df006040078a8e8aa3081498d5",name:"TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe08e5c0289634415bf9cb756e3122833-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5bfbbdc191c4415dbc27da35cc0e53e9",name:"TPT - SK - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC28048078145945b09ca07a6086d4da71-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c0fe21c50dd40d0b157441433f9ea03",name:"TPT - AT - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a7290e213074282b2b7a44e6222cc02-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c165bb431d34a5dae83efd23b7ad8f0",name:"TPT - SG - AEM - Adform - E-Brochure Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download e-brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html",valueIsRegex:!0},{value:"/en/all-models/2-series/activetourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/2-series/grantourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/6-series/gran-turismo/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X4/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2018/bmw-x7-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m3-sedan/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m4-coupe/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9846c5b10d7b44bb8c28941e29bc7b6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c1a21e48b574055b64f35623a23535a",name:"TPT - RO - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0216991ad01546f2a912c5764e192404-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c25ae9b33e04aacb84ead67e03754d9",name:"TPT - DK - AEM - Adform - Local Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa3c5d930c3ef4ed18e85d041abf4121e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c4373f38a32402db2d945013a4b12a7",name:"TPT - GR - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeffb7d376a28439685c624e9f0ecb8e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5c5bbdfbee7e45bda0d5c988d51b1216",name:"TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5e895c96eecb4c89815bd22fe69591cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5cf4a7d557c5403695b9e41ccb445b9c",name:"TPT - DE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa9a138900afd480bb57f717446c3916c-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL5d29074c07264faeae917e64e670300f",name:"TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd4b2652cbcd84420832c96400bc0e9eb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5d633b6647a54e6786f182f5abfe2da7",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - Page - setting brand",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9777788",code:'let brand = dl.get("page.attributes.brand")\n\nconst brandMap = {\n    \'.bmw-welt.com\': \'bmw group\'\n}\n\nconst parentDomain = dl.get("page.attributes.parentDomain");\n\nif (!brand) {\n    if (parentDomain.indexOf("motorrad") > -1) {\n        brand = "motorrad";\n    } else if (parentDomain.indexOf("mini") > -1) {\n        brand = "mini";\n    } else if (parentDomain.indexOf("bmw") > -1) {\n        brand = "bmw";\n    } else {\n        brand = "";\n    }\n}\n\nif (brandMap[parentDomain]) {\n    brand = brandMap[parentDomain];\n}\n\ndl.assign("page.attributes.brand", brand);\n\n'},timeout:8e3,delayNext:!0}]},{id:"RL5da20bcbfc3b4892b68fc8cd24e14d7b",name:"TPT - MY - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC759398f7f1c54c6b81869dda62d322ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5db6b898e9dc4e18bd61976b88158dbf",name:"TPT - RO - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC56435baec8824909a76e5745da456b03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5dce56ed77774db999aa4f3a2c0e2e42",name:"TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/ssl/configurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c0a2f048a044638ab32236fbe20a30a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5e3899dc67564040b1cbecaac4042296",name:"TPT - TH - AEM - Line - All pages ShopOnline- EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button > span.cmp-globalnavigation__interaction-label",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC74782ef8ae394b56baefd486168f8d6c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5e422176093f49d4941786b0bf3eb323",name:"TPT - LU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbd55e6e273934cceb054c7ca4e6671d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5e7d2becc73741fabae5a944241c6224",name:"TPT - NZ - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdadf1429090f4a9f8861240ff4e858c6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ed9121c3be049b691d2ce2626e9928d",name:"TPT - CZ - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC82c60789d8c642bc8997d1a8f6d27a4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5eec8ca9ea71453babc75c2c8d6e82cc",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa75bb4d191f6457ca0072cf9d3dd1a1f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ef48a6605954ffea7032720f5e10875",name:"TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8a48aa383aad42bb8fc5ec5e56037436-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe56140206f834a2b94f5fda100d828b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe3c34d780db34f27b4f5902da431ba3b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54b0e6ba157049c9a854b2522ff19d23-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5809ed3eb3fd4755a76f29074b62a567-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e7ae0d1b8384be3bb3be0b6802e7c1f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5f3448c26419459998a082c34a6361a8",name:"TPT - ZA - AEM - Adform - MFest - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/forms/BMW-M-Festival",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC43305ae6d3e84613b26f7063e8e82ac4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5f871a7bcee44a46b725c4de8bdc2531",name:"TPT - MY - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c51f339599e4d27b2f405e4d4becd5e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5f8ae684df434d8c882b09f4fe9b2c07",name:"TPT - NL - AEM - Adform - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb763ce9ee4804021a30e7aca0596048c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL5fd3a2d263d94f17ad7135d43baa6b2c",name:"TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"contacto@bmwfs.com.ar",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/topics/fascination-bmw/bmw-financial-services.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf2b996b4a4074785b14a492cc4514680-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL5ffcbd0a0caf4bc29bc7b8fde088d097",name:"TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfab56e001eb349479d40366994ec4e1c-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL602d1bcf7e1d4b3e8ab658f513877fcb",name:"TPT - TH - AEM - TikTok - RFO Form Submit Button - EN - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc3f963deaaba43748b22d93e5bf167e4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL603b8281f8b04b80afbba27a6826966c",name:"TPT - TH - AEM - GtagAW - Link to Estimator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/topics/offers-and-services/bmw-financial-services/payment-estimator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbde22af45e444ae1b450e5de565fd678-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60425bc6d5ed4f3f859a53b360776cfc",name:"TPT - ZA - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9904ef0451914fa4a42728e0e5d51295-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6051245da34d451a81907e640ab08544",name:"TPT - SI - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC083de418d1e1467996c709bfefa1fbf7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL605c37c4ca01460798d39ba2fc141a97",name:"TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87bd0c4e4ca346f39628b1658d340376-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60b49b9162de4fee99dc87964a4410f2",name:"TPT - CZ - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6c0515c1ba04fdba3777c5bc7908894-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC223e4bc95e954a51b9f9de35df6dbbe4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60bc85ff226a478fb6825ee69a0e4c40",name:"TPT - SK - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfb20f0c3e420451796d91d7baa6acd25-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60d0c3cff1a044c3849fddfdf3d8ff53",name:"TPT - RO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4a529d8146c44b19b8bc26dd5fe96c18-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60daa56cada04865b1d2ba33731f613f",
name:"TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2a821453022c4aefb52590dd5b9b2d7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5ebffc16e634ee8accd7652d2002acb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60e1b6a06ebc4073bd64cdaddb0cca9e",name:"TPT - IN - AEM - Marketo - Multiple Pages - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe884bc9aef694263ae67282818ca69d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL60eca97c20ca46b9bd1fab5f38d65780",name:"TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf43eca5d300c49c28055c53d6bced2e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL61151b9b5b0b4c05838b864225976c5c",name:"TPT - IE - AEM - Floodlight - Open Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbeb7a574a9b740a2adb4f8f4e7b86e27-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6145c054e82b4828a2cf6fbc81211ac1",name:"TPT - NL - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC379c4d44fd5b49ec8b350756526978d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6146c930f13f47c59efbf0775cd344be",name:"TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC57f2de9dcc5249e3b5f3eb0fc797f03e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL616486c957b04f6e812563d7cbddbad5",name:"ACDL GROUP - ALL - ANY - DLP- 0020 - Epaas - set tech meta data",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5532363",code:'if (window.processingWrapper) {\n  const md = processingWrapper.getProcessingInfo("BaseTracking")\n  dl.merge({\n    ePaaS: {\n      ...md\n    }\n  })\n}\n'},timeout:8e3,delayNext:!0}]},{id:"RL61689de5807a4325838b6e0f5094a758",name:"TPT - TH - AEM - Line - Test Drive Form Thank you page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf0ab30c92b0a4635bb85a0e0c347c237-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL61e012c4c3e846279f72155035e5f2fa",name:"TPT - CA - AEM - Facebook - Autumn Winter page Book Service Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div:nth-child(22) > div > div > div.ds2-text-only--button > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6fdb5f72349d40fba70b3f80ab153dde-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL61f6ea23a1a143fbb93b38ba21fd7453",name:"TPT - FR - FORMS - GtagDC - Adobe Forms - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1a661fef393d4ff59630418503e825a5-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL62013531cf244f6dadd02e6354b48a83",name:"TPT - IT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b36651695f445eeb6c34f19e14a9757-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcdf53eada7c5483397c831b268b42eb2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6236e9d1d8df4307ae90925d9c3a2161",name:"DCR - All - AEM - AA - Bounce Timer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bounce_timer"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),0!=s.get("product").length){for(var o in s.get("product"))if(!isNaN(+o)){var n=s.get("product."+o+".attributes.mmdr",s.get("product."+o+".attributes.internalCode")),i=s.get("product."+o+".attributes.mmdrVG",s.get("product."+o+".attributes.internalCode")),r=s.get("product."+o+".attributes.modelCode");eVar10="G26E"==n||"G26E"==i||"71AW"==r||"31AW"==r?"G26E":"G70E"==n||"G70E"==i?"G70E":s.get("product."+o+".attributes.mmdr",s.get("product."+o+".attributes.internalCode"))}var c=_satellite.getVar("setDefaultProductVariables");c.id=eVar10,c.category="new vehicle",c.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),c.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),c.merchEvars.eVar10=eVar10,c.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=c.toString()}t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop1"),t.events=t.apl(t.events,"event976"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event976"),t.eVar34="nsc > bounce timer",-1==t.linkTrackVars.indexOf("eVar34")&&(t.linkTrackVars+=",eVar34");var d=_satellite.getVar("AA-componentDefaultValues");"digital checkout solution"==s.get("page.category.primaryCategory")?(t.prop1=t.pageName=a,t.eVar34="sales > bounce timer",t.prop1&&t.prop1.indexOf("sales >")<0&&(t.prop1=t.pageName="sales > "+t.prop1)):d&&"configurator all models"==d.componentName?t.prop1=t.pageName="nsc > all-models-con-entry":t.prop1=t.pageName=a&&-1==a.indexOf("nsc >")?"nsc > "+a:a,t.linkTrackVars=t.rfl(t.linkTrackVars,"campaign"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar61"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar62"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar63"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar64")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"bounce timer",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL623a0dc705404e2e87b29582e9640c18",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"COM"==s&&(s="DE");var a={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}}};return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"showroom"==_satellite.getVar("snapshotDL").get("component.-1.category.subCategory1")}catch(t){var e={from:"TPT",type:"Rule",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II"};_satellite.logger.error(t,e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f65884cd013497f8fdb36f64f12cf2c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL625556bbcd4948b0af6e3fbd360d3920",name:"ACDL GROUP - ALL - ANY - ContentSquare - 1010 - anyEvent-Cleansed",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ContentSquare"},ruleOrder:1010}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_6269268",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC58a7dba8baa545a48e516ac1b2d2e6ef-code.min.js",path:"base/contentSquare",type:"TP2",vars:{std:!0,page:!0,thisTool:!0,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"ContentSquare",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL6272a1b2345a4af4990f626ccb3ee605",name:"TPT - ZA - AEM - Adform - BMW Select Finance offers page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/forms/BMW-M-Festival",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC79b5c6c88cbb470c9de57ef8fd88088a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6272bd04a6e04199a498aebb597547ba",name:"AA GROUP - ALL - CAR STOCK LOCATOR - 1020 - readyForRedirect",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AA"},ruleOrder:1020}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"stock > user added product to the wish list",operator:"equals"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5249285",code:'  window.dispatchEvent(new CustomEvent("AdobeLaunch:readyForRedirect"))\n',path:"AA/readyForRedirect",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL628915f303ae444db08883161a9dbf86",name:"ACDL GROUP - ALL - AEM - INIT - ePaaS",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-80}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_840394",code:'a12r.eventPromises.onWait(10,100, rslv => window.adobe && adobe.optIn && rslv).then(() => {\n\n  const adobeProcessingIDs = Object.fromEntries([\n    [adobe.optIn.Categories.ECID, "AdobeAnalytics"],\n    [adobe.optIn.Categories.ANALYTICS, "AdobeAnalytics"],\n    [adobe.optIn.Categories.AAM, "AdobeAudienceManager_DMP"],\n    [adobe.optIn.Categories.TARGET, "AdobeTargetPersonalization"],\n    [adobe.optIn.Categories.CAMPAIGN, "AdobeCampaignTracking"],\n    [adobe.optIn.Categories.ADCLOUD, "nonExisting"],\n    [adobe.optIn.Categories.LIVEFYRE, "nonExisting"],\n    [adobe.optIn.Categories.MEDIA_ANALYTICS, "nonExisting"],\n  ]);\n\n  ((window.consentcontroller && window.consentcontroller.api) || window).addEventListener(\'consentcontroller.api.initialized\', \n    function() {\n      Object.entries(adobeProcessingIDs).forEach(([aid, pid]) => {\n        if (epaas.api.isUsageAllowed(pid)) {\n          adobe.optIn.approve(aid)\n        } else{\n          adobe.optIn.deny(aid)\n        }\n        epaas.api.registerOnUserConsentChange(pid, function(consent) {\n          if (consent === epaas.api.ENUM_USER_CONSENT.GIVEN)\n            adobe.optIn.approve(aid)\n          else\n            adobe.optIn.deny(aid)\n        })\n      })\n    }\n  ); \n})\n',path:"epaas/init",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL628ad50f10dc426ea914dddbe37f0bcf",name:"TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7fe6daa0342b466a8432c624533ff282-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe640a06a8991469187ccef119dd9b654-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL62a028e9fdea40c1812922a560addf2b",name:"HT - All - NSC - AA - Initialize Plugins",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.getPercentPageViewed=function(e,t){var s=this,a=s.c_r("s_ppv");(a=-1<a.indexOf(",")?a.split(","):[])[0]=s.unescape(a[0]),e=e||(s.pageName?s.pageName:document.location.href),s.ppvChange=void 0===t||1==t,void 0!==s.linkType&&"o"===s.linkType||(s.ppvID&&s.ppvID===e||(s.ppvID=e,s.c_w("s_ppv",""),s.handlePPVevents()),s.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",s.handlePPVevents,!1),window.addEventListener("click",s.handlePPVevents,!1),window.addEventListener("scroll",s.handlePPVevents,!1)),s._ppvPreviousPage=a[0]?a[0]:"",s._ppvHighestPercentViewed=a[1]?a[1]:"",s._ppvInitialPercentViewed=a[2]?a[2]:"",s._ppvHighestPixelsSeen=a[3]?a[3]:"",s._ppvFoldsSeen=a[4]?a[4]:"",s._ppvFoldsAvailable=a[5]?a[5]:"")},t.handlePPVevents=function(){if("undefined"!=typeof s_c_il&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var s=s_c_il[e];break}if(s&&s.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+o,t=Math.min(Math.round(e/a*100),100);var n=Math.floor(e/o);o=Math.floor(a/o);var i="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID)||1==s.ppvChange&&s.c_r("s_tp")&&a!=s.c_r("s_tp")){if((s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",e),s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");var r=-1<(i=s.c_r("s_ppv")).indexOf(",")?i.split(","):[];i=r[0]?r[0]:"",r=r[3]?r[3]:"";var c=s.c_r("s_ips");i=i+","+Math.min(Math.round(r/a*100),100)+","+Math.min(Math.round(c/a*100),100)+","+r+","+n}s.c_w("s_tp",a)}else i=s.c_r("s_ppv");var d=i&&-1<i.indexOf(",")?i.split(",",6):[];a=0<d.length?d[0]:escape(s.ppvID),r=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):o,0<t&&(i=a+","+(t>r?t:r)+","+c+","+(document.body.scrollHeight==(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)||e>l?e:l)+","+(n>u?n:u)+","+(o>d?o:d)),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&s.c_w("s_ppv",i)}}},t.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)},"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&t.getPercentPageViewed()}catch(e){var s={from:"AA",type:"PLR",name:"Initialize Plugins"};_satellite.logger.error(e,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeRfl.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL62bf1909c33b40af99ecd0b99d04e5e2",name:"TPT - AU - AEM - Floodlight - Outbound Link - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC49767fa3e467445aa6f4155117c7debb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL633078dc4cbe45f2af8596987262c94c",name:"TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66ce5b8995a44157a2b5a05ca8ced94b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63317384c4764a9eab6ea65df9637e09",name:"TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd1fd586b82a64d3e87b8246fa7efffa6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6363d5fbb77e4a208a2207fbe2e0720f",name:"TPT - SK - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa16f316a0e454274b54808916f6090b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63a00b8c59f8422394ee272ea74e5726",name:"TPT - RO - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC970221390abe46ca8b8f6f91b3e5151b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63a3566a2ec9423aa7ccc237f71e275d",name:"TPT - AT - AEM - Facebook - Brochure Download FS Product - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"li:nth-child(2) a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/services-angebote/finanzierung-versicherung/uebersicht.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCafc1ce24c1f64b5fad38e1275c04bca7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63ba7963274d4df1b78007bf92fbce5f",name:"TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf408b411865e4529b790f27513009d39-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63c53cb4c79f4814b3e493b9c7787e2d",name:"TPT - CZ - FORMS - GtagDC - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd7f49a56890749bd9a3ad552f464d5a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL63e5081cd7dc484fa5f436edf21a015e",name:"TPT - BE - AEM - Adform - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93f945931b7744aaac1445d15f3b1a64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL642e7d61a5f142589a0171733f7ff96f",name:"TPT - DE - AEM - GTagDC - DLO State Stamdalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd86e3f563b534dd5a8ed5d9549926aeb-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL642f1515513a40cf8df804749bd3f243",name:"TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC20ff4f48b5be4092a7abe42e287c18b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL647d5910efcd43949e1c980ee0e3764d",name:"TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd23e3d4481714677a3f958fb8fc448af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL648879bf9a6b44a896226d132f7c1bda",name:"DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"email"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"call"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_tooltip"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tap_hover"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"salesbar"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier)
;for(var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.videoLength"),i=a&&"object"!=typeof a?a.split("L").length:0,r=t.Util.cookieRead("gcdmToken"),c="",d=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),l=s.get("event.-1.category.primaryCategory"),u="nsc > ",b=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),m=s.get("event.-1.category.primaryCategory"),f=s.get("component"),p=0;p<f.length;p++)if(Object.keys(f[p]).length>0&&f[p].componentInfo.componentID===s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"))return void(t.abort="true");if(["line_component","multicontent","new_pre_configuration","offers","new_gallery","uxs-highlight","all-models-list"].indexOf(b)>-1)return void(t.abort="true");t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("tap_and_hold"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&"datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="nsc website",t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),"digital > new car stock locator"==s.get("component.-1.componentInfo.componentName")?t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "):t.prop1.indexOf(u)<0&&(t.prop1=u+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version");try{r&&(t.prop40="logged-in"),""==r&&(t.prop40="not logged-in")}catch(e){}if(t.prop56="interaction",t.eVar34=a&&"object"!=typeof a?a:"datalayer field missing",t.eVar34.indexOf(u)<0&&(t.eVar34=u+t.eVar34),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),d&&"Navigation"==d&&"Navigation"==l?(t.prop52=s.get("event.-1.eventInfo.cause"),t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="ux",t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"):(t.prop52=s.get("event.-1.eventInfo.eventType",s.get("event.-1.category.eventType")),t.prop53="open_content"==e.identifier||"open_image"==e.identifier||"open_tooltip"==e.identifier||"tap_hover"==e.identifier?"ux":"success",t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),"open_navigation"==e.identifier&&2==i&&"Navigation"==d)c="event919";else if("internal_click"==e.identifier&&2==i&&"Navigation"==d&&"Navigation"==l)c="event919";else switch(e.identifier){case"start_video":c+=",event351";break;case"email":c+=",event901";break;case"call":c+=",event913";break;case"tap_hover":if(o&&parseInt(o)&&n&&parseInt(n)){var g=parseInt(o)/parseInt(n);g>=.1&&(c+=",event352"),g>=.25&&(c+=",event353"),g>=.5&&(c+=",event354"),g>=.75&&(c+=",event355"),g>=.95&&(c+=",event356")}c+=",event351,event909";break;case"open_image":if("tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){c+=",event909";break}}if("user_centric_navigation"==t.prop19&&(c+=",event919"),"close_layer"!=e.identifier&&"open_layer"!=e.identifier&&"open_navigation"!=e.identifier||("visualizer"==s.get("event.-1.attributes.relatedComponentName")?(t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.prop19=t.prop54="visualizer",t.prop42="configuration",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.linkTrackVars+=",prop51",["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())<0&&(c+=",event313,event314")):"model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34=a+" clicked",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop42="nsc website",t.prop13="bmw",t.prop44=s.get("component.-1.componentInfo.componentName"),t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop3=s.get("component.-1.componentInfo.componentName"),t.eVar135=s.get("page.pageInfo.devEnv"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.eVar136="2020 - 06- 15 model_navigation_hp",t.linkTrackVars+=",prop51")),("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))&&"salesbar"!=e.identifier||(c="event921",t.prop43="navigation",t.prop56="interaction",t.eVar34=a+" clicked",t.prop52="default",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop3=s.get("component.-1.componentInfo.componentName"),t.prop2=s.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&a.indexOf("test")>-1&&a.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8",c+=",event1,event2"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53"),"tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&("tap_hover"==e.identifier||"open_image"==e.identifier)){t.eVar34=t.eVar34+" clicked",t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52="default",t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop43="content",t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 tap_and_hold","tap_hover"==e.identifier&&(t.prop38="video",t.prop39=s.get("event.-1.attributes.videoLength"));var v=_satellite.getVar("setDefaultProductVariables");v.category="new vehicle",v.id=s.get("product.-1.productInfo.productId",s.get("event.-1.category.mmdr"));var h=s.get("event.-1.category.mmdr");v.merchEvars.eVar10=h,v.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar52=s.get("product.-1.productInfo.productName"),v.merchEvars.eVar53="new car",t.products=v.toString(),t.linkTrackVars+=",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products"}"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=s.get("event.-1.eventInfo.eventName.en")),"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=s.get("event.-1.eventInfo.eventName.en")),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),"Precon Overlay"===m&&(t.prop53="",t.prop54="",t.eVar34=""),t.events=t.apl(t.events,c),t.linkTrackEvents=t.apl(t.linkTrackEvents,c),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1),t.prop74="bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL64a7aca7433d4c4893251d1bfb36a515",name:"TP2  - ALL - AEM - Stock Form Start - p15r[c] - UC Bandaids",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"stock > form started|nsc > form started",operator:"regex"}},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.ch",valueIsRegex:!0},{value:"bmw.dk",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1361825",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC11559313e25d40bda9ef7f91e09c014a-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7146506",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC486a1242411b446697c7926bb18ac339-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_59590",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd51857ef5a24480aa032aee32731a9e9-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3208596",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe838568cb2a446d3ab15e8b038281308-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9924166",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC42bf802e9abd47ae954a83c5d36373b7-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_597496",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC241d11a1820542fc867f8881e0182c5b-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9628398",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC58a8f69c106545f7af6b0f85af0e7045-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5870640",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6efc39f974ff415aa4d3c6d09f0f8973-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1321918",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd54e565b9e554c5db59cafe0db039a78-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL64bcc5a8386f4ce5a0e96b2d44c35de4",name:"TPT - CZ - FORMS - Facebook - Adobe Form - ACDL - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC97f0d5f29f154cc6ae4c50de61b2f6c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL654a32ffd9e54258ada7370906cfc81b",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7d6517d6112d4d3a9bff17dd44966129-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6622c7c5f34b436c8ad8fa4508178859",name:"TPT - LU - AEM - GTagDC - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8bd97233a814caba6ad3219b196a02c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6644fa3d36474ab4a6cc5c96a7a24153",name:"TPT - UK - AEM - GTagDC - Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC89c8cf082e4b4ac1b6fd0ff1fb2b35db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL666111e88720416696347a21633fc0b1",name:"TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd1e867526f64e2f8d86d47e8307d795-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL666f70341a3045978b84d6f594dbfdd4",name:"TPT - UK - AEM - Floodlight - Subscribe Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Subscribe"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52a64faee9674a01b0db949c69afd334-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6677e2c79bce412cb82c2bacf0f56908",name:"TPT - FI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC98e055ef0ef5469995b4b7273a60078f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL66cdc3224f994f31beec943aea6e394f",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2593f0ecffb24cfa8d51d0ac71c0e0ac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL66f1e7af92cf4e8bae7b8bdabb3aa244",name:"DCR - LU - All Models -  Adobe Target - Send Visitor Reco ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.lu"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC662618586c8e49c4b7872a150896a154-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67066544c3df4e3db53efa14cee1f19e",name:"TPT - FI - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/rakenna-oma-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb3d1bdb624664862b231dfd15604d0a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6721855796ee437fb52d2bf3f9f24539",name:"TPT - BG - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC762ecbfcd1e4438791e44ceede23d07f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6770795e1557466daab22c7ae46f0560",name:"TPT - BG - AEM - Adwords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd8cde9e51034219a4cbbe0bad577729-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67a5077e519a432ea72d4d6fa050d7fe",name:"TPT - NO - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6278b0e7632d41329f9c6fbfaa62ef7d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL67fa03674a944cb59e51372bdd24bfe7",name:"TPT - GR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC99becb8d4c5f4bcaa32993aef4023255-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6827fd662e534920a249b0c570a624b1",name:"TPT - PT - AEM - Adwords - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Reservar"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCad233792bd464eb7b81f2191ef144919-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL68457f0313e0479383043dae85b915c7",name:"TPT - JP - AEM - Facebook - TestDrive Campaign Page - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5bba1c42381f498b9f2c1e2fcbe67cda-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL687deedb26894311a62423779e0ea082",name:"ACDL GROUP - ALL - ANY - DLP - 0070 - TOOL:ContentSquare - Matching Key",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:70}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"page",operator:"includes"}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"(tpt-pageview|tpt-legacy event)",operator:"regex"}},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_1205019",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4c399ece426d4e6399e8e564a837181b-code.min.js",path:"DLP/ContentSquareMK",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"ContentSquare",toolsProcessingId:!0},timeout:5e3,delayNext:!0}]},{id:"RL69808edccee549a8a2e0c5278a78003b",name:"TPT - PL - AEM - Zeta/IgnitionOne - TDA/RFO Form Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9a7e933efba04692b20e217c1b5206b2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL698653ed37b14786b30ddede94bde12f",name:"TPT - TH - AEM - Facebook - RFO Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5cee73b6ad0b4b66b54d34fe6694badc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6991eb1cebdd44128f25796a87d53e21",name:"TPT - NL - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2392c20472a247599205fa7031fbe610-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL69926e76f08d4a32ae26eae81cf16449",name:"TPT - HU - AEM - GTagDC - ValueService_FormView - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/topics/details/valueservice.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33eaa6566ad64a778e6085f356b57b40-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL699c4f9f595e4ee2bcf25ee8d38b1eee",name:"TPT - TH - AEM - Adwords - Test Drive Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33942d3348d2480490c4e8e11d633a5f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL69b0210b7af44a14abf8e9f12464e569",name:"TPT - UK - AEM - Floodlight - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3c95f53e9faf4b8a838568ed2e5498fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL69db932991c046d28915df0ee53cb2c6",name:"TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/brochures\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c02ce4e11a1479097bb22ee32c10f5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{
id:"RL6a1b9fb8d860445a94f0858714ba0a09",name:"ACDL GROUP - ALL - AEM - ADPT - gcidResolver",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{code:function(){return adobeDataLayer.eventPromises.onWait(100,40,[(e,t)=>JSON.parse(epaas.api.getPersistence("encGCID")).gcdm&&JSON.parse(epaas.api.getPersistence("encGCID")).gcdm.hasOwnProperty(epaas.api.getPersistence("gcdmToken"))?t:0,e=>epaas.api.getPersistence("gcdmToken")?e:0])},eventRegex:"",withConsent:"gcdmAccessTokenProcessing",afterPageView:!1,afterNoPageView:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_2205733",code:'  fetch(`https://www${epaas.api.getParentDomain()}/static/utilities/api/tid`,  {credentials:\'include\'})\n    .then(res=>res.json())\n    .then(json=>{\n      const encGCID= json.data\n      a12r.extEvntData.cache.assign(`user.gcdm.${epaas.api.getPersistence("gcdmToken")}.encGCID`, encGCID);\n      a12r._dbg.log("GCIDresolver", "got encGCID: " + encGCID)\n      epaas.api.setPersistence(\'encGCID\',JSON.stringify(a12r.extEvntData.cache.get(\'user\')))\n    })\n  .catch(err => {\n    a12r._dbg.log("GCIDresolver", "rejected: " + err)\n  })\n',path:"base/encGCID",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL6a624633976941c1a29a171e8c3343db",name:"TPT - RO - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa46f41ee31244d2945bf20b8e87d1c5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfd3f52ed0983486fbb8e66bd0119097c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6a790ce58b8f44498fdaf0a7d070d29f",name:"TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8a202fdd553d40e4a7e9c4b5302a533c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6a95f36dd0af45a595ec29ba2dd3ca49",name:"TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce364efbb8b2413c8e5f194474701d58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6a9736b7f449460e92333319b263f2ca",name:"ACDL GROUP - ALL - DCS  - DLP - 0015 - Event - eventKey preparation for mapping",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:15}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!0,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_3531272",code:"// Setting some values to new acdl fields as they are used later\ndl.assign('eventInfo.dcs.actual.effect', dl.get('eventInfo.effect'))\ndl.assign('eventInfo.dcs.actual.eventName',dl.get('eventInfo.eventName'))\ndl.assign('eventInfo.dcs.actual.eventAction',dl.get('eventInfo.eventAction'))\ndl.assign('eventInfo.dcs.actual.subCategory2', dl.get('eventInfo.category.subCategory02'))\ndl.assign('eventInfo.dcs.actual.subCategory1', dl.get('eventInfo.category.subCategory01'))\n\n\n\n\ndl.assign('eventInfo.attributes.requestedURL',dl.get('eventInfo.target',dl.get('eventInfo.attributes.requestedURL')))\ndl.assign('eventInfo.category.subCategory2',dl.get('eventInfo.dcs.actual.effect'))"},timeout:2e3,delayNext:!0}]},{id:"RL6aa1624416784bcfaefac0cbb33d0e99",name:"TPT - NL - AEM - Adform - SignIn/SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf38a178592b041dabb28da71220297a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6ae1fc074cc44bbcabe4fcae5833711f",name:"TPT - NL - AEM - Facebook - DCSStockLocator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC18e79843d7174856a92aefee90b18349-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6af8f821331c48eeab614870943cfab5",name:"TPT - NL - AEM - Facebook - Local Form - Used Cars Tool -  DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c3943d96a494ec5af6c0db448bf2928-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b207935dda94ad39070d0a21a88f98c",name:"TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd40f7db4a65448ab6b0e7545025b285-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb9cf9e0d0b649cb8cb7e600413c012a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b2b8536a1b44ddb9b642a1c736bbe2f",name:"TPT - AT - AEM - Facebook - All pages automotive model ads - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7fc382a8853740bca9aea284c62f00b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b49b58f89f6438a8a5a241061c203fc",name:"TPT - FR - FORMS - iAdvize - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4127542be0b14b01a9e6b4e636a978e3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b7201e5b9714f139b12ad76d651d7c1",name:"TPT - ZA - AEM - TikTok - Multpile - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf38da32d88014d68b4b321369b8d4de8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6b9be0a39c724d26ac049eef43cd612f",name:"TPT - SE - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ba924c97dd94837a551684cca3564d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b9f7153578f4a21976acc671af69e3b",name:"TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"INPUT",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC01177b10ff904eafbc304e77a268377e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6b9f8e0af92342eea85fbb74220d341f",name:"TPT - NZ - AEM - Floodlight - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC94ef9626d67248758456f979393aefa0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6bdc37ab8ffd455bb7f9ee67ab8cecdb",name:"TPT - FR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8e5d3e3290214a0dab52bef52163ae24-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6c01383ec3714a698429edabaf0d275b",name:"ACDL GROUP - HU - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb2b2066e7bc64dc5a382eed941555621-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6c062c1cf58646388316d01cbb8bd326",name:"ACDL GROUP - ALL - ANY - DLP - 0050 - Page - previous value manager",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"(tpt-pageview|tpt-legacy event)",operator:"regex"}},negate:!0,timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventAction",value:"trigger tron function",operator:"equals"}},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_1458898",code:"    const smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n\n    let sPVM = dl.get(\"page.pageInfo.sPVM\") || {}\n    sPVM.prevCompName = smartPreviousValueManager.get('componentName');\n    sPVM.prevPageSubCategory = smartPreviousValueManager.get('pageSubCategory01');\n    sPVM.prevPageName = smartPreviousValueManager.get('pageName');\n    sPVM.prevUrlFull = smartPreviousValueManager.get('url');\n    sPVM.prevCompSubCategory = smartPreviousValueManager.get('componentSubcategory1');\n    sPVM.prevUrlClean = smartPreviousValueManager.get('pathName');\n    sPVM.prevPagePrimaryCategory = smartPreviousValueManager.get('pagePrimaryCategory');\n\n    dl.merge(\"page.pageInfo.sPVM\", sPVM)\n\n\n    const linkedComponent = dl.get(\"eventInfo.reference.linkedComponent\")\n    const componentName = dl.get(`component.${linkedComponent}.componentInfo.componentName`) || ''\n    const isVirtualPage = ['DCS'].indexOf(dl.get('eventInfo.origin.app')) > -1 || ['customer self service','central car stock locator'].indexOf(componentName) > -1 ? true : false\n    smartPreviousValueManager.update('pageSubCategory01', dl.get(\"page.category.subCategory1\"), isVirtualPage);\n    smartPreviousValueManager.update('componentName', dl.get(`component.${linkedComponent}.componentInfo.componentName`), isVirtualPage);\n    smartPreviousValueManager.update('url', dl.get(\"page.pageInfo.windowInfo.url\"), isVirtualPage);\n    smartPreviousValueManager.update('pathName', dl.get(\"page.pageInfo.windowInfo.urlClean\"), isVirtualPage);\n    smartPreviousValueManager.update('pageName', dl.get(\"page.pageInfo.pageName\"), isVirtualPage);\n    smartPreviousValueManager.update('componentSubcategory1', dl.get(`component.${linkedComponent}.category.subCategory1`), isVirtualPage);\n    smartPreviousValueManager.update('pagePrimaryCategory', dl.get('page.category.primaryCategory'), isVirtualPage);\n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL6c0f3611e9fb4630a371fb4b9b772fb5",name:"TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCded8901cd7274605a4ffdfc548ebd9ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6c298e68d7334c269b4374e0d5e29d09",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_collect"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52270b57378e4d24972b0fdfd3aaa072-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6c4122901f9641419c598cbc01dba055",name:"TPT - BE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3bb330a15a0c4b96b49511a1d92f37f6-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL6c5930e066c646da990fbed107f6f1d4",name:"TPT - TH - AEM - Adwords - Test Drive Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC28019a5d29914437b62258b44dd3fd91-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6c6c3d10ed654fd09859b30f35090b97",name:"TPT - SI - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7661fcde366b4eac8ea03a3a4616dc69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6cb33725edc2404f90546cf4edcdfa98",name:"TPT - BE - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5221cf26db69448792a959160c4a0ea4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6cd5c4a641b34f62b5f4da8db55ba7c4",name:"TPT - PL - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_in"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5a5d4395df874b0ea25fdb4bb00ae7e7-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6cdcb7ab6ca245cbb5fa29bab4bda3d8",name:"TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/all-models/m-models.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5709405366d84c73a6012dc6cadcb145-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d498df69d8b4baf9b8539adcf2c4dd5",name:"TPT - BE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC844bc1db001149ac9aa35848cb9a607e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d50380b15e04d3fb85539cab79c63f2",name:"TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb290e79753e541928f72ac7407e20ce2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb749a0cdc66a41f3b4fc53ee9e097830-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d723421cbe44486be513b6de521942d",name:"TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8dca149765f84bd3a8311b737f237a14-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d7f88fcbff048f08b95ba7fe8cc690f",name:"TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/fastlane/dealer-locator.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC30ee4b9fc6c549608a9ca6241a45ee06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d96f9841972405ab172c8e3c5fe5e0c",name:"TPT - GR - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10119acf300841ef8b92040cca3f0b2d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6d9ed3284e7641da9d2448b5d5ec9884",name:"TPT - IE - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/rfo-success-page.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb9f45e59799f463d9d44166ce6810c76-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6daa7cf29c5148058b0db4c3166bc29c",name:"TPT - BE - AEM - GtagDC - Brochure Download - Click [Custom]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a[href$=\".pdf\"],a[brochure-type='DOWNLOAD'],.ds2-brochures-download__link-name,.ds2-brochures-download__link-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfc98bd43b0634f3999961d20e782f876-source.min.js",language:"javascript",isExternal:!0},timeout:3e3,delayNext:!0}]},{id:"RL6dead5e1200544c3a53175db39361aa0",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - AEM Workaround WL 1",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6d249a84978b4d8b9dbe810e48e029a7-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL6e25f431a7e44dd4926ee0e1aaaeffa7",name:"TPT - PL - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC927fbea37c10469fba5a004cc71563a8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e50822982c44b5eadc83e62417b24ab",name:"TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa7d02be049f2454aa861a635c6f6f762-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6e5cce66d10d4550b03f4bbca2ed5f48",name:"TPT - PL - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c7886e121dc4e39874d3c1c6f3b6053-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6eb08ada470e447dbca923ece90b71e9",name:"TPT - AU - AEM - Floodlight - Register Your Interest - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC82a38ec6831647ea9141ac182d7aa75d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6eb3ee85208a47b2bde16517f7d88cd6",name:"TPT - AT - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfc569bde25cd41828abd8fd1ffb9b2d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6eb912b235454e199d4b92180acfe8e9",name:"ACDL GROUP - ALL - CAR STOCK LOCATOR - DLP - 0080 - Product - Fix mmdrVG for electric Vehicle",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:80}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4557502",code:"    const mappingTable = {\n        'bmw': {\n            'G26': 'G26E',\n            'U10': 'U10E',\n            'U11': 'U11E',\n            'G61': 'G61E',\n            'G60': 'G60E',\n            'G70': 'G70E'\n        },\n        'mini': {\n\n        }\n    }\n    productKey = dl.get('eventInfo.reference.linkedProducts')\n    productKey && productKey.forEach((key) => {\n        const product = dl.subSom(\"product.\" + key);\n        const { attributes } = product.getSubNodes()\n        if (attributes.get('fuelType') == 'BEVE|E' || (attributes.get('fuelType').match(/^[eE]/g) && (attributes.get('hybridVersion') || '').match(/^(BEVE|beve)/g)) || attributes.get('fuelType') == 'electric') {\n            let mmdrElectric = mappingTable[dl.get('page.attributes.brand')] && mappingTable[dl.get('page.attributes.brand')][attributes.get('mmdr')]\n            if(mmdrElectric){\n              attributes.assign('mmdrVG', mmdrElectric)\n            }            \n        }\n    })\n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL6ebee3863420479f934a8ed9d6764df6",name:"TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,s){var a=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){a=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){a||s()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk$",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC86b0d4e605e74958b16b8a882a654a4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6ecc2af256fe41158f8c08b72cd1c411",name:"AT - ACDL - Form Started - Recommendations Entity Params",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:100},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("topLevelDomain");if("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.co.uk"==e)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5999376",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCac0b915b2a5f440d9184c1c98549f758-code.min.js",path:"",type:"TP2",vars:{std:!0,page:!1,thisTool:!1,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"",toolsProcessingId:!1},timeout:2e3,delayNext:!0}]},{id:"RL6edd8ba9f5ec4c6e8a133c921552d7b4",name:"TPT - HU - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc88c8a6ec06244d99cfc21a29fd897a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f0f51a075ef434d9d5df9fc5fc8eaad",name:"TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC726a834c97a1492db5b369434df1a083-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f3256ee6a08441a9b8d14477133ea94",name:"TPT - RO - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9d106964f66e44b8a6a125f65b10eabe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5f3c46cfb7c94113b7fece2cac41f2ec-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f34ce158d224b6d85f7ca3ef177eaeb",name:"TPT - LU - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC21861c915b4946d68765f6b15576a883-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6f485fcd833546be840307180c57b03d",name:"TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC333cd31d16174d4e949ce44759af2f14-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCabd075c4d8c446e68d918cc14ddba551-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6fc96d24782540d09d5b60235811deff",name:"TPT - FI - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb87261164984c6bb54345bb4a27f0bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6fcb0b726df849a7b8a89d6e41c1a09d",name:"TPT - SK - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC208934e54c2649c5a25a42b4f943583d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6fd05ac1bdf7424faa343e11ea52dcc5",name:"TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCef0dffa70b0d4b5893f28cd039394cdd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL6fd97c6c4b6b4516a0f08b22f1de7e7d",name:"TPT - UK - AEM - Twitter - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Download a brochure']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe2c05ce2c068498d8797f0ff888077e2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL70192157d897402298ea81c1e5211115",name:"TPT - CH - AEM - Facebook - Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC14ea490bfb084411ba3d3d8237aff49f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7054aea2fc03486f8827c3b6e48ed695",name:"TPT - IT - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb94d4a315224624a6b3b95afd9e9307-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL705e176b628a43b8a728a55cc7d43971",name:"TPT - UK - AEM - Floodlight - Enquiry Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Enquire now"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC44a0095d8a5f43c6b6ec22ccb97695d0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7148e6bc833b4e8284d0608e643ac0d3",name:"TPT - GR - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a5bb9c6300641bfa32ef62325ae40c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL71d33faaa21045d29bc65080707f3a5f",name:"TPT - FR - AEM - Facebook - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcb68284482ba46da9d017735f4d567e8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL71ff505073b64897901e129116109176",name:"TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd8c329397eb74455bf4afe4b2d914fe6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7212c44208d54fb19816094f5049cc8c",name:"TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC40e23fdedf434ea0aefa25b04fa88e61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7226b0fd621d4e34ab976e69593e93e5",name:"TPT - AT - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbcd0d67cd2754695bd5b949b59aeb187-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72393b3d560442d9bbcace42c69a40df",name:"ACDL GROUP - AT - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd4297d6056f64ee089e203188d31a733-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL72560f131ebb49858e7b906564502972",name:"TPT - HU - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC022f5c52067a4ad9884348a29475ca68-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7278c40477974fb58e834e299a12106e",name:"TPT - IT- AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52a9e0b953c540efaa1b3abeaa98046e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL728dd270b4fa4d5ba065afa59a30809b",name:"TPT - TH - AEM - Line - Test Drive Form Interaction - event-cleansed - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_2777416",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ced2732e4044cf0bcf20a041574454a-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Line",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL72f467fa912c45418267d9937238e82b",name:"PLR - ALL - NSC - AA - localform2.0 eventlistener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL72fbda0d568245d78310d0c6717a71e3",name:"TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"es/footer/footer-section/contact-us.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9bf67d67e3b749279c02ed4a4b308ad5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7333deb353734317b832a3684c6732cd",name:"TPT - SG - AEM - Facebook - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf63d67b1a6454b2daec2bd3b9af395b8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL73f6fdafc2fe4357af4d689ac00ac013",name:"TPT - DK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC605cc220f533429a8489e35fd7f5df20-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL74106426ae824be0a3ffb913b0749ef5",name:"TPT - ZA - AEM - Adform - All Models SearchAvailableCars - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7627cf9b939d4f06ba3a78111d903f90-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL746960b71c774e88bac4475b3ba6442c",name:"TPT - SK - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_i"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC846c356086d64363be10c5f9cb1721f3-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL74c4927ed2b84783849c66a12e054c11",name:"EBR - FR- All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.fr"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7960de9e38454bbca4dcb2a32a708cfd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL750056c9e4f547159353f98369fd48e2",name:" TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/retailer-enquiry.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6fa1a1c6f92a44d0999af32b32b491cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL750461853ff44b02b2e4ed3f305cd63e",name:"TPT - PL - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc9d32725b71045b5973e58b289a5ceba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL751ef355f99f4c35bf6c3dc6b532bfd6",name:"TPT - FR - AEM - Facebook - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf8797e2018844390a5141e9cfbc50a38-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL755ae9af747a4d3c9f853482af7d26ca",name:"TPT - CA - AEM - Facebook - Build & Price User Journey - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd1f27bc23b8243448240ca1349e5c82a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75aee1c2892a44bdb8d747ce4a99abfe",name:"PLR - UK, DE, FR. IT, ES, NL , SE, BE, LU, AT, PT - AT - Session based Vibe segments 2.0",events:[{
modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"bmw.co.uk"==_satellite.getVar("topLevelDomain")||"bmw.fr"==_satellite.getVar("topLevelDomain")||"bmw.de"==_satellite.getVar("topLevelDomain")||"bmw.it"==_satellite.getVar("topLevelDomain")||"bmw.es"==_satellite.getVar("topLevelDomain")||"bmw.nl"==_satellite.getVar("topLevelDomain")||"bmw.se"==_satellite.getVar("topLevelDomain")||"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")||"bmw.at"==_satellite.getVar("topLevelDomain")||"bmw.pt"==_satellite.getVar("topLevelDomain")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC34422413c07a431bb44f11ebd736fc39-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL75db7eccba4f44c988da947e3abb97ff",name:"TPT - FR - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb482082549142ff829243eef7af7bb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75df9e7a1d884459a9c66e68ca3ababb",name:"TPT - IT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1996153e00c545c8843ce12beb0742f5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL75ffd8125e3b476c98828ee873785909",name:"TPT - PL - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"RFI"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC64a88b3c00b441dc92a51002ab93e90b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL760425b138ff4eef9228db9c16c45fc1",name:"TPT - BE - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3a6cbd3de0bb4ff383cd7d69436d3d01-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL76bd676950c04041ab8eb9b4258d652b",name:"TPT - IT - AEM - Floodlight - Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8c34168ee21b4664ac3b69efea9918ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL76f830693ba04b68a539e96f927b0666",name:"ACDL GROUP - BG - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf399adafc2dc4a41be6d13e0199b40f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77046a8f3ad5491487c299ee34c86995",name:"TPT - PT - FORMS - Adform - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6eff2f280cf84152810668e93c145a58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL770d940c3d894af5a2b639122478a833",name:"TPT - AT - FORMS - Facebook - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC23ee68ee32c946a3a5feb282e6863d81-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL772f7abf908c40858490624c408e773d",name:"TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf542824e06d74ce5a470c9c815263faf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL774ee0888e2d4a9cb84f3f3a7b7f6dbb",name:"TPT - LU - AEM - Facebook - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa3004fa5ca6f4439908fea9667d7b2fb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7779a04bc50844419d0d78a5fdf1507d",name:"TPT - TH - AEM - Adform - Test Drive FormSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe09e24361d0445929acef11e027f112d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL777d9c6ab296487196268c0dbccdf65d",name:"TPT - CH - AEM - Adform - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Jetzt online reservieren"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b292fd66cfb4aa5af209941780e2804-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL779c99e0388c4f79aa414b5cb3874f68",name:"TPT - CZ - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7d5d503019ee4590b53d64c78cbcc728-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77ae271d30274eb789d7b1c109f2ceb4",name:"TPT - UK - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb95297a9ed7143cbb5d8ed8956086d65-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL77b0312b3ae24d148f3dde6532009293",name:"TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce2320ffdc2540d2befa8f40ea42a1c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL78057c1035584f5eaf7f1858bf10a3cc",name:"TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16fa332d549f40788ce61c90b51eba7a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL782ba49ae84a495b8470f70633d63ba5",name:"DCR - All - AA - Custom Code - TRON Visualizer",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:visualizer",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron visualizer Executed"),e())})),window.addEventListener("TRON:video player",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron Video Executed"),e())}))}catch(e){_satellite.logger.error("Tron Custom Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=_satellite.getVar("tronVisualizer"),a=s.event.effect,o=s.event.speed,n=s.component.name,i=s.custom.mediaTotalLength,r=s.custom.mediaCurrentTime;if(o=s.event.speed,_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric")(t),"video player"==n){switch(a){case"media started":t.events=t.apl(t.events,"event351");break;case"media milestone 10%":t.events=t.apl(t.events,"event352");break;case"media milestone 25%":t.events=t.apl(t.events,"event353");break;case"media milestone 50%":t.events=t.apl(t.events,"event354");break;case"media milestone 75%":t.events=t.apl(t.events,"event355");break;case"media milestone 95%":t.events=t.apl(t.events,"event356")}t.events=t.apl(t.events,"event357="+i),t.events=t.apl(t.events,"event358="+r),t.events=t.apl(t.events,"event970="+o)}if("visualizer"==n){switch(a){case"3D view started":t.events=t.apl(t.events,"event311,event313");break;case"3D view ended":t.events=t.apl(t.events,"event315,event313");break;default:t.events=t.apl(t.events,"event313")}o>0&&(t.events=t.apl(t.events,"event970="+o)),t.events=t.apl(t.events,t.events)}_satellite.setVar("tronVisualizer",""),t.prop46=snapshotDL.get("component.attributes.componentDevAgency",snapshotDL.get("component.-1.attributes.componentDevAgency",snapshotDL.get("page.pageInfo.author"))),t.events=t.apl(t.events,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events"),t.linkTrackEvents=t.events}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL783a19fc8e6c4e98b9e9515e8df9d31f",name:"TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b4c2e56e7fd482eb2b0607a013f1aed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7843ba000bae49aaaa19fa9fff2dab6a",name:"TPT - NL - AEM - Adwords - Local Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4498afe0043b44be9e0dcd8db47e8bd0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL78516b391ce641549a211e0a16ef69a6",name:"TPT - JP - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,s){var a=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){a=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){a||s()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50aa8024c5e74ef3a0c936c4cbfda143-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7893bdc8b12f481f946f2aaa4d6eea34",name:"TPT - HU - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcdb688d15c1a424c8db4dfaab4a5cd56-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL78ab761ba590467c92d95822de44436e",name:"TPT - AT - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeaa7ab225e694146a01821a8ebbddcca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL791224ee78e44894a9098ee1aa31e435",name:"TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5c26202d8b064b29a26bf575239c53ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL796e9021d9484f129d78fc1c5a1808b1",name:"TPT - NZ - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC88433006d9734d52a9404cdd346e4e4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL79a38f47b63e4c17bc46ba2e9e11d5bc",name:"TPT - NZ - AEM - Adform - TDA Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe08bba7b16d2468dac842051213a4449-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL79ebc685f4d04241b4f80c15d8d9550f",name:"TPT - NL - AEM - Adwords - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c3d94fb24114639bff16cdebfe23ea4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a2b4ef38a604cdcbabfc4b4de85d868",name:"TPT - BG - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe71ae249342f4735801363229a22f4c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a4b509a9ef942b88ef9b05220d25934",name:"TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7880f2f786bc4093b103ffbb23cf926e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7a763299a97840c5a958692afdca8165",name:"PLR - FR - All Pages - Custom Script - Visitor Reco Script ",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC098d4e4e946248beb262c567bb71b6f6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ac4e5e7aff748b68a3b5e08b29afca6",name:"TPT - CA - AEM - DoubleClick - Local form submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCef61ef09f9d04225a211dcada9831bc9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ad72f01e5d440cba25f0357df621328",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_settle"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe3a2009616054ff08d5bf7842868f8a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7b1bfdaf498441a5970a03cb68ee7e6c",name:"TPT - AT - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2e26960c14dd44719b65ba0a7c27f9c7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7b7b6e30071045faa9c5375e0e38c273",name:"TPT - HU - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC21a88c2df1ab40259f722191e9fe59d5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa888a5893b7d459bbf7d54ccbbe64dd0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC53689fd3e4ff4813a7322470da442400-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3f45c17712644d4594322d4662215611-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7b9908c7045e4e55bfc70b0bf9c97aad",name:"TPT - TH - AEM - TikTok - Test Drive Form Thank you page - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe67a7592247b4304b2828c0764e1d92d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7b9f372e082147bea192c33c4087fc36",name:"TPT - PL - AEM - GtagDC - Local TDA / RFO Form Start - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"tda.html",valueIsRegex:!0},{value:"rfo.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3d2fa1a7fe5e4c449c0d5cb343200b97-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7bbe075bccb7475fafa792f1fa512050",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd7e3b29aa90c444cacfdfaea85d4b48d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7cfa0c9bdd694bc5809b6a815f969f41",name:"TPT - SI - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12e5cb4ffa3048a1ba6637455173e3d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d0b619281004ea58eab5ed87823038d",name:"TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fastlane/dealer-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd4cc60e255aa4bb1b3d9ea5c57d1760a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d35b6f8998b45f5be7cc8195a2dfe9f",name:"TPT - BE - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{
modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC099289d8eec94c8093e599bd05c076b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d9007ac551c49058ab1a351ba437e97",name:"TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66033e40c094454bb0916c9dff8ffffe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7d9828af03424b7cba62afd797d8e6e2",name:"TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5d76b40e0da47b2b4d43bd0071d66a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC98076dacf6d24a8483cebda8c6f6bf47-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7db8c9c525394adeb27dc300015b7602",name:"TPT - NL - AEM - Adwords - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcc5bfecd127f47039d18866c13fd8ce3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7dbb80d3185249b3971eff0a437e5f8c",name:"TPT - TH - AEM - Floodlight - RFO Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ea6d94b4fc941e286690fc3e8143dbd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7de59de6b08544fabc8914664c4a07b1",name:"TPT - AU - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3efdea78f1e64c389cf7ad416c21ff33-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7de5dbf46b2c48f19b04139c844818b5",name:"TPT - TH - AEM - Facebook - RFO Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC581edf50890a42c0b6b19c73ca57a8b1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e2ca23a64ba4a6b814765bee41b8dfa",name:"TPT - CA - AEM - gtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12f13e6e6aa54e4494e77216a3b20519-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e4cc5501a8745e48b9f1d24a435d176",name:"TPT - ZA - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9d796edbe81147819b86b89ee5f7e5fe-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7e4e01a9379b44478810792e5a5d726f",name:"TPT - HU - AEM - GtagDC - Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8884c55d06c84419898d702d699c7ffb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e68a851a27249de912cb17f136b498a",name:"ACDL GROUP - ALL - ANY - DLP - 0090 - Event - Ecommerce Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:90}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"tron",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_182695",code:"    const eventName = dl.get('eventInfo.eventName')\n    const eventAction = dl.get('eventInfo.eventAction')\n    const eventType = dl.get('eventInfo.type')\n    const pageType = dl.get('page.category.pageType')\n    const products = dl.get(`product.${dl.get('eventInfo.references.linkedProducts')}`)\n    const cartProducts = dl.get(`cart.item.${dl.get('eventInfo.references.linkedProducts')}`)\n    const transactionProducts = dl.get(`transaction.item.${dl.get('eventInfo.references.linkedProducts')}`)\n\n\n    if(eventName == 'page view'){\n        if(products || cartProducts || transactionProducts){\n            dl.assign('eventInfo.ecommerce.event', 'prodView')\n        }else if(pageType == 'cart'){\n            dl.assign('eventInfo.ecommerce.event', 'scView')\n        }        \n    }else if(eventType == 'cart'){\n        if(eventAction == 'item added'){\n            dl.assign('eventInfo.ecommerce.event', 'scAdd')\n        }else if(eventAction == 'item removed'){\n            dl.assign('eventInfo.ecommerce.event', 'scRemove')\n        }else if(eventAction == 'checkout'){\n            dl.assign('eventInfo.ecommerce.event', 'scCheckout')\n        }        \n    }\n\n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL7e81df8527cf4bf9acecd4613ed0a11c",name:"TPT - DE - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC167206103cc447a0ad68298973468122-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL7e8f8d7c3999482896b4dd006c2b87eb",name:"TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf83e4a9606984a93882b3c8dcc967982-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7e9de5f70d49444e86804a2ac403a4c1",name:"TPT - AT - AEM - Adwords - SignIn - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC456ea1e49f02425696941b990ae8d589-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ecc7580a7e84b5a94498489bc96a81c",name:"TPT - JP - AEM - YDN - Christmas Campaign 2023 Success Page - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC30708d5d456541978ca6ff8017763106-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7efc5f0c5e32455c810f2c154c4d8e92",name:"TPT - NO - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/bygg-din-bmw.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC80e07b04b02a424aa800dabf0bdc90d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7f2f066d6cab4ae8927701ee46fa89d0",name:"ACDL GROUP - ALL - FORMS - DLP - 0020 - Event - eventKey preparation for mapping for version < 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:8e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"[tron|lft]_v10.0.0",operator:"versionBefore"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6610071",code:"    let effect = dl.get('eventInfo.effect');\n    let eventName = dl.get('eventInfo.eventName')\n    if (eventName === 'form') {\n        let formEffect = !!effect.indexOf(\" > \") ? effect.split(\" > \")[1] : effect;\n        dl.mergeDeep({\n            eventInfo: {\n                attributes: {\n                    form: {\n                        \"formEffect\": formEffect\n                    }\n                }\n            }\n        })\n    }\n    // eventEffect would be \"nsc > form started\" and eventInfo.type would be of type \"rfo\", \"rfi\", etc...\n    dl.assign(`eventInfo.form.effect.${dl.get('eventInfo.effect').split(' > ')[1].toLowerCase()}.type`, dl.get('eventInfo.type').split('~')); // will provide as ex : form.effect.form started.type : 'rfo'\n  \n    // for local forms formLeadType mapping\n    if(dl.get('eventInfo.category.primaryCategory') === 'local form'){\n        dl.assign(`eventInfo.form.effect.${dl.get('eventInfo.effect').split(' > ')[1].toLowerCase()}.formLeadType`,dl.get('eventInfo.category.subCategory2'))\n    }   \n\n    // eventEffect \"nsc >  form step\" can have multiple step numbers e.g 1,2,3 so below code is used to generalize the eventEffect the new value will be \"form step\" in the datalayer\n    if (eventName === 'form' && effect.indexOf(\"form step\") > -1) {\n        let formEffect = !!effect.indexOf(\" > \") ? effect.split(\" > \")[1] : effect;\n        let formStep = /\\d/.test(formEffect) ? formEffect.replace(/\\d+/g, \"\").trim() : formEffect;\n        dl.assign('eventInfo.form.effect', formStep)\n    }\n\n    if (eventName === 'form') {\n        const formInfo = {\n            \"formName\": dl.get('eventInfo.category.subCategory1'),\n            \"formOrigin\": dl.get('eventInfo.category.primaryCategory'),\n            \"formStep\": dl.get('eventInfo.attributes.form.formEffect'),\n            \"formType\": dl.get('eventInfo.type'),\n            \"formLeadType\": dl.get('eventInfo.category.subCategory2')\n        }\n        dl.assign('eventInfo.form.formInfo', formInfo)\n\n    } else if (eventName != 'form' && ['adobe form', 'local form', 'custom central form', 'custom local form'].indexOf(dl.get('eventInfo.category.primaryCategory')) > -1) {\n        const otherInfo = {\n            \"formType\": dl.get('eventInfo.attributes.form.formType'),\n            \"formName\": dl.get('eventInfo.attributes.form.formName'),\n            \"formOrigin\": dl.get('eventInfo.category.primaryCategory'),\n            \"formLeadType\": dl.get('event.attributes.form.formLeadType')\n        }\n        dl.assign('eventInfo.form.formInfo', otherInfo)\n    }\n    dl.assign('eventInfo.form.formInfo.formVariant', dl.get('eventInfo.attributes.form.formVariant'))\n    dl.assign('eventInfo.form.formInfo.formID', dl.get('eventInfo.attributes.form.rfxID'))\n    dl.assign('eventInfo.form.formInfo.stepAmounts', dl.get('eventInfo.attributes.stepAmounts'))\n    dl.assign('eventInfo.form.formInfo.stepName', dl.get('eventInfo.attributes.stepName'))\n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RL7f8b87a319f64dbba346250501b9a807",name:"ACDL GROUP - ALL - AEM - ADPT - STAGE X connector",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{eventRegex:"^(aem|launch) page loaded$",withConsent:"",afterPageView:!1,afterNoPageView:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC651ff720f9064c2c80d00800f42a9357-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7fabff99fd774237b91057a931922db8",name:"TPT - NL - AEM - Adwords - Confirm reservation click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Bevestig reservering"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b79ecdfaace4980b180d030bbd26bd3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7faf4e76cdae49269f25a107a0fd17a5",name:"TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf997a5b1432442ba54904d590c6cc26-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7feea09357894309824708181d993d90",name:"TPT - PL - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe3c4c1c699af4b428d0530750276f022-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ff85d01e4a04a28b0e91ae57c8f21c3",name:"TPT - ES - FORMS - GTagDC - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7697ea700c2445d2bf697237b6acb2e7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL7ffbaec4d8b947c393550ec94e43c094",name:"TPT - JP - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa82c27e6c70544e9992c82834671db88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80049a6474764c92b0f9b4aecde3e17e",name:"EBR - PT - All Pages - Custom Script - Visitor Reco Script ",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.pt"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93004730ea6944bca8e3d69cae17e00d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL801b99c79cdf4ec3afe9dd27906206bd",name:"TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf0bf3ff8fe6e411db1de651fd3e7b9cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL802a0b9429184aa0821546e871b30f95",name:"DCR - ALL - NSC - AA - Ignition One Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ignitionOneTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.eventType:window.ignitionone.eventType,a=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.formType:window.ignitionone.formType;a=a&&"contact"==a.toLowerCase()?"RFC":a,window.ignitionone.previousFormType=window.ignitionone.formType,window.ignitionOne=window.ignitionOne||{},window.ignitionOne=Object.assign(window.ignitionOne,window.ignitionone),delete window.ignitionone.previousFormType,_satellite.getVar("setDefaultVariables",e)(t);var o=_satellite.getVar("snapshotDL");let c=window.location.href,d=/(\.bmw\.com\/[a-zA-Z]{2}\-[a-zA-Z]{2}\/)/g,l=/(\.bmw\.)|(\.mini\.)|(\.bmw-motorrad\.)|(\.bmwusa\.com\.)|(customer\.bmwgroup\.com)/g,u=/(\.bmw\.com|.bmw\-welt\.com)\/[a-zA-Z]{2}\//g.test(c)?"special website":d.test(c)||l.test(c)?"nsc website":"special website";switch(t.prop5="dedicated forms",t.prop6="ignitionOne",t.prop9="step 1/1",t.prop10=window.ignitionOne.isCombo?"combo forms":"dedicated forms",t.prop41="pop-up",t.prop42=u,t.prop43="forms",t.prop53="ignitionOne",t.prop56="form","Impression"!=s&&"impression"!=s||(t.prop8="form started",t.prop16="ignitionOne form",t.eVar34="nsc > form started"),"Start"!=s&&"start"!=s||(t.prop8="first form interaction",t.prop16="ignitionOne form",t.eVar34="nsc > first form interaction"),"End"!=s&&"end"!=s||(t.prop8="form finished",t.prop16="request success",t.eVar34="nsc > form finished"),t.prop1=o.get("page.pageInfo.pageName").indexOf("nsc > ")>-1?o.get("page.pageInfo.pageName"):"nsc > "+o.get("page.pageInfo.pageName"),t.prop2="form",t.prop3=a,t.prop7="generic",t.prop11=a,t.prop19=a,t.prop28="virtual page",t.prop29=o.get("page.pageInfo.version"),t.prop54=a,t.eVar4=o.get("page.pageInfo.destinationUrl"),t.eVar135=o.get("page.pageInfo.devEnv"),"locally developed"==t.prop42&&(t.eVar137="local"),s){case"Start":var n={TDA:"event5,event6",RFI:"event5,event6",RFC:"event5,event6",RFO:"event5,event6",ROI:"event5,event6","FS RFO":"event33,event34","not set":""};t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a]);break;case"Impression":var i={TDA:"event3,event4,event85,event86",RFI:"event3,event4,event45,event46",RFC:"event3,event4,event33,event34",RFO:"event3,event4,event61,event62",ROI:"event3,event4","FS RFO":"event3,event4,event102,event103","not set":""};t.events=t.apl(t.events,i[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,i[a]);break;case"End":var r={TDA:"event15,event16,event87,event88",RFI:"event15,event16,event47,event48",RFC:"event15,event16,event35,event36",RFO:"event15,event16,event63,event64",ROI:"event15,event16","FS RFO":"event15,event16,event104,event105","not set":""};t.events=t.apl(t.events,r[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,r[a])}t.linkTrackVars+="prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14,eVar137"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Ignition One",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL80400b98288b4cb7a8809c6e596a265e",name:"TPT - RO - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC65d9be9b062449138f6a6d596dcf2902-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL804d3433c0e5453d809c890f9e5da12c",name:"TPT - RO - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title*="tda"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e17a90d25f44444a3362e4726220b4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80564685e61843119062444c1d15170f",name:" TPT - FI - AEM - Gtag_DC - Model Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/footer/osta/hinnastot-ja-esitteet.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/content/dam/bmw/marketNORDICS/bmw_fi/ladattavat/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3c3458c05c2a4cb68bd7752aed3be9b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL805b9005a02c4b3aba57249149c8aa50",name:"TPT - LU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC13be6eb81ce34802936762fb092861e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL806319c7a0744da39dff39dd34acb40a",name:"TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#action-bar div:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#custom-dealer-container a.location__detail-website",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"title",value:"Book a service"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("URLNoParam");"www.bmw.co.uk/en/all-models"==e?_satellite.setVar("ruleType","floodlight_price_list_item"):"www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html"==e?_satellite.setVar("ruleType","floodlight_dealer_confirmation"):"www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html"==e&&_satellite.setVar("ruleType","floodlight_find_your_bmw")}catch(e){_satellite.logger.error("TPT FloodLight UK",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e66d227167d4ae9b140e1c64f3d7b33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8090d1207ced4c97add5c4e718f2018b",name:"TPT - DE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe8e1f3439dfa4b53ab27940703e9887f-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL80a0fb04c05c4d088d63d214804156f2",name:"TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC065bab98529b4238a6af908f9b0d023c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80a1affae4454b28b91b7c12346c0c02",name:"TPT - SK - AEM - Zeta/IgnitionOne - TDA/RFO Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{
modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8d644f428aa34c24ad2091376389aa64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80b41b5f08b14a3ebc1ea56b0a5e7e80",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4d4c408879dc475ca2ae0d744351dc66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80e154c9318345c9a32dec44278991c5",name:"TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33596592a4404afd8fa67fe5b947af9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80ea616a99a34037b42a969330ea8c9e",name:"TPT - AU - AEM - GtagDC - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCca64f998eab0454997d0d4e80fb6117b-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL80f556ce8f81426ab65aeab06215c896",name:"TPT - AT - AEM - AdWords - Start Video - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC430f8905cf3346fa8c572ec6a70992ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL810d7a3ab5fd4eceab8f321b4f33e316",name:"TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ed9f974623242e2a867e835b9a9d3aa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL811c886a00584aefa48ecb9989422a46",name:"TPT - TH - AEM - Line - RFO ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a#button-72651b9519",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0a44cc3464824f38a5418875803f5edb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL813e86af33984c57ae829524bd24c21b",name:"TPT - DE,KR,UK,GB - AEM - Qualtrics Adhoc - Satisfaction with electric content",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%qualtrics_randomizer%",rightOperand:"Adhoc"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"bmw.de"==_satellite.getVar("topLevelDomain")||"bmw.co.kr"==_satellite.getVar("topLevelDomain")||"bmw.co.uk"==_satellite.getVar("topLevelDomain")}catch(t){var e={from:"TPT",type:"Rule",name:"TPT - DE,KR,UK,GB - AEM - Qualtrics Adhoc - Satisfaction with electric content"};_satellite.logger.error(t,e)}}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3850a9b336094f3bbf6430aeffc6fae1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81644127c5b1499ea6ec0e2fa16a3eae",name:"TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1332f620b4724a4ab8e8a19858ba1737-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81699fbbd8f845f19be1c130d366b4b2",name:"TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC85205352a01345d3b8d1cb307011e2e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81b3a7abbf2e4e97b493a74a6be79ba6",name:"TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd849931746264b95bd038f3d8e1c959c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81b9bd0f2cf442a99f47edad22140992",name:"TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://meinprime.bmw.at"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-prime/prime.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe5ecdeef82c94a238dd9164291d5ebbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL81f82b168dfb4570b39245b79bcef72d",name:"TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4d182c4e2ed243e0a3b12dd1bc7c5d88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL826157e4add2459ba477279323fef857",name:"TPT - DE - AEM - Adwords - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Jetzt zahlungspflichtig bestellen"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36133827f3c04c08ba149e2ebf6448e8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL828f97cb2c804b23867705a97a35748d",name:"TPT - TH - AEM - Facebook - ROI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC308d27f4f0bb475ab0c96b3474abe445-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL829f33788b8f426a903ac66fec421821",name:"TPT - TH - AEM - Facebook - Test Drive Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC722cc1dcc91943448b511fc0db89d047-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL82bb1502f932447da6ebb179f06cba67",name:"TPT - PL - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8fd57eb42421498886e2990415a2b246-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83025bcb1ee54553b2c41a632ed14a55",name:"TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9c769efc62724354acb3f8b440ac2180-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL830c23d528f44c009d141a52900cecc4",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - Event - media mapping",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4606601",code:'let eventType = dl.get(\'eventInfo.type\')\n\nif(eventType == \'video\'){\n  const mediaInfo = {\n    "mediaName" : dl.get("eventInfo.category.subCategory1"),\n    "mediaHosting" : dl.get("eventInfo.category.subCategory2"),\n    "mediaType" : eventType\n  }\n  dl.assign(`eventInfo.mediaInfo.${eventType}`, mediaInfo)\n}\n'},timeout:8e3,delayNext:!0}]},{id:"RL83170d0d9ab749f6afc9c7e93cf0fadb",name:"TPT - ES - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa3c240b7cdd24bd8b230eea9712d370e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL839b5f0592b941f2b1998c9cc93b7e80",name:"TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f92cc7a58884e5690eef2395d26ad6a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83a3243f16c742beb71388855ab7f910",name:"TPT - SE - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f26fb31053d44379f32205bb16264bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83c010ef53af4ebcbaf083588497ccb6",name:"TPT - TH - AEM - TikTok - All pages EstimatorButton- EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.ds2-sticky-sales-bar__item-wrapper > li:nth-child(1) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC565c9938ceac4d78ad3f7141059365d2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL83c72662b8794a9cbb845f4755f3d527",name:"ACDL GROUP - ALL - ANY - DLP - 0700 - PV dedup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:700}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dynExec.js",settings:{ID:"DYN_action_7068096",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaad2f8a14ea347829552a0f1e42d3c84-code.min.js",path:"base/pvDedup",type:"DYN"},timeout:2e3,delayNext:!0}]},{id:"RL83cd6331a73e4eb48da9c2b3d2cb41f4",name:"DCR - All - AEM - AA - Stock Locator Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.attributes.searchResults");if(_satellite.getVar("smartPreviousValueManager"),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sl > click dealer email")>0?t.eVar34="stock > click dealer email":t.eVar34=t.eVar34.replace("sl > click dealer phone","stock > click dealer phone"),t.eVar34.indexOf("sl >")<0?t.eVar34="stock > "+t.eVar34:t.eVar34=t.eVar34.replace("sl >","stock > "),a&&a.indexOf("search filter selected")>-1&&(t.prop56="search",t.prop55=n,t.prop53="vehicle"),-1!=a.indexOf("/ssl/requests/rfo")||-1!=a.indexOf("/topics/offerte")||-1!=a.indexOf("contact.bmw.fr")||-1!=a.indexOf("/checkout/cart")||-1!=a.indexOf("/forms/angebotsanfrage")||-1!=a.indexOf("/contact/campagne-stock-locator")||-1!=a.indexOf("/forms/rfo")||-1!=a.indexOf("/ko/fastlane")?(t.events=t.apl(t.events,"event375,event376"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event375,event376")):"sl > start"==o&&(t.events=t.apl(t.events,"event371,event372"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event371,event372")),_satellite.getVar("snapshotDL").get("page.pageInfo.variant"),t.prop42="stock locator",t.prop43=-1!=s.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,"digital > new car stock locator"===s.get("component.0.componentInfo.componentName")?(t.prop19="central new\xa0car stock locator",t.prop54="central new\xa0car stock locator"):(t.prop19="central used\xa0car stock locator",t.prop54="central used\xa0car stock locator"),"sl > start"===(o=s.get("event.0.eventInfo.eventName"))||"sl > interactions"===o||"sl > ss: start"===o||"sl > ss: interaction"===o?t.prop56="interaction":"sl > errors"!==o&&"sl > ss: errors"!==o||(t.prop56="error"),void 0===a||-1==a.indexOf("banner slided right")&&-1==a.indexOf("vehicle details clicked")&&-1==a.indexOf("banner slided left")&&-1==a.indexOf("back")&&-1==a.indexOf("banner slided with pagination dot")&&-1==a.indexOf("ss : show vehicle details clicked")&&-1==a.indexOf("disclaimer layer closed")&&-1==a.indexOf("ss : see more vehicles clicked")&&-1==a.indexOf("show all vehicles")&&-1==a.indexOf("accordion")?void 0===a||-1==a.indexOf("dealer selection")&&-1==a.indexOf("sort lowest price")&&-1==a.indexOf("location selection")&&-1==a.indexOf("sort")?void 0===a||-1==a.indexOf("stock locator started")&&-1==a.indexOf("ss : similarity search started")&&-1==a.indexOf("disclaimer layer opened")||(t.prop53="automatic"):t.prop53="success":t.prop53="ux",t.products)t.products.indexOf("search")>-1&&(i=_satellite.getVar("setDefaultProductVariables"),t.products+=i.toString());else{var i=_satellite.getVar("setDefaultProductVariables");t.products=i.toString()}try{const e={"sf widget disabled":!0,"back to configurator":!0};var r=_satellite.getVar("suppressStockEvents")||{},c=t.eVar34.toLowerCase().split(">"),d=c[1].trim(),l=c[2].trim();e.hasOwnProperty(d)&&(r[d]?(_satellite.logger.log("aborting further server call for "+t.eVar34),t.abort=!0):(r[d]=!0,_satellite.setVar("suppressStockEvents",r))),e.hasOwnProperty(l)&&(r[l]?(_satellite.logger.log("aborting further server call for "+t.eVar34),t.abort=!0):(r[l]=!0,_satellite.setVar("suppressStockEvents",r)))}catch(t){_satellite.logger.error("Error with suppresion logic",e.$rule.name+t)}t.linkTrackVars+="prop27,prop56,prop55,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,prop54,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stocklocator",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL83d18cb14c3e4d9b980454b54d180c8f",name:"TPT - RO - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ab59e78015d4a64878369472068da59-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL83e36f04382d439e812450d97a25401a",name:"TPT - TH - AEM - Line - Link to Test Drive - EN - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-89864b518d.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-b22b3baadd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:50}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC91c786d739fc41b285af64fe874d27d0-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RL83f67f4d03404b74a6b4c4c6e867cd28",name:"TPT - ES - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d5de56ed64547f0a9a1d87de84ef484-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL841e2c68e2de403690213df5285ab5c4",name:"TPT - BG - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd19fe39d429045258ce893e1c7c475d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL84f44ddf46744e18932e7503098f211a",name:"TPT - HU - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb247a2e910c41a99568baa5d1b9d7c5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85133ae2c9854c5c85dc86b623f9a17a",name:"TPT - HU - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC560fc43e0da04670ae2813d009fe520f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL851f9c39138c471693986f55dfbc586c",name:"TPT - UK - AEM - Adwords - Form Submit - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38933d4f182246d5893b300126744f6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85259368c06e4a6fa41bd7e04d9be584",name:"TPT - FI - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb094477b108d4a29937e5f99805867a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85340ac3399f42ad9b224935502da563",name:"TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc379af0419164dd89184e54ac88408a0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8549d8e6d88a469e9b188b803bcde598",name:"TPT - JP - AEM - SmartNews - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC29eeded616d44c75a3d65c575a273701-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85bc930c9809410ab217d2f28b63d603",name:"DCR - All - AEM - AA - Compare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"compare_technical_data_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s,a,o,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.attributes.linkedComponent.componentInfo");for(i=0;i<c.get("component").length;i++){var l=i.toString();c.get("component."+l+".componentInfo.componentID")==d&&(_satellite.logger.log("related component - "+l),a=c.get("component."+l+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+l+".componentInfo.componentID",c.get("component."+l+".componentInfo.componentId")),o=c.get("component."+l+".category.primaryCategory"),n=c.get("component."+l+".category.subCategory01"),r=c.get("component."+l+".category.componentType",c.get("component."+l+".componentInfo.componentType")))}t.prop55=c.get("event.-1.attributes.errorCode"),t.eVar151=c.get("event.-1.attributes.totalVehicleCount"),t.eVar34=c.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.prop41=r,t.prop42=o,t.prop43=n,t.prop44=s,t.prop19=a,t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.pageName=t.prop1,t.linkTrackVars+="prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"compare",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL85c96340c4ba431b9794a6f67557a73b",name:"TPT - LU - FORMS - Adform - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdcf6bc14314b452ebc970318e6f53938-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL85edb60b249d4408889f7f57d7e3fc65",name:"TPT - CH - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd150cedf58824c6ba6222bd96ad926c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL860fe4ff9b664526831fea6c3a233ab7",name:"TPT - IT - AEM - Adword - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-track-download",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC40c7d134a2b840c28927179246aeb659-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL86788832dd7445afb62da1067d9f5ac9",
name:"TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbc537107e5e0459fa00b178184a0a73d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL868acf2a707648bbbe14d91c8a04a6b6",name:"TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC584bdc76ea2a4b7ca0b8dad9dea0e852-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC780b9b944d0a4194b7d03e08a8453f61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL86c64eaf553149878ff3566e822e7db6",name:"TPT - NL - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC46bc0e177e77453eb274af9d10ff4190-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL86f0cd63c4d04f14b51b40a2e3a410fc",name:"TPT - IT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC39895d609a6740749ab58a1416cb52c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL872737373b824a27aa647ec60be1ef2b",name:"TPT - SK - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd6b8abdfb1e24d278a8a5bbc6b589450-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8733e73c56a94cc69b46f6d93ccb6161",name:"TPT - TH - AEM - GtagAW - Link to Make An Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC82329bbc9f2045fa927c5dc520dd1318-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8735ed5471a94a3fb7fbf2972809199d",name:"TPT - DE - AEM - SalesViewer - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9d11d363c36e4e40835a31d3b412a69e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8761e70b867943e4b06dd98ec80005a0",name:"TPT - NZ - AEM - DoubleClick - Campaign Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbefdc8ad8dc14bf5add35604f29723d8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL87e6bdb0ae6c4d56b108899d759def2b",name:"TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"testdrive.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCba5a1d879c064ee4bdfc54a58210b102-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL87f888c3d56d406cbcdb850cb80b3613",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4496bcfbd7d445d5a766e79e8e373f00-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL886f55e6b54045ca988e65ca488a1f28",name:"TPT - PT - AEM - Floodlight - Android Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Descarregue a app My BMW - Android"==$(this).taxt()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe855cc919395414a949bab05c60d3162-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL889ee79e7dfd40409075e39c27e0804f",name:"TPT - BR - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC19bea26399b042688d96a50cdeb611ad-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL88dab76258a84657aa5a415a1f7b29f4",name:"TPT - NL - AEM - Adwords - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC575639bda450458cb25bc6d4881eaf98-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL88ef3df1a0824529a1cfda578faa4c79",name:"TPT - SK - FORMS - Facebook - Adobe Form - RFO - ACDL - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1759e66234ef4e4393baae71d0f03fed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL88f311623c1d4c98817afdd32610b532",name:"PLR - ZA - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("consentMap");return"true"==("true"==_satellite.getVar("splitConsentEnabled")?consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString():_satellite.getVar("isRegulationAccepted_Tags"))}catch(t){_satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie"+e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8400df3cb4ab4a48a24aba4128547170-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL891b2320d408408fab3f0b9b7b01d3e0",name:"TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC96956ea5dd104c60a9ba78d8bd6b9560-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL893047398c374761955734cece3f26c9",name:"TPT - NL - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52c21d9ae88544bcad7bef993b9d94c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL896ff4ea18ac4557bcc9c0d8a35347e5",name:"TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,s){var a=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){a=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){a||s()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7e9d8060d83845e680da17660bb99d09-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8986121ce46e4264b6360a730e87431d",name:"TP2 - DE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/neufahrzeuge/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"pageview",operator:"equals"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5887868",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC587c1c3e29c24bdbb3e9dcde9e575afe-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!1,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!0,processingID:"AdobeAnalytics",toolsProcessingId:!1},timeout:2e3,delayNext:!0}]},{id:"RL89d3cd8485bf4f0bbd413c80a129ec53",name:"ACDL GROUP - SE - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2f75138f57d147c992b63599a89bb733-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL89edb965ac634022aaf8b62c8d143e0f",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd445d91b3c094b0ab43b046ccf5f2199-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a2f5a94f3a841e09d2d79aec795db16",name:"TPT - FI - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.FI",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa1396d061ff942bab811faf6a87ca23a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a678a335fe94a4899da6f654e14fcb3",name:"TPT - SK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9e7bcc16f12a429593f054ec13381c5d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a6e799806da49939746e5c14a2f48c8",name:"TPT - AT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC056d8c9f425449049cef5cf3e187aefb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8a7e56ec71b74640985f54fada94324c",name:"TPT - BE - AEM - Facebook - RFI - FormView - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10b2e902e7f84fa989033d527ed3de0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8acb5fce57364fbd8714baeea967f219",name:"TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd86ae2c6f1d345bf9af68ee93abba43a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8afa52edd10f4e7e9a92a266908136fc",name:"TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC432fa901da8f4bdea0f62eac1829482d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b12cab4ee404e27911ecc44f731c0a9",name:"TPT - ZA - AEM - Twitter - BMW Customer Support Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3106dd2e4f56487ebf4b30520cd8907a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8b30593ffc624a469a581ba859e54ca4",name:"AT - All - All Models -\xa0 Recommendation Entity Params - New Showroom Pages",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"pageview",operator:"equals"}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("topLevelDomain");if("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.co.uk"==e)return!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"page.category.primaryCategory",value:"showroom",operator:"equals"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5754047",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCebd55321d01f4316820412181df0f5cc-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!1,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!0,linkedProducts:!1,page_attributes:!1},useEPaaS:!0,processingID:"AdobeTargetAnalytics",toolsProcessingId:!1},timeout:2e3,delayNext:!0}]},{id:"RL8b3998057e514e78a878e1c8ccfcd134",name:"PLR - PT - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.pt"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdbc12f5f78d54030abd1e9306fef13b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b41b445a6384673975b9d48ad79caa2",name:"TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"(/DK/da/BMWI|/DK/da/BMW_BMWM)",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC21d7b4b317db4d4488100a441f41377c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b5bead9ebd04c8887808d96a30c86a4",name:"TPT - DE- AEM - Adform - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC639e6724e2d34e27a73d027842ee9767-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8b959981d57d4a2d98d68e7275c1d510",name:"HT - All - NSC - All - Custom Code - RegisterOnConsentChange",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName);\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM, true)\n                adobe.optIn.complete();\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL8c0132336ab94350b318195e6c23e189",name:"TPT - BE - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8085d75cfeee4a638ef80e998032cda6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c2735bc124a4c06a113ffab5e8dd27a",name:"TPT - SE - Chat - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%URL%",rightOperand:"https://www.bmw.se/sv/avdelning/tj%c3%a4nster/finansiera/%c3%b6versikt.html"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54d210791d8f44fa83852626866b4b18-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8c5ab792763041f69763cd40396598ba",name:"TPT - BE - AEM - Facebook - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3bae700de61e42dd8bdc3ab774357997-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8c8f0c92df774d7dae15102853fd6a09",name:"TPT - CZ - AEM - Webchat - All Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"webcz"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8770e71dfd7a414b99ec04a1a6cbec19-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8c9ba489353d49139d327e29c0ca3c10",name:"TPT - NO - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC978fcc2a060b467b968143be67bcc5d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8cb1c3314d414ff7905a9863f54f4c29",name:"TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd2b996cf8d84706ab993bb6468d51d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8d0ea26ca0d84f289d3465fe50be6b66",name:"TPT - HU - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1202730484e24cb6942120d75da61739-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8d1f78d4ed814c3584371e446349d16c",name:"TPT - NZ - AEM - Floodlight - eBroch Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7814be9e3f1c45d6ae3d2e73c5f5c8e6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8d946be247024f7796688ca64f327a99",name:"TPT - ZA - AEM - Facebook meta - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3600859232f43a7bb2ce9adce322d34-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8da5aa14fe724b328e2e6180a5225807",name:"DCR - All - NSC - AA - Dealer Locator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_integrated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_switch_map"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a="nsc > ",o=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("setDefaultVariables",e)(t);var n,r,c,d,l,u,b,m,f,p,g,v,h,P=s.get("product.-1.attributes.mmdr"),y=_satellite.getVar("setDefaultProductVariables");y.id=s.get("product.-1.attributes.mmdr"),y.category="new vehicle",y.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),y.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),y.merchEvars.eVar10=P,y.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=y.toString();var j=s.get("event.-1.attributes.relatedComponentID");for(i=0;i<s.get("component").length;i++){var C=i.toString();s.get("component."+C+".componentInfo.componentID")!=j&&s.get("component."+C+".componentInfo.componentId")!=j||(_satellite.logger.log("related component - "+C),r=s.get("component."+C+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),n=s.get("component."+C+".componentInfo.componentID",s.get("component."+C+".componentInfo.componentId")),s.get("component."+C+".category.subCategory01"),c=s.get("component."+C+".category.componentType",s.get("component."+C+".componentInfo.componentType")),d=s.get("component."+C+".attributes.errorMessage"),l=s.get("component."+C+".attributes.errorID"),u=s.get("component."+C+".attributes.onsiteSearchBrand",s.get("component."+C+".attributes.onSiteSearchBrand")),b=s.get("component."+C+".attributes.onsiteSearchTerm",s.get("component."+C+".attributes.onSiteSearchTerm")),m=s.get("component."+C+".attributes.onsiteSearchResults"),f=s.get("component."+C+".attributes.onsiteSearchResultsFilters"),s.get("component."+C+".attributes.onsiteSearchResultsType"),p=s.get("component."+C+".attributes.distanceFromDealer"),h=s.get("component."+C+".attributes.dealerName"),g=s.get("component."+C+".attributes.outletID"),v=s.get("component."+C+".attributes.dealerID"),variant=s.get("component."+C+".attributes.variant"))}var w,R=s.get("event.-1.eventInfo.eventName"),x=s.get("event.-1.eventInfo.effect"),I=s.get("event.-1.category.subCategory01"),E=s.get("event.-1.eventInfo.eventAction"),T=s.get("event.-1.eventInfo.cause"),A=s.get("event.-1.eventInfo.target");if("home dealer locator teaser impression"==R||"home dealer locator teaser click"==R)t.eVar34="home dealer locator teaser click"==R?a+x:a+R,t.eVar136="2020 - 06 - 15  dealer locator teaser",t.prop43="teaser",t.prop51="home dealer locator teaser click"==R?R:x,t.prop55=I;else{var L,k="",_=_satellite.getVar("searchDefaultProduct"),O="DLO Errors"==R?"datalayer field empty":"user selected";_=_satellite.getVar("searchDefaultProduct"),"datalayer field missing"==u&&"datalayer field empty"==u||(L="search;search;;;;"+_+"eVar30=datalayer field missing|eVar31="+O+"|eVar32=brand|eVar33="+u,k=t.apl(k,L)),"datalayer field missing"==f&&"datalayer field empty"==f||"string"==typeof f&&f.indexOf(",")>-1&&(L="search;search;;;;"+_+"eVar30=datalayer field missing|eVar31="+O+"|eVar32="+(f=f.replace(/"/g,"")).replace(/,/g,"~")+"|eVar33="+b.replace(/,/g,"~"),k=t.apl(k,L)),""!=k&&(_satellite.logger.log("dlo search - inside s.Products",k),t.products=t.apl(t.products,k)),t.eVar34="DLO Errors"==R?a+d:a+x,t.eVar40=g,t.eVar41=h,t.eVar42=v,t.eVar136="2020 - 06 - 15 Dealer Locator",t.prop43="search",t.prop50=I,t.prop51=p,t.prop55="DLO Errors"==R?l:m}t.prop1=t.pageName=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop3=r,t.prop19=r,t.prop53="dealer",t.prop24=m,t.prop41=c,t.prop42="nsc website",t.prop44=n,t.prop27=s.get("page.pageInfo.pageID"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"DLO Errors"==R?(t.prop56="error",t.prop53="backend 3rd party"):(t.prop56=1==("Select Dealer"==R||"Dealer Interaction"==R||"home dealer locator teaser impression"==R)?"interaction":"search",t.prop53=1==("Select Dealer"==R||"Dealer Interaction"==R||"home dealer locator teaser impression"==R)?"ux":"dealer"),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar31,prop57,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,prop41,pageName,products,eVar32,eVar33,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55");var D={"DLO Errors":"event931","DLO Start":"event271,event272","Select Dealer":"event277,event278","Select Preferred Dealer":"event285,event286","home dealer locator teaser impression":"event925,","home dealer locator teaser click":"event907","find dealer":"event271,event272,event275,event276","visit dealer":"event277,event288"};w=t.apl(w,D[R]),w=t.apl(w,D[x]),"DLO Start"==R&&(t.prop56="interaction",t.eVar34="nsc > "+x,t.prop53="success",t.prop52="automatic",t.prop57=E,t.prop55=I),"Select Dealer"!=R&&"Select Preferred Dealer"!=R||(t.prop56="interaction",t.eVar34="nsc > "+x,t.prop53="ux",t.prop52=T,t.prop57=E,t.prop55=I),"DLO Search"==R&&(t.prop56="search",t.eVar34="nsc > "+x,t.eVar32=t.prop53="dealer",t.prop52=T,A&&A.indexOf("type=")>-1&&(t.prop57=A.split("type=")[1].split("&")[0]),A&&A.indexOf("term=")>-1&&(t.eVar33=A.split("term=")[1].split("&")[0]),t.prop55=m,(f=f.toString()).indexOf("Location")>-1?w=t.apl(w,"event273,event274"):f.indexOf("Dealer")>-1&&(w=t.apl(w,"event275,event276"))),"Dealer Interaction"==R&&(t.prop56="interaction",t.eVar34="nsc > "+x,x&&x.indexOf("@")>-1&&(t.eVar34="nsc > dealer e-address clicked"),x&&0==/[a-zA-Z]+/.test(x)&&(t.eVar34="nsc > dealer phn number clicked"),t.prop53="ux",t.prop52=T,t.prop57=E,t.prop55=I,"Contact Information Show"==x||x.indexOf("@")>-1||x.indexOf("http")>-1?(w=t.apl(w,"event279, event280"),t.eVar34="nsc > value-rejected"):"Plan Route"==x?w=t.apl(w,"event281,event282"):"DLO Online appointment"==x?w=t.apl(w,"event283,event284"):"07322 96390"==x&&(t.eVar34="nsc > value-rejected")),t.events=w,t.linkTrackEvents=t.apl(t.linkTrackEvents,w)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DLO",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL8dd9fc838ccb4e5aa2636bffe7c4e0c9",name:"TPT - TH - AEM - Line - RFO Form Thank you page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf55011e87c6247fb8291b53e81c1a336-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8ddb4458a01c4e6d8416888b5149f9c2",name:"TPT - PT - AEM - Adwords - App Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1cc3d14653724c46af64e267d38e05fa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8de68b15918c4949b6d0f1691dd80cc6",name:"TP2  - ALL - AEM - Local Form Start - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"local > form started",operator:"includes"}},timeout:3e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5515257",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1273f58bbbe644a9b0f1b098b9d74524-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!1},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_6866863",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8c359588a5fc41e39d2d6660ee8f575f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2595557",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcbacda276349441a8c189acb39ead49a-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1733075",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfbc4534d11bb4e5a97cf1f24c1bc6189-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9689475",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3defb382b9424f83a54ea00eb557e685-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_2151866",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb71270eac5e463585f97d1a65107f45-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1740845",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC19a166f2067c4fceb71c85d237c99323-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1299539",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb06ff75baaf44be38751dd35c2cd6f23-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8166218",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC625f58ab1aac4beb84157d98128387b3-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL8dfd7c2aeb1c4655858c60a5fe974a4b",name:"TPT - TH - AEM - Adwords - RFO Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10d503369fcf4950acebe76c28a8c435-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8e14d8df96374e67a3f933c12bbd1aff",name:"TPT - BG - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6d0e7315ea143f69ba55fb7e5145b2f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e24281cc5e14cf4abb66abe1d31c010",name:"TPT - SE - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0d67f2ee9c443c7824c60f54c4e77d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e40ff789eb845d8b8e19dd6f583ecb8",name:"ACDL GROUP - ALL - CAR STOCK LOCATOR - DLP - 0900 - set specific Map",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"^stock > user finished the stock locator with cta",operator:"regex"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/setSubMap.js",settings:{ID:"MAP_action_55552",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc784086b36f548f4899b108da0f59c2f-code.min.js",path:"",type:"MAP"},timeout:2e3,delayNext:!0}]},{id:"RL8e4ccdb4aada42f59ae0584b85f92f6d",name:"TPT - TH - AEM - Line - RFO Form Thank you page - EN - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC86cbbd5906f7419591d5de33831b6838-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8e4fe87498da48b386d2d476b63ecacf",name:"TPT - IE - AEM - Adwords - TDA - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc91449ad7ece463fa8271b2f5b5ae789-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e76e8da1c3044d2944d6038c92b97d9",name:"TPT - SI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfd8ea59e1986460e97b78c6c73490caf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8e9d27306b36459292915ed5fad84142",name:"TPT - ZA - AEM - Adwords - BMW Customer Support Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC462602e07a9e47f1a9ef62f05ca39ba3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8eae7b1d8cbb4934a45ab9bc12903972",name:"ACDL GROUP - ALL - DCS - ADPT - DCS CEDDL Converter (promised)",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{code:function(){return adobeDataLayer.eventPromises.onWait(150,50,[e=>window.dcsDataLayer.pages[0].product.length&&window.dcsDataLayer.pages[0].page?e:0],!0)},eventRegex:"",withConsent:"",afterPageView:!1,afterNoPageView:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dynExec.js",settings:{ID:"DYN_action_9285210",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0362a3bfc8f4a3fb81f5893111c4e5a-code.min.js",path:"",type:"DYN"},timeout:2e3,delayNext:!0}]},{id:"RL8eba3c0faf1944cf94af8e88ec98fa46",name:"ACDL GROUP - NL - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9b466293a06b447abad7eee99b9a09f9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8ec16c6bd7564d1d9dbaad211f010c70",name:"TPT - BR - AEM - TikTok - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC618cdd9e0bec408e97d53a531002f152-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8edaf971751f4fa69c5a89aa6d25430b",name:"TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd673e1259f949a19a58531f72aca6c8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f89e5fa25b84073b7c14cb6ff642c05",name:"TPT - BR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC773f3b8a93c141ff8e3a9d3c39aa12ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL8f95507b6888456b8041155ab6ac3234",name:"TPT - FR - AEM - Adform - Confirmer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Confirmer et payer"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc54a6bc25ae9452abaa33940328908c6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8fa2b91920494e82b4458e6052d3d482",name:"TPT - TH - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa980ead477be4eaba01aa4fcfe9af3ba-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8fff0756ee3f4d3fafd5fcdbc664c501",name:"TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf6383b21d6d14523a1367c8150915f37-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9000188968d345c0aff30723ba145386",name:"TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC123f34987f46493db04493abbdcaa7ac-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfc63899918284a8bb3f9b31e6fdafca9-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{
id:"RL900d4c5d8e28444c8489828ae378a232",name:"TPT - DK - AEM - DoubleClick - Find BMW Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaef1b83ae44a4341848e0c9b13127f98-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL903365e2d133454fae03ed7928d5d3bb",name:"TPT - TH - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4a05125d8cf747378c0906da777842ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL90bcf47d418041ecb4ee39fa8fb66ef8",name:"TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf3128fec8ea449169ee1876bcb6d6bc6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL910585b1b3b0441eae06f32c855d11f6",name:"TPT - JP - AEM - TradeDesk - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC44f3726330e64e95b9642b277f7e8b26-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL914acf4bb6884aee92687a4dc1c318e4",name:"TP2  - ALL - AEM - Add To Wishlist Save - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"sales > dcs: Login, then add to wishlist",operator:"includes"}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.type",value:"checkout",operator:"includes"}},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1517128",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0b9d6867a3f840398582c975d0670299-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_7279841",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC676aa6af72ad476f833c503ce9e6c29c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6094780",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCac3ecd10bca140c7bbf21ad3959e6c2d-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL917db3acd76446a48978eb47d53de3d9",name:"TPT - MX - AEM - Applink - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcdf9ad8909e64a57819f2df6b0ffb660-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL918d1bed2c0c4eb8a36f22a785dd75f7",name:"TPT - TH - AEM - Facebook - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCba6ee3f0db054d7c876d923eab9757b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RL923352ea59ec42d09274d5a824c7ba00",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - Prevent Legacy Tron Events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return console.log("ACDL: FORMS: ",e),adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!1,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9908671",code:'let component = dl.get("component." + dl.get(\'eventInfo.reference.linkedComponent\') + ".componentInfo.componentName")\n\n//if (["custom central form", "local form"].indexOf(component) > -1) {\n//let componentName = dl.get(\'component.componentInfo.componentName\')\nlet pageName = dl.get(\'page.pageInfo.pageName\')\nlet eventAction = dl.get(\'eventInfo.eventAction\')\nlet eventEffect = dl.get(\'eventInfo.effect\')\nlet eventPrimaryCategory = dl.get(\'eventInfo.category.primaryCategory\')\nif (([""].indexOf(component) > -1) || ((["anchor", "anchor link"].indexOf(eventPrimaryCategory) > -1) && (["scroll"].indexOf(eventAction) > -1)) || ((eventEffect.includes(\'sales > dcs: Error message displayed:\'))&&(pageName=="nsc > standalone trade-in"))) {\n    dl.assign("eventInfo.state.filter.AA.block", true)\n}\n',path:"",type:"DLP"},timeout:5e3,delayNext:!0}]},{id:"RL923b63e6d47c4b908ad036f2044693a0",name:"TPT - IE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1e79d724330f4f1aa4e7e7e38faf076c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL926872a33c3d4cae812efff3ef0d2cfd",name:"TPT - PT - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe717e30f58e548bc854f3cb237cc0a67-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc26ee843d7b64c6d82f61bb66bf1f753-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1b1affa8560a49418b50450675621a9d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3e55441525f441ebad39d852f3f1c005-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL92809d7ee5b64860a70be3444fcfe113",name:"TPT - PL - AEM - Floodlight - Find Service Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!("Znajd\u017c Serwis"!=$(this).text()||!window.location.href.includes("/pl/topics/offers-and-services/Uslugi_serwisowe_BMW/invisible-service.html"))}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3a2df350ac154ca0892efe1873db06ec-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL929398b885464bc5a9407101d2ee5301",name:"TPT - SE - AEM - WebChat - NFSC Pages- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href.toLowerCase();if(e.indexOf("bmw.se/sv/avdelning/tj%C3%A4nster/finansiera/%C3%B6versikt.html")>-1||e.indexOf("bmw.se/sv/avdelning/tj%c3%a4nster/finansiera/bmw-f%c3%b6rs%c3%a4kring.html")>-1||e.indexOf("bmw.se/sv/avdelning/tj%c3%a4nster/finansiera/befintlig-kund.html")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC234b509e71d74e2dbc638b3da0cee4fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL929a940bf9fc45c6b44b54d18ac9b0f2",name:"TP2  - ALL - AEM - StoLo AIA - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"page load"==_satellite.getVar("getDL",e).get("eventInfo.eventAction")}},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/stocklocator",valueIsRegex:!0},{value:"/neuwagensuche",valueIsRegex:!0},{value:"/garageonline",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/results",valueIsRegex:!0},{value:"#/details",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6916122",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbc88d93eef8a4b399217964916739a36-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!0,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL92a593b4a53b4ea091bccb16cc1081e2",name:"AA GROUP - ALL - ANY - 1000 - eoOC, send pageview beacon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AA"},ruleOrder:1e3}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!1}},timeout:8e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"pageview",operator:"equals"}},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/analyticsMapAndSend.js",settings:{flags:{withPV:!0}},timeout:8e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/bounceTimer.js",settings:{},timeout:8e3,delayNext:!0}]},{id:"RL92f2b2ba3c054f55beab21120fe9d397",name:"TPT - JP - AEM - Adform - iFrame RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC71091d96cc504600a75d8c22ff31b917-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9302db69d5044eb587aa59e216be422f",name:"TPT - DE- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b07a64774d04c358048a6af32311d68-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9350298d3b6f4c709e52d0e7219daf05",name:"TPT - RU - AEM - Calltouch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa97c9780aa464035b0515c651c961ee7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL936acc19f10d48949d6a6f037deb08d0",name:"TPT - SI - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e3f5239bc8b43dc9f1b45cdac10bd1e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9396b51b0618434990307f8c2c334359",name:"TPT - DK - AEM - Adwords - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1e0696af0bbd46f7aebd4236e5f98945-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93b0cd0fc74d40868002779e6d4ac9e0",name:"TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9adfc50840be463791cf338bbdefdb1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC98e2e491367945139c4a9b39f04044cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL93fbeb1cfaa2488baf77d2933b63e36e",name:"TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c2c8c78c28440d3847925b7edf8362d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9415f6d733cf448e968ce941fccdf6b9",name:"TPT - UK - AEM - Facebook - iFrame Form RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b6b724c75ab4b24820ba71f9ac8a043-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL941d619e10164540be721e218d22db88",name:"TPT - TH - AEM - Adwords - Test Drive Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd18ee04245af4372a6f9d20526273dc4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL944eb1354e5c48c597760de541431612",name:"TPT - IT - AEM - Bing - Video Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87327028235644bdbcd07d778e6ddb53-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9456a191a88942f18aec49291a247dd7",name:"ACDL GROUP - ALL - ANY - DLP - 0090 - Product, Cart, Transaction - Product Fixes",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:90}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_1862509",code:'    const vehicleLookup = {\n        "new car": "new vehicle",\n        "new bike": "new vehicle",\n        "used car": "used vehicle",\n        "used bike": "used vehicle",\n        "accessory configurator": "after sales",\n        "oneshop": "after sales"\n    }\n    \n    let productKeys = new Set(dl.get(\'eventInfo.reference.linkedProducts\'));\n    let cartItemKeys = new Set(dl.get(\'eventInfo.reference.linkedCartItems\'))\n    let transactionItemKeys = new Set(dl.get(\'eventInfo.reference.linkedTransactionItems\'))\n    \n    let combinedUniqueKey = new Set([...productKeys,...cartItemKeys, ...transactionItemKeys]) \n    \n    const updateProductType = (objectType, key) => {\n        let category = `${objectType}.${key}.category`;\n        let productType = dl.get(`${category}.productType`) || "";\n        let productPrimaryCategory = dl.get(`${category}.primaryCategory`) || "";\n\n        if (productType && productPrimaryCategory) {\n            productPrimaryCategory = productPrimaryCategory.toLowerCase();\n            let newProductType = vehicleLookup[productPrimaryCategory] || "";\n            if (newProductType) {\n                dl.assign(`${category}.productType`, newProductType);\n            }\n        }\n    };\n\n    if (combinedUniqueKey.size) {\n        const objectTypes = [\'product\', \'cart.item\', \'transaction.item\'];\n        objectTypes.forEach((objType) => {\n            if (dl.get(objType)) {\n                combinedUniqueKey.forEach((key) => updateProductType(objType, key));\n            }\n        });\n    }\n',path:"base/productFixes/category",type:"DLP"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_1672528",code:"    let productKeys = new Set(dl.get('eventInfo.reference.linkedProducts'));\n    let cartItemKeys = new Set(dl.get('eventInfo.reference.linkedCartItems'))\n    let transactionItemKeys = new Set(dl.get('eventInfo.reference.linkedTransactionItems'))\n    let combinedUniqueKey = new Set([...productKeys,...cartItemKeys,...transactionItemKeys])\n\n    const updateMmdrVG = (objType, key) => {\n        let attribs = `${objType}.${key}.attributes`;\n        let mmdrVG = dl.get(attribs + \".mmdrVG\");\n        let mmdr = dl.get(attribs + \".mmdr\");\n        if (!mmdrVG && mmdr){\n            dl.assign(attribs + \".mmdrVG\", mmdr)\n        }\n    }\n\n    if(combinedUniqueKey.size){\n        const objectTypes = ['product', 'cart.item', 'transaction.item'];\n        objectTypes.forEach((objType) => {\n            if (dl.get(objType)) {\n                combinedUniqueKey.forEach((key) => updateMmdrVG(objType, key));\n            }\n        });\n    }\n",path:"base/productFixes/mmdrVG",type:"DLP"},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_7579733",code:"    let productKeys = new Set(dl.get('eventInfo.reference.linkedProducts'));\n    let cartItemKeys = new Set(dl.get('eventInfo.reference.linkedCartItems'))\n    let transactionItemKeys = new Set(dl.get('eventInfo.reference.linkedTransactionItems'))\n    let combinedUniqueKey = new Set([...productKeys,...cartItemKeys,...transactionItemKeys])\n\n    const setMostRecentModel = (objType, key) => {\n        let attribs = `${objType}.${key}.attributes`;\n        let mmdrVG = dl.get(attribs + \".mmdrVG\");\n        let modelCode = dl.get(attribs + \".modelCode\");\n        if (mmdrVG) {\n            dl.assign(attribs + \".mostRecentModel\", mmdrVG + (modelCode ? (\"\xa6\" + modelCode) : \"\"))\n        }\n    }\n\n    if(combinedUniqueKey.size){\n        const objectTypes = ['product', 'cart.item', 'transaction.item'];\n        objectTypes.forEach((objType) => {\n            if (dl.get(objType)) {\n                combinedUniqueKey.forEach((key) => setMostRecentModel(objType, key));\n            }\n        });\n    }\n",path:"base/productFixes/mostRecentModel",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RL945734713cb340da8e3c2eb41ccdc3c2",name:"DCR - All - NSC - AA - Adobe Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TDA"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RFO"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),i=s.get("event.-1.category.subCategory1"),r=s.get("event.-1.category.subCategory2"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o;var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"],evt:["event131,event132","event133,event134"],sws:["event135,event136","event137,event138"]},u=l[n.toLowerCase()];if(400!=i)var b=l[i.toLowerCase()];var m=l[r.toLowerCase()];"nsc > form started"==o?(d=t.apl(d,"event3,event4"),null!=m&&(d=t.apl(d,m[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=b&&(d=t.apl(d,b[0]))):"nsc > form finished"==o?(d=t.apl(d,"event15,event16"),null!=m&&(d=t.apl(d,m[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=b&&(d=t.apl(d,b[1]))):"nsc > form finish intention"==o||"form finish intension"==o?d=t.apl(d,"event13,event14"):"nsc > first form interaction"==o||"first form interaction"==o?d=t.apl(d,"event5,event6"):"nsc > form interaction"==o||"form interaction"==o?d=t.apl(d,"event9,event10"):o.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"nsc > form impression"==o||"form impression"==o?d=t.apl(d,"event925"):a.indexOf("error")>-1&&(d=t.apl(d,"event931"));var f=s.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+f),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.eVar137=s.get("component.-1.category.application","aem6"),t.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),t.eVar23=s.get("page.attributes.marketingConsent"),t.prop6="adobe form",t.prop7=s.get("event.-1.category.subCategory1"),t.prop8=-1==o.indexOf("nsc >")?o:o.substring(6),t.prop9=s.get("page.category.subCategory1"),t.prop10=s.get("page.category.subCategory2"),t.prop16=s.get("page.pageInfo.pageName"),t.prop17=s.get("event.-1.attributes.form.rfxID"),t.prop18=s.get("event.-1.category.subCategory2"),t.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroup")),t.eVar42=s.get("dealer.-1.dealerInfo.dealerID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerName")),t.eVar40=s.get("dealer.-1.dealerInfo.outletID",s.get("dealer.-1.dealerInfo.dealerOutletID"));var p=!1,g=s.get("pages.0.page.category.subCategory2",s.get("pages.0.page.category.subCategory02"));if(_satellite.logger.info(s.snapshot),_satellite.logger.info("debug subCategory2: "+g),-1==t.events.indexOf("event3,event4")&&"success-pool"==g){_satellite.logger.info("debug: Workaround events");var v=s.get("pages.0.event.0.category.primaryCategory",s.get("pages.0.event.0.category.primaryCatergory")),h=s.get("pages.0.event.0.eventInfo.effect");if(_satellite.logger.info("debug: event0 ",s.get("pages.0.event.0")),"adobe form"==v&&"nsc > form finished"==h){t.events=t.apl(t.events,"event15,event16");var P=s.get("pages.0.event.0.category.subCategory1"),y=s.get("pages.0.event.0.category.subCategory2"),j=l[v.toLowerCase()],C=l[P.toLowerCase()],w=l[y.toLowerCase()];null!=w&&(t.events=t.apl(t.events,w[1])),null!=j&&(t.events=t.apl(t.events,j[1])),"RFI"!=v&&"ROI"!=v&&"FS RFO"!=v||null!=C&&(t.events=t.apl(t.events,C[1])),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),p=!0}}p&&(_satellite.logger.info("debug: Workaround"),t.prop7=s.get("pages.0.event.0.category.subCategory1"),t.prop8=-1==s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?s.get("pages.0.event.0.eventInfo.effect"):s.get("pages.0.event.0.eventInfo.effect").substring(6),t.prop11=s.get("pages.0.event.0.category.primaryCategory",s.get("pages.0.event.0.category.primaryCatergory")),t.prop17=s.get("pages.0.event.0.attributes.form.rfxID"),t.eVar34=-1==s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?"nsc > "+h:h,t.eVar41=s.get("pages.0.dealer.-1.dealerInfo.dealerGroupName",s.get("pages.0.dealer.-1.dealerInfo.dealerGroup")),t.eVar42=s.get("pages.0.dealer.-1.dealerInfo.dealerID",s.get("pages.0.dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=s.get("pages.0.dealer.-1.dealerInfo.dealerOutletName",s.get("pages.0.dealer.-1.dealerInfo.dealerName")),t.eVar40=s.get("pages.0.dealer.-1.dealerInfo.outletID",s.get("pages.0.dealer.-1.dealerInfo.dealerOutletID"))),t.prop42="nsc website",t.prop43="forms",("form"==s.get("component.-1.category.subCategory01")||"form"==s.get("component.-1.category.subCategory1"))&&"aem6"==s.get("component.-1.category.application")||s.get("event.-1.eventInfo.effect"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop11=n,t.prop55="generic"),t.prop10=s.get("event.-1.attributes.form.formVariant"),
t.prop16=s.get("event.-1.attributes.form.stepName"),t.prop9=s.get("event.-1.attributes.form.stepAmount"),a=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.type"),"form"==a?(t.prop6="adobe form",t.prop8=-1==s.get("event.-1.eventInfo.effect").indexOf("nsc >")?s.get("event.-1.eventInfo.effect"):s.get("event.-1.eventInfo.effect").substring(6),t.prop11=n,t.prop56=a,t.prop9=s.get("event.-1.attributes.form.stepAmounts",s.get("page.category.subCategory1")),t.prop16=s.get("event.-1.attributes.form.stepName",s.get("page.pageInfo.pageName"))):"error"==a?(t.prop6="",t.prop8="",t.prop11="",t.prop52=s.get("event.-1.eventInfo.cause"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop55=s.get("event.-1.category.subCategory1"),t.prop56=a,t.eVar34=s.get("event.-1.eventInfo.effect"),"adobe form"!=s.get("event.-1.category.primaryCategory")&&"local form"!=s.get("event.-1.category.primaryCategory")&&"custom central form"!=s.get("event.-1.category.primaryCategory")&&"custom local form"!=s.get("event.-1.category.primaryCategory")||(t.prop6=s.get("event.-1.category.primaryCategory")),t.prop11=s.get("event.-1.attributes.form.formType")):(t.prop6="",t.prop8="",t.prop11="",t.prop53=s.get("event.-1.eventInfo.type"),t.prop56=a),t.prop19="adobe form";var R=s.get("page.pageInfo.pageName");if(-1!=R.indexOf("PREDOC-G26-BEVE-E")||-1!=R.indexOf("predoc-g26-beve-e")){t.prop11="rfo",t.prop7=R;var x=s.get("product-1.attributes.motorization",s.get("product.-1.attributes.engine"));if(x){var I=/[0-9]{3}[a-z]{1}/i,E=/xdrive[0-9]{2}[a-z]{1}/i,T=/sdrive[0-9]{2}[a-z]{1}/i,A=x.match(I)||x.match(E)||x.match(T);x.indexOf("i3 (120 ah)")>-1||x.indexOf("i3 (120ah)")>-1||x.indexOf("i3 120ah")>-1?x="i3 (120 ah)":x.indexOf("i3s (120 ah)")>-1||x.indexOf("i3s (120ah)")>-1||x.indexOf("i3s 120ah")>-1?x="i3s (120 ah)":A&&A.length&&(x=A[0].toUpperCase())}var L=_satellite.getVar("setDefaultProductVariables");L.id="g26",L.category="vehicle",L.merchEvars.eVar10="G26",L.merchEvars.eVar56="e",L.merchEvars.eVar57="beve",L.merchEvars.eVar44=s.get("product.-1.attributes.productionYear"),L.merchEvars.eVar45=s.get("product.-1.attributes.yearOfRegistration"),L.merchEvars.eVar46=s.get("product.-1.attributes.vehicleStatus",s.get("product.-1.attributes.vehicleSelection")),L.merchEvars.eVar47=s.get("product.-1.productInfo.color",s.get("product.-1.attributes.color")),L.merchEvars.eVar48=s.get("product.-1.attributes.modelCode"),L.merchEvars.eVar49=s.get("product.-1.attributes.gearing"),L.merchEvars.eVar50=s.get("product.-1.attributes.series"),L.merchEvars.eVar52=s.get("product.-1.productInfo.productName",s.get("product.-1.attributes.modelName")),L.merchEvars.eVar53="model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":s.get("product.-1.category.primaryCategory"),L.merchEvars.eVar54=s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==s.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":s.get("product.-1.category.subCategory1"),L.merchEvars.eVar55=s.get("product.-1.category.subCategory2"),L.merchEvars.eVar58=x,L.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),t.products=L.toString(),"form started"==t.prop8?(d=t.apl(d,"event61,event62"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d)):"form finished"==t.prop8&&(d=t.apl(d,"event63,event64"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d))}t.linkTrackVars=t.apl(t.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(t){var k={from:"AA",type:"Rule",name:e.$rule.name};_satellite.logger.error(t,k)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Adobe Forms",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL945871686cf84d6abaeddf33c0614d4f",name:"TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3699ae09090946d897b7863d5ebba1c4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94666a27e5b7456cb9375e4731b2baec",name:"PLR - DE - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0},{value:"/all-models",valueIsRegex:!0},{value:"/index",valueIsRegex:!0},{value:"/home",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52507807148e49babf8022ceba7ab80c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL947bb161e417487aa7a183311886cfd9",name:"TPT - DE - AEM - Adobe Campaign Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b5db109de7f4ca8975f846f7ff3ca64-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94827f419d264e779825c4663106673b",name:"TPT - RU - AEM - Avito - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html")>-1}catch(e){return _satellite.logger.log("TPT RU Avito"+e),!1}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5790b758bf6b4d57b7b409eebabf6959-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94c9ee43b1324ce0a2cae7e3dba9bed5",name:"TPT - JP - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.co.jp/ja/topics/service-and-accessory/accessories/catalog/downloads.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd5df7be7e9b746ff990ec7f482d94499-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL94cae1e3cb6144c49be1191c5a1fa2fd",name:"ACDL GROUP - ALL - FORMS - DLP - 0900 - set specific Map for version < 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"[tron|lft]_v10.0.0",operator:"versionBefore"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/setSubMap.js",settings:{ID:"MAP_action_2794503",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50dc78cc95a14205bd19e68379861821-code.min.js",path:"",type:"MAP"},timeout:8e3,delayNext:!0}]},{id:"RL94cc77b148d24e7ba98a76e7b7eb4740",name:"TPT - TH - AEM - Adform - All pages EstimatorButton- EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-sticky-sales-bar__link.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a768e9a2dfc4a33ad9b4a087eb9f4fd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL94fd503fdafc4722b44251dbef940a25",name:"TPT - TH - AEM - Facebook - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf934cea9fe354a73a5da074ed9eb159b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9509115d164146d193460f2d743500d4",name:"TPT - ID - AEM - Adwords - Contact Email Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC51d0cf02737b43feb28813013ffee881-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL95599d6ff8e44577a04629d58613ea60",name:"TPT - DE - AEM - Floodlight - Checkout - PLR - p15r[c] copy",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".cx-webchat-chat-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/shop/ls/cart"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC040f6d04d6ba406c853ea0873326c2be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9582f2d8c81042fbac7df5725b4bad6c",name:"TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe72063d6f8a14b05a829a31974ac332f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL95f41e428c1d410eb7d940fbb9ecff21",name:"TPT - CA - AEM - DoubleClick - Lifestyle Find a Retailer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){return"Find a Retailer"===this.innerHTML}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-lifestyle.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4a33b534c3974719ba08ce87ccb522e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96077fe138cd4c32a5af15dcc930fbee",name:"TPT - BG - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa33fc64776fb450d891fbff8dcf04d2e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9644a8f8f26c49fba117e47f70852f7c",name:"TPT - SK - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC440843e85af34d30a54a991d01862b79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL964832b8558146cb87a292a6ee54d8ec",name:"DCR - All - AEM - AA - Stock Locator Page",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL");t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop50="page title",t.prop17=t.prop44=t.eVar71=t.prop54=t.prop11=t.prop7=t.prop8=t.prop6=t.prop55=t.prop51=t.prop24=t.prop52=t.eVar34=t.prop57=t.prop56=t.prop58=t.prop12=t.prop53=t.eVar23=t.eVar24="","undefined"==t.products&&(t.products=""),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,s.update("pageName",t.prop1,!0),t.prop42="stock locator",t.prop43=-1!=a.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat;var o=a.get("component.0.componentInfo.componentName");t.prop19="digital > new car stock locator"===o?"central new\xa0car stock locator":"central used\xa0car stock locator",s.update("componentSubcategory1",t.prop43,!0),s.update("url",t.eVar4,!0),s.update("pageSubCategory01",t.prop4,!0),t.eVar14=s.get("url"),t.prop31=s.get("pagePrimaryCategory"),t.prop32=s.get("pageSubCategory01"),t.prop33=s.get("pageName"),t.eVar28=s.get("componentSubcategory1");var n=_satellite.getVar("topLevelDomain");"true"!=_satellite.getVar("isAdobeAnalyticsAllowed")||"bmw.de"!=n&&"bmw.fr"!=n&&"bmw.co.uk"!=n&&"bmw.it"!=n&&"bmw.nl"!=n&&"bmw.es"!=n||function(){function e(){o||(o=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics - v"+a)))}function s(e){if(e)n=e;else{n=Math.random()+"_"+Date.now(),function(){for(var e=0,t=document.domain,s=t.split("."),a="_cs_tld"+(new Date).getTime();e<s.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=s.slice(-1-++e).join("."),epaas.api.setPersistence(a,a);epaas.api.setPersistence(a,a)}();var s=new Date,a=s.getTime();a+=18e5,s.setTime(a),epaas.api.setPersistence(i,n)}t.eVar142=n,t.linkTrackVars+=",eVar142",_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:n}])}var a="1.9.0",o=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var n=null,i="_cs_mk",r="; "+document.cookie;if(r){var c=r.split("; "+i+"=");1==c.length?s():s(c[1].split(";")[0])}}()}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RL964abf44a41d4c9894288b81f9f5e60e",name:"TPT - SI - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC737abe8806fd484aabe9037f188844a8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL968161dd91994eff9a8a854fcb775fc7",name:"TPT - IE - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/tda-success-page.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc9aadc736c7e4f9791639a5c557b79f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96ac54ca7d574972805dc92e328321be",name:"TPT - NL - AEM - GTagDC - SignIn - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC108ef5ade01c461bbc2a3358095d03db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96ba405df8e145899b8f4ede6123f352",name:"TPT - TH - AEM - Floodlight - Test Drive Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0021bf6edef40778a032d96c4eff866-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL96d7ae7ee51d402caa06796a9ea6f98a",name:"TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4d3a3b197a884965aab92bcea94d6703-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL96e998054baf46f289770d649cc85026",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbcf027643af34329a112fa33a126f4e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL979452ee859345c3865e95afd399622c",name:"TPT - ES - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb1e30d23573d4d549c2678e8b4845907-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9796401769f942189d58d8eb261cd1ef",name:"TPT - DK - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC76be94d599a3471d80991cb8925d36a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97a8060faa3c442da05b97e10930642c",name:"TPT - SK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5605e61ba7de43ce94de7c3261186f47-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97caea92e16949848b3fb60ede2c93ca",name:"TPT - SG - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2599a10cd8894d23bf5bd7ac54613df2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97e52361569a4c5c988fd260ae6142d4",name:"TPT - LU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb435bcb98c64176990afc3e1fcc31b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL97ec804477a349e6a620a4fabba3a124",name:"TPT - UK - AEM - Twitter - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0ae2e428546047a6adca7f280f0b216b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9823d47aed734069a1e43b5bf5ac1595",name:"TPT - ZA - AEM - LinkedIn - Multpile - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcb1bfd2c6161407f8439b1b60746e1f2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9848398bf04248e7879797126dc818dd",name:"TPT - AU - AEM - Adform - Register Your Interest - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa1d52d372bee4b04beddac4ff18881f3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL98f287cd9bd44ea2b43b66129605f3f2",name:"TPT - TH - AEM - Facebook - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4e8009aa3d664da0896ee1d0d4d6fe6d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9978b5333eef40e79cbe7e6cfc3c55fc",name:"TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC390f95a2818a4ed2834108d2fa8dd099-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL99a205246b3e40ecbd6d759f1308a07c",name:"TPT - NL - AEM - Adwords - DCS PV - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52907d6886fc4635801d80840b6a5b17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9a2cf024c4e648ad9e75e874481eeb4b",name:"TPT - UK - AEM - Floodlight - KMI Start Vision 2023 - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc9c2d8e640b1471e97791c89000cc417-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9aa8307e886c48ff90c582b9185466fb",name:"TPT - HU - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdadbda8312e54931b37822218d1141bc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ab5a895f5904b618a8c204915206c0d",name:"TPT - MY - AEM - Facebook meta - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf9d1cb4d242e4133958fcd8f43cac332-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9abb0b1834fe4b23942815c195f73fdb",name:"TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa6f043ad718f4cff8143e11a422d8ccc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9af0793bb0a94382bebc4fc09e1591bd",name:"TPT - MY - AEM - Adwords - TDA Submission - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/footer/metanavigation/test-drive-request-confirmation.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36ffecd49878453b806f4f3e2abd4be8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b0d34dff97c41c9af06c036d0ab7f81",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7cc4fb58a8bc4bde95941133495dc264-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b13b5da51ad495ab9ccd93792102f16",name:"TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf1bbffb0cd0e4c23ba68feab4d21c034-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL9b1c1818fb6f47b6b02cc273c948a7f5",name:"TPT - TH - AEM - Adwords - Test Drive Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7087378",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd9973f137d894fcdaa8364c9eea16a97-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RL9b22c5174bff4a7590f472afd1a21ab9",name:"TPT - IE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0a6833ce4c8649ba9608ab9fe155522d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b3668e1b5474202b1e364f8fa72f991",name:"TPT - DE- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfafd409c53ba45668109da00296137d3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b54fe5cbf7a47fbb31ab45e7b4eb8b5",name:"ACDL GROUP - ALL - FORMS - DLP - 0900 - set specific Map for Tron version >= 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!0}},timeout:2e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"tron_v10.0.0",operator:"versionFrom"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/setSubMap.js",settings:{ID:"MAP_action_5622801",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8154ce07944248e286fddf33cead3794-code.min.js",path:"",type:"MAP"},timeout:8e3,delayNext:!0}]},{id:"RL9b575d52938c4e8b92216f7dbe7612af",name:"TPT - GR - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c] ",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9aa9a1806c604d84a27dc3cb44a8bc97-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b74ebaeb9744565b6e6fe337e5b5381",name:"TPT - CH - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC999ac824d9ec4343835812243c41d4fe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b7919c07290495d8970666635c67145",name:"TPT - HU - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8745cf58ea854c2c9ecd5864dfbf6404-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9b979deecb564fbe8d51f62b1e7d8d74",name:"TPT - TH - AEM - Line - Test Drive ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a#button-dc80509001",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfa049d76c20242e4a678044f2ae3c570-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9bd348a5cd334984bdbe813c529bd893",name:"TPT - ZA - AEM - Adform - Explore Latest offers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"bmw.co.za/en/topics/offers-and-services/bmw-financial-services/select-offers.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9cdba1e4f0274c03a6e25ca776e0eae6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9c247bdca8854ac8afbe132890ec12b8",name:"TPT - PL - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f7ed2db66df4d8a90fafbd07b675ceb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9cd528061e48485c8b319feb0dda4b5a",name:"TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5dcf7b3a8a54367a628d301efb2d7aa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ceb370a88574de6bc569e732e075ada",name:"TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb166c87d1d694024bd3ab291c761153e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d19a59ed677401fac60036bb4404a54",name:"TPT - SK - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sk/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3923db87edd4ed7b527971ef4628fbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d2a5e1a7c464453be400b5fd6e40d9a",name:"TPT - CA - AEM - gtagDC - Lease Maturity Application Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa979f3d5c18c40e5ae70a7a5eede6e57-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9d3351b0fa2142beb5e3b58a08a48968",name:"TPT - SG - AEM - DoubleClick - Promotion page - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC45b27daf5ebf4f6bb0356f8c3e257262-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d48bce0d8534d8282487a24015572ef",name:"TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .multistepline__submit div:nth-child(2) button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8b378f5073ab4ad880f08b5f0c7cf3ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9d7f4a1224c24619b432e73f54490bea",name:"TPT - ES - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbb48fb659b3e499398e8d84642409759-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL9d95463db22749069465ccd0ea42288a",name:"TPT - RU - AEM - Clever Data - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0},{value:"m122.bmw-int6.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC926fd232a78242008da23acd80dcd339-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9dba333d24f847f6b33d2e7f9064b2ca",name:"TPT - GR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52158e80785d4e7590b7a08bccda724e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9dc072b2b01e48d098a6a14ee6511fb9",name:"TPT - LU - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbffaed0f99984d3db96c742c3df37e3f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9dd830f011164cc3b692bad975cd2383",name:"TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:5e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.de",valueIsRegex:!0},{value:"m156.bmw-int3.com",valueIsRegex:!0},{value:"m156.bmw-int9.com",valueIsRegex:!0},{value:"m14.bmw-int1.com",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/faszination-bmw/connecteddrive/bmw-connected"}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC65e32f930ff945bdb0490a4246765df5-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe644934029b2485ab38e33ea6a756d08-source.min.js",language:"html",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RL9e102d27532d47769e8459f75fd4ccdd",name:"TPT - SE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8a61c2b4a084822a746e8c77c764881-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ea63a55ef54430facc0e27c03396d53",name:"TPT - LU - AEM - Facebook - All Pages - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc74fd87d35f648aaba01433d9eae27e4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9eae5e160c9444c9b1fe30b5f0f62a94",name:"TPT - BG - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f670e45695a478b8425feba7f588ca9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ec42184e67a4ae38eb21c765f8bfa37",name:"TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb094377415c844cea0add0f9b962d7d7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9eeb308d385244e7a4720e173e70e26a",name:"TPT - LU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb10450c3602544c4a07bb3e4415a97ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ef880daab0c4b67863b9ed47a13f484",name:"TPT - PT - AEM - GTagDC - App Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/topics/offers-and-services/visao-geral-aplicacao-bmw.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7333bff2d7424173b6d873660efc068b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f2aef531e584f1a8eb3f32e7f64c95d",name:"TPT - BR - AEM - DoubleClick - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCacdbe9c0a5f54a82be39f9b6c0162d88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f5cee2cd5954f2cb81f5c0716cf9bc9",name:"TPT - NL - AEM - Adwords - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7707d586bc754d408e7b585efbddc7b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9f9c889b0ba04f05b175ba2e7b41ccb9",name:"TPT - RU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3102f47ca5cc4a55ac0b50cb684df5bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9fb736bd436a4f72a8bea6fe679a502c",name:"TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t)return _satellite.setVar("previousStepName",e),!0;if(t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - IE - Configurator Section Tracker \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe2e5ea2a01b746e5b04a46252c390b2e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0409c188c8046ff835416c2d183aeae",name:"TPT - FR - FORMS - Linkedin - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf55d5c3793b24a8082888fdf7ab82df6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa066e21550824c3fa22ebc86b3698d9c",name:"TPT - SI - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC01ddfacd6727447497d8e95edb319553-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa08f44e857664e4894fc9a05e095656d",name:"TPT - AT - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdcda1a91e9f74ce7a5599fb20ff68815-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0a2f56deafe48a380ff3a012fd15ef1",name:"TPT - BE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2a2616b64cf943ba892701fc5263e5d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0aa7d5f7c7e4cf5a22d240c540f446e",name:"TPT - SK - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",
valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa052aa108bee4df89dffc3e818cfba3b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0d152075fba401e9c68e91564fab2a5",name:"TPT - ES - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es/es/configurator.html"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72bbdd41f34b466cb3623150125ccb66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0d1df6184c24030bbabc480aec77141",name:"TPT - RU - AEM - VK Pixel - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC00dcd9046a1345f7b3c580855ab27de4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa0ff42eee4704cff9e36d333ad995ccb",name:"TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a59cf852ac3464b99ef55544e0cb8fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa10f336542144aa582eb2cc5f8b38a7e",name:"TPT - AT - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC887ab67c0d524fd49aa201c7c7d1e1be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa11513d4d0b44f1e953a3af5b821f328",name:"AT - ACDL - Form Finished - Recommendations Entity Params",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("topLevelDomain");if("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.co.uk"==e)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5882548",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC60acc54a2027411a898f860e5c78509a-code.min.js",path:"",type:"TP2",vars:{std:!0,page:!1,thisTool:!1,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"",toolsProcessingId:!1},timeout:2e3,delayNext:!0}]},{id:"RLa1b37afbeb59489cb26bfd586ddb2ff0",name:"TPT - DK- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf320b4e37ae437bb70b07dae3b017d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa1fab1a9ddd44ca5a6e93695a721a52d",name:"TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6264d9d5724d4757b71b56a193de64ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa2004ed9a2444157a67cc32acc561a0a",name:"TPT - RU - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdfbb3c2d110a4ddf908bf5573a7a3743-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa20f9ce652334c06917b1d1ec1a30a2f",name:"ACDL GROUP - DE - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC60454b4c04bb4e9ca879a0fa19a0d48e-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLa237c9227af1426e95a038fc801be309",name:"DCR - BE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6fb92dc9fa604ae0b36ea631e5406208-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa269f9b6dfc549f3bf8782acc494d293",name:"TPT - TH - AEM - TikTok - RFO Form Submit Button - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbea7470d32414be28a1ac79bb19cb946-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa2868a7f8f4d40f6b47920f6d72571f9",name:"TPT - BE - AEM - Adform - Form Submission  - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa0744908c4614d188956bc41f40d0a5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa2b3ada42b414544afe833420fd17c1a",name:"TPT - IT - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10becc6574864370a32e24c9ef19fa35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa2c6864f247c451b99370e4f2adc27b4",name:"TPT - UK - AEM - GTagDC - VirtualAppoint Form Comp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC98d5861d10904bb0b005071e60789502-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa2e5ced737cc4d28941f635c24def9a2",name:"TPT - ZA - AEM - Adwords - BMW FIN SERVICES Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4669ac5ff80e4111ba0e807f13b8523a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa33a935ec8b84b1196a033171be4c1fc",name:"TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72976641855a41b99ddc5914c12e6c4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa376440d2f964c42ab1b8037beb4a57c",name:"TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5efab3e617e43b9851c00a34319c7b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa37ac853f33d4d0a945e91fde90fe814",name:"TPT - LU - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc769533fd2e94bee93eba746aeefcf35-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa38e4d3d947147269d9589dda8d18f90",name:"TPT - SK - FORMS - Adwords - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbaf9455f60fd4cf683f7d08cb493adb4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa3a329e750544691bef2549125a41291",name:"DCR - All - AEM - AA - DCS Canada",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"tracking: fs ca roadahead",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.effect");if(s.get("event.-1.eventInfo.eventName"),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=s.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sales >")<0&&(t.eVar34="sales > "+t.eVar34),t.eVar151=s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=s.get("component.-1.attributes.referringComponent"),t.eVar155=s.get("cart.attributes.offerID"),t.eVar156=s.get("page.attributes.checkoutID"),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop19="digital checkout solution","sales > dcs: order submit success"==a){var o=s.get("page.attributes.purchaseID");t.events=t.apl(t.events,"purchase"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"purchase"),t.events.indexOf("purchase")>-1&&(t.prop11="orders (new vehicle)"),t.purchaseID=o}var n=_satellite.getVar("topLevelDomain");"mini.de"!=n&&"mini.fr"!=n&&"mini.be"!=n&&"mini.lu"!=n&&"mini.it"!=n&&"mini-int7.com"!=n||(t.prop13="mini"),t.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(e){var i={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS Canada"};_satellite.logger.error(e,i)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLa444563c37294dd4a2d9a970cc4b32d6",name:"TPT - PL - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC29bcc8082bca4c9d86c15a9a4d3cc72a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa473ba518fd74c9f995b805ce3549139",name:"ACDL GROUP - ALL - ANY - DLP - 0900 - Event - Send Tron error to test RS",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:900}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_1310136",code:"    dl.assign('tools.analytics.report_suite', _satellite.getVar(\"AA-reportSuite\"))\n    \n    const devReportSuite = 'bmwgroup.group.global.test';\n    \n    // AAAA-4003 setting report suite to test if there are any tron implementation error\n    const eventSubCategory2 = dl.get('eventInfo.category.subCategory2') != undefined ? dl.get('eventInfo.category.subCategory2').toLowerCase() : ''\n    const eventSubCategory1 = dl.get('eventInfo.category.subCategory1') != undefined ? dl.get('eventInfo.category.subCategory1').toLowerCase() : ''\n    const eventCause = dl.get('eventInfo.cause') != undefined ? dl.get('eventInfo.cause').toLowerCase() : ''\n    \n    if (eventSubCategory2 == 'tron library' && eventCause.indexOf('tron implementation') > -1 ) {\n        if(eventSubCategory1 == 'e004' ) {\n            dl.assign(\"eventInfo.state.filter.AA.block\", true)\n        }else{\n            dl.assign('eventInfo.tools.analytics.error_report_suite', devReportSuite)\n        }\n    }\n",path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLa482df59f4c14ee5bf059c06a4aee073",name:"TPT - SI - AEM - Adform - MakeAppointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > div.ds2-main-wrapper.ds2-page--row-expanded > div > div > div > div > div > div > dlo-main > div > div.ds2-dlo-main--sidebar > dlo-sidebar > div > span > div.ds2-dlo-sidebar--dealer_details.ng-scope > dlo-dealer-details > div > div > div.ds2-dlo-panel--content-wrapper > div.ng-scope > div.ds2-dlo-dealer-details--button-container > button:nth-child(1)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ffa4842015a49f8a5983b7d97978208-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa4c9e4e8df374d9894c6449f21cc6a26",name:"TPT - UK - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf7d48bdcc6e4457fad274d2de59a57b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa4e55e117e394dde9079cc30a9bb65f3",name:"TPT - BE - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd0b663250e7f4f35810a49ad65918514-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa54b00688e864446a605cc3f2fb4e527",name:"TPT - RO - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f20ce07fcb747f09706cdd040c6a856-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa54bebf488d64e5a870689d7456e93d8",name:"TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54bcbe9f4eb34614acd0ac11664ea769-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa59e5dca5e4b4ff19dca0adef8fee6b9",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c0c524c7baf49ef8a06c05b19f49173-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5dedf04635f48bd9b31735a46f0a1a6",name:"TPT - FR - AEM - GTagDC - Site search - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfbc9a0df91f54a45aa410881f746c708-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa5f6658c93db4243bbda8df973649392",name:"TPT - MT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb9e32ef5282445f280bb385b51adba54-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa633d9b372464616bf7fddd4c8b3b932",name:"TPT - FR - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC765fca5cbd7848d3ae8a955511a628da-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa6787ffe489f43b381be6b99aa6af6dd",name:"TPT - SG - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c4bd5b34d0d40febdd98d14aed95ba8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa6889f3ccec8484e82d7743ab1ccd1ab",name:"TPT - TH - AEM - Line - RFO FormSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6dd5799f9c545b28085522b9adc9103-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa69148bb89a74476b258466fe902adee",name:"ACDL GROUP - ALL - ANY - DLP - 0090 - Product, Cart, Transaction - Add geoRegion to dealerOutletBuno",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:90}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.version",value:"tron",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_3873968",code:"    let productKeys = new Set(dl.get('eventInfo.reference.linkedProducts'));\n    let cartItemKeys = new Set(dl.get('eventInfo.reference.linkedCartItems'))\n    let transactionItemKeys = new Set(dl.get('eventInfo.reference.linkedTransactionItems'))\n    let combinedUniqueKey = new Set([...productKeys,...cartItemKeys,...transactionItemKeys])\n\n    const setBunoWithGeoRegion = (objType, key) => {\n        let outletBunoPath = `${objType}.${key}.attributes.linkedDealerOutletBuno`;\n        let outletBuno = dl.get(outletBunoPath)\n        if (outletBuno && outletBuno.includes('\xa6ddn\xa6') > -1) {\n            dl.assign(outletBunoPath ,outletBuno + dl.get('page.pageInfo.geoRegion'))\n        }\n    }\n\n    if(combinedUniqueKey.size){\n        const objectTypes = ['product', 'cart.item', 'transaction.item'];\n        objectTypes.forEach((objType) => {\n            if (dl.get(objType)) {\n                combinedUniqueKey.forEach((key) => setBunoWithGeoRegion(objType, key));\n            }\n        });\n    }\n",path:"base/bunoWithGeo",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RLa77c64be9ce741398ce437ee60005802",name:"TPT - PL - AEM - GTagDC - FindAService - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility > span.ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc7abd626456345208368bae4d8d55cd2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7a4bdeb4c7e48d0875cb6d4e408bfc9",name:"ACDL GROUP - CZ - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd44d7ecb10414ccb9c9ad2c19fd61468-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7b88f625f85403bb0ae610501413ad2",name:"TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC67da46e1d6eb4b1797d5bcd8ed005d03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7c0d408dbb84022a232b5f62df77945",name:"ACDL GROUP - ALL - ANY - DLP - 0060 - Event - performance and scroll data",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",
value:"(tpt-pageview|tpt-legacy event)",operator:"regex"}},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4885355",code:'    const perfKey = {\n        "mini": \'minidtm_perf\',\n        "bmw": \'bmwdtm_hq_perf\',\n        "rolls-royce": \'rollsroycedtm_perf\',\n        "oneshop": \'bmwdtm_hq_perf\'\n    }\n\n    let key = dl.get(\'eventInfo.origin.app\') === \'oneshop\' ? \'oneshop\' : dl.get("page.attributes.brand").toLowerCase();\n    const perf = window.epaas.api.getPersistence(perfKey[key]);\n    const eventTrigger = dl.get(\'eventInfo.eventTrigger\')\n\n    // Only set with pageview calls\n    if (eventTrigger === "pageview") {\n        if (perf && perf.length > 0) {\n            json_data = JSON.parse(perf);\n            if (json_data.status == "ok") {\n                json_data.timeServer = (json_data.timeServer < 0) ? \'0\' : json_data.timeServer;\n                json_data.timeServerReact = (json_data.timeServerReact < 0) ? \'0\' : json_data.timeServerReact;\n                json_data.timeDOM = (json_data.timeDOM < 0) ? \'0\' : json_data.timeDOM;\n                json_data.timeContent = (json_data.timeContent < 0) ? \'0\' : json_data.timeContent;\n                json_data.timePageReady = (json_data.timePageReady < 0) ? \'0\' : json_data.timePageReady;\n                // put it into event as it should not be put into later events\n                dl.assign("eventInfo.performance", json_data)\n                window.epaas.api.setPersistence(perfKey[key], \'\');\n            }\n\n        }\n    }\n\n\n\n    if (window.s && s.getPercentPageViewed && epaas.api.isUsageAllowed("AdobeAnalytics")) {\n        let pPVstate = dl.get("page.pageInfo.PPVstate")\n        if (!pPVstate) {\n            s.getPercentPageViewed() // this will reset the previous page, so the next call will give the current one\'s scroll depth\n\n            pPVstate = {\n                bucket: {\n                    name: undefined,\n                    min: 0,\n                    max: 0\n                },\n                buckets: [\n                    { name: "25%", min: 25, max: 49 },\n                    { name: "50%", min: 50, max: 74 },\n                    { name: "75%", min: 75, max: 100 }\n                ]\n            }\n            dl.assign("page.pageInfo.PPVstate", pPVstate) // can be removed when Som is extended/fixed to allow merge for non existing path\n        }\n        s.getPercentPageViewed()\n        pPVstate.highestPercentViewed = s._ppvHighestPercentViewed;\n        pPVstate.foldsSeen = s._ppvFoldsSeen;\n        pPVstate.foldsAvailable = s._ppvFoldsAvailable;\n        while (pPVstate.buckets.length && pPVstate.buckets[0].min <= pPVstate.highest) {\n            pPVstate.bucket = pPVstate.buckets.shift()\n        }\n        if (document.referrer.indexOf(epaas.api.getParentDomain()) > -1) {\n            pPVstate.pathname = dl.get("page.pageInfo.sPVM.prevUrlClean");\n            let totalHeight = (100 / s._ppvHighestPercentViewed) * s._ppvHighestPixelsSeen;\n            totalHeight = totalHeight ? totalHeight.toFixed(0) : \'na\';\n            pPVstate.highestPercentViewed = s._ppvHighestPercentViewed;\n            pPVstate.foldsSeen = s._ppvFoldsSeen;\n            pPVstate.foldsAvailable = s._ppvFoldsAvailable;\n            pPVstate.initalPercentViewed = s._ppvInitialPercentViewed;\n            pPVstate.highestPixelSeen = s._ppvHighestPixelsSeen;\n            pPVstate.totalHeight = totalHeight;\n\n            dl.assign("eventInfo.PPVstate", pPVstate)\n        }\n        dl.merge("page.pageInfo.PPVstate", pPVstate)\n    }\n',path:"",type:"DLP"},timeout:5e3,delayNext:!0}]},{id:"RLa7d13d1bae7b49dc99d438c08f73fb7b",name:"TPT - JP - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3098b14a472a467583ecf7569b357002-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa7e1cc93398c4fe8b9e32dc8cc53b1a4",name:"TPT - TH - AEM - Adwords - RFO Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcfba61d7ac6849e4bfb019db23fa6dc9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa7f0e6dc8eec4d38b78d5f1adc17577b",name:"TPT - FI - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb24e0697ceed4c79bb3b842365ddc86e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa826e0d2b6da41d0aedba6273ce7a134",name:"TPT - TH - AEM - Line - RFO Form Submit Button - EN - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10fc67f346e946fca8a950497d2b950d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa8472a488dea4809866bbf507734e247",name:"TP2  - ALL - AEM - Local Form Finished - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:49}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"local > form finished",operator:"includes"}},timeout:3e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_9663997",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab91aa2efe1a4624975807789e589268-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!0,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9410180",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66ed3a10d84b40ea8975da1cb7e05ff0-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9778257",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3dfcb209672e4887b22e83d2441a0627-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_775799",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f2d76cd35724ec6a3aef92d7cd8ad75-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8871330",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC46d0f5b628714faea25392c95d1b09f1-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_1361061",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC27cb2f665c204960b596589a9f8f7dcc-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8637886",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8e1a4fa5059744a28748010a7aeedc66-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8456103",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcb9f47104220448fb4a5b84861385ba7-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_403728",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc1b591ce3a8c46afbf4376f66c318f9e-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLa854055ad4b3409a8d56bce5208a13f2",name:"TPT - UK - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb793e9fcdaf4487aef59f5628595c4f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa879e45b418745f497d88d8c3af2c528",name:"DCR - All - AA - TRON - PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tron_pageview"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.destinationURL",window.location.href),o=_satellite.getVar("smartPreviousValueManager"),n=new Date,i=n.getHours()<=9?"0"+n.getHours():n.getHours(),r=n.getMinutes()<=9?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<=9?"0"+n.getSeconds():n.getSeconds(),d=n.getUTCHours()<=9?"0"+n.getUTCHours():n.getUTCHours(),l=n.getUTCMinutes()<=9?"0"+n.getUTCMinutes():n.getUTCMinutes(),u=n.getUTCSeconds()<=9?"0"+n.getUTCSeconds():n.getUTCSeconds(),b=_satellite.getVar("searchDefaultProduct");if(t.referrer=s.get("page.pageInfo.referringURL"),t.pageType="error"==s.get("page.category.pageType")?"errorPage":s.get("page.category.pageType"),t.pageName=s.get("page.pageInfo.pageName"),t.prop1=s.get("page.pageInfo.pageName"),t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory1"),t.prop5=s.get("page.category.subCategory2"),t.prop13=s.get("page.attributes.brand"),t.prop27=s.get("page.pageInfo.pageID"),t.prop28=s.get("page.pageInfo.variant"),t.prop29=s.get("page.pageInfo.version"),t.prop30=s.get("page.category.subCategory3"),t.eVar7=s.get("page.pageInfo.language"),t.eVar8=s.get("page.pageInfo.geoRegion"),t.eVar18=s.get("page.pageInfo.pageTitle",document.title),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop19=s.get("component.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop41=s.get("component.category.componentType",s.get("component.-1.category.componentType")),t.prop42=s.get("component.category.primaryCategory",s.get("component.-1.category.primaryCategory")),t.prop43=s.get("component.category.subCategory1",s.get("component.-1.category.subCategory1")),t.prop44=s.get("component.componentInfo.componentID",s.get("component.-1.componentInfo.componentID")),t.prop45=s.get("component.attributes.componentVersion",s.get("component.-1.attributes.componentVersion")),t.prop46=s.get("component.attributes.componentDevAgency",s.get("component.-1.attributes.componentDevAgency",s.get("page.pageInfo.author"))),t.eVar134=s.get("component.attributes.touchpoint",s.get("component.-1.attributes.touchpoint")),t.prop51=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.prop52=s.get("event.eventInfo.cause",s.get("event.-1.eventInfo.cause")),t.prop53=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.prop54=s.get("event.category.primaryCategory",s.get("event.-1.category.primaryCategory")),t.prop55=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1")),t.prop56=s.get("event.eventInfo.eventName",s.get("event.-1.eventInfo.eventName")),t.prop57=s.get("event.eventInfo.eventAction",s.get("event.-1.eventInfo.eventAction")),t.eVar9=s.get("event.attributes.iframeURL",s.get("event.-1.attributes.iframeURL")),t.eVar34=s.get("event.eventInfo.effect",s.get("event.-1.eventInfo.effect")),t.eVar71=s.get("event.eventInfo.attributes.requestedURL",s.get("event.-1.eventInfo.attributes.requestedURL")),t.eVar35=s.get("dealer.dealerInfo.dealerOutletBuno",s.get("dealer.-1.dealerInfo.dealerOutletBuno")),t.eVar39=s.get("dealer.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerOutletName")),t.eVar40=s.get("dealer.dealerInfo.dealerOutletID",s.get("dealer.-1.dealerInfo.dealerOutletID")),t.eVar41=s.get("dealer.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroupName")),t.eVar42=s.get("dealer.dealerInfo.dealerGroupID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar43=s.get("dealer.attributes.selectionState",s.get("dealer.-1.attributes.selectionState")),t.prop40=s.get("user.profile.attributes.loggedInStatus",s.get("user.-1.profile.-1.attributes.loggedInStatus")),t.eVar15=s.get("user.profile.profileInfo.type",s.get("user.-1.profile.-1.profileInfo.type")),t.eVar16="object"==typeof s.get("user.segment",s.get("user.-1.segment"))?"datalayer field empty":s.get("user.segment",s.get("user.-1.segment")),"object"==typeof t.eVar16&&(t.eVar16="datalayer field empty"),t.eVar17=s.get("user.profile.profileInfo.profileID",s.get("user.-1.profile.-1.profileInfo.profileID")),t.eVar19=s.get("user.profile.address.stateProvince",s.get("user.-1.profile.-1.address.stateProvince")),t.eVar20=s.get("user.profile.address.country",s.get("user.-1.profile.-1.address.country")),t.eVar21=s.get("user.profile.profileInfo.language",s.get("user.-1.profile.-1.profileInfo.language")),t.eVar136=s.get("version"),t.eVar120=s.get("cart.cartID"),t.eVar122=s.get("cart.price.currency")||s.get("transaction.total.currency"),t.eVar123=s.get("transaction.attributes.paymentMethod"),t.eVar125=s.get("transaction.transactionID"),t.server=location.host,t.prop14=d+":"+l+":"+u,t.prop15=i+":"+r+":"+c,t.prop31=o.get("pagePrimaryCategory"),t.prop32=o.get("pageSubCategory01"),t.prop33=o.get("pageName"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.prop50="page title",t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.campaign=_satellite.getVar("campaign"),t.eVar4=a,a.length>255&&(t.eVar5=a.substring(255,a.length)),t.eVar6=document.referrer.split("/")[2],t.eVar11=window.location.hash.split("?")[0].split("#")[1],t.eVar12=window.location.protocol+"//"+window.location.host+window.location.pathname,t.eVar13=window.location.hash?window.location.hash.split("?")[1]:window.location.search.slice(1),t.eVar14=o.get("url"),t.eVar28=o.get("componentSubcategory1"),t.eVar29=o.get("pathName"),t.eVar61=t.eVar62=t.campaign,t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar80=n.toISOString().slice(0,10).replace(":","-"),t.eVar81=Math.floor((n.getTime()-15778368e5)/864e5),t.eVar132=window.navigator.userAgent,t.eVar137="AEM6",t.eVar161="datalayer field missing",t.eVar162="datalayer field missing",t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),o.update("pageSubCategory01",t.prop4),o.update("pagePrimaryCategory",t.prop19),o.update("url",t.eVar4),o.update("jcrPath",window.location.pathname),o.update("pathName",t.eVar12),o.update("pageName",t.prop1),o.update("componentSubcategory1",t.prop43),void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var m=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(m),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}var f=s.get("event.eventInfo.eventPoints",s.get("event.-1.eventInfo.eventPoints","0"));if(t.events=t.apl(t.events,"event970="+f),s.get("event.eventInfo.eventName",s.get("event.-1.eventInfo.eventName")).indexOf("form")>-1){t.prop6=s.get("page.category.primaryCategory"),t.prop7=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1"));var p=s.get("event.eventInfo.effect",s.get("event.-1.eventInfo.effect"));p.indexOf(">")>-1?t.prop8=p.split(">")[1].trim():t.prop8=p,t.prop9=s.get("event.attributes.form.stepAmounts",s.get("event.-1.attributes.form.stepAmounts")),t.prop10=s.get("event.attributes.form.formVariant",s.get("event.-1.attributes.form.formVariant")),t.prop11=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.prop16=s.get("event.attributes.form.stepName",s.get("event.-1.attributes.form.stepName")),t.prop17=s.get("event.attributes.form.rfxID",s.get("event.-1.attributes.form.rfxID")),t.prop18=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop17,prop18",",")}var g=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type"));"video"!=g&&"audio"!=g||(t.prop36=s.get("event.category.subCategory1",s.get("event.-1.category.subCategory1")),t.prop36=t.prop36.indexOf("%")>-1?t.prop36.slice(0,-1).split("_").slice(0,-1).join("_"):t.prop36,t.prop37=s.get("event.category.subCategory2",s.get("event.-1.category.subCategory2")),t.prop38=s.get("event.eventInfo.type",s.get("event.-1.eventInfo.type")),t.linkTrackVars=t.apl(t.linkTrackVars,"prop36,prop37,prop38",","));var v=s.get("event.attributes.search.unit",s.get("event.-1.attributes.search.unit")),h=s.get("event.attributes.search.state",s.get("event.-1.attributes.search.state")),P=s.get("event.attributes.search.label",s.get("event.-1.attributes.search.label")),y=s.get("event.attributes.search.term",s.get("event.-1.attributes.search.term"));"datalayer field missing"!=y&&"datalayer field empty"!=y&&(t.products+=",search;search;;;;"+b+"eVar30="+v+"|eVar31="+h+"|eVar32="+P+"|eVar33="+y),_satellite.getVar("setTronProductString")(t),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events,","),t.linkTrackVars=t.apl(t.linkTrackVars,"referrer,server,pageType,pageName,prop1,prop2,prop3,prop4,prop5,prop13,prop14,prop15,prop19,prop27,prop28,prop29,prop30,prop31,prop32,prop33,prop41,prop42,prop43,prop44,prop45,prop46,prop47,prop48,prop49,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop60,prop61,prop62,prop63,prop64,prop66,prop67,prop68,prop71,prop72,prop73,prop74,campaign,eVar4,eVar5,eVar6,eVar7,eVar8,eVar9,eVar11,eVar12,eVar13,eVar14,eVar15,eVar16,eVar17,eVar19,eVar20,eVar21,eVar18,eVar28,eVar29,eVar34,eVar36,eVar37,eVar38,eVar39,eVar40,eVar41,eVar42,eVar43,eVar61,eVar62,eVar63,eVar64,eVar67,eVar68,eVar71,eVar80,eVar81,eVar132,eVar134,eVar135,eVar136,eVar161,eVar162,eVar171,eVar172,products,events",",")}catch(t){_satellite.logger.error(t,e.$rule.name)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLa8954a9f2e644750853964bbded3fdf7",name:"TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCded31e9629b84a2f95ee175a8783698a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa8967309716c4fd89424bfcf3c5704b6",name:"TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Test Drive",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/exclusive-offers/attractive-financing-rates.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa80b5569be614e448ee4f61f679bde2d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa92262b5c4c3458ea40b3e842cc0c64b",name:"TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfc277b15817043b4b07404b054296886-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa93a4bdc384e4d558219f2d3c8399c3e",name:"TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC96fdd622f3b44a06ae693374d5cbb7dc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC73a0481ebee04cc7824b33ab79c945bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa948a3c031e049589d65acf3c199a047",name:"TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3c864e00cbf94c37b295587172b2dc83-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa955ecfbef14493bb6505d43bbd09a20",name:"TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd58fe1d6c39d4872a92d9509e0b7025b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLa9678fa010064f01977d919b4eb93828",name:"TPT - ES - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC590a779f55434f7593df8ab169c8d2ca-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa02facb52e04fa28005466eb87f98e1",name:"ACDL GROUP - IE - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2e02919e785141d1830a67f263ab5628-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa49b5ad05c44e1f9c5b635997cd5a85",name:"TP2  - ALL - AEM - Adobe Form Finished - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"nsc > form finished",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7386134",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf794d58877db461db7cf4d983bdd3450-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!0,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3405709",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfd2c68a293ed40fba5563d4dc5477a7e-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3018398",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaabfcff471574a8a8a282158e998bced-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_8919568",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe6b28e8c639a4791bd25a19b8097982c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_4959395",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC357c3027e1c34b42b36c0ba8a47f01b6-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3962273",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2449414e5daf44d8aa9b984a441901fd-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{
modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_2884805",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6f056e9a030d4ee0b1a84fabd8d1cb17-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7881518",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC26c0859fb20d4365b1543cdbe01bac07-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5699882",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC05eeb7b7e4a24778afc8c9843075dd89-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLaa76cd009b9b440fa1bbaa56ae31243d",name:" TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://configure.bmw.ie/en_IE/configure/G20/3SBO",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa73ca277ff4445308450bb148cae0ab5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaa7d6827890841d98422f500b99bd664",name:"TPT - CA - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC160ba64df9064048b431f51c41648829-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLab28902cd1834dbcb806d097268702a9",name:"TPT - NL - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC437cf56737e44d9e9875ff222e65aad8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLab6bc271d0bf4a40b50f97ceb8040f9a",name:"TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb4c73859ab2f4305b4dd1e02730e1ba4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabb9bc6b7ec843dab44577409220ff06",name:"TPT - HU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa201fd5dcf224fa79f3179a89802d41d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabc3206d48ff4a319463a71b4cf46a3a",name:"TPT - ZA - AEM - Twitter - Multiple Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3aaa68e8fb174fa6954ce637afdb9e82-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLabdf27c865064ac9b0bc9ed15841ae41",name:"TPT - AT - AEM - gTagDC- Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC00531b7fae324456a0fc3554405c03b4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabe2e8be280e4ad8859c0c536e4604dd",name:"TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/tda/test-drive-appointment.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7128f754c1154248be0371f233970047-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLabfba9c4d0ef4278842deeaa3549c533",name:"TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32dfaaf49ca740c0ac055ebe3296af33-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLac9f1ca5c10f400596f697d6cf995d53",name:"TPT - JP - AEM - Pure Web Chat - All Pages - PLR - p15r[l] - UAT",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("bmw.co.jp/ja_JP//footer/contact/campaign-form/testform06.html")>0)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a1e9fdc97c546f5a0ce095eaaf5166d-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLacdb6e4309594ff7a7b31025e5f3a29d",name:"TPT - BE - AEM - InfrastructureBasic - Virtual Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/campaigns/salon-2025/brussels-motorshow/virtual-tour.html",valueIsRegex:!0},{value:"/nl/campaigns/salon-2025/brussels-motorshow/virtual-tour.html",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_8838080",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa025e570dcfa4d72979a615c8841fda6-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!1,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!0,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"InfrastructureBasic",toolsProcessingId:!1},timeout:8e3,delayNext:!0}]},{id:"RLaced350e9e7c4a3bb2f3524aee72296d",name:"TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC768fd0a202a94921ab3cb3f4104ed73e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLacfb48ac378f480db6b29211845ede71",name:"TPT - IE - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3784e5e9fadd49118791efb3eb8ac623-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLad00e33cf6ab403ab2c141146eb1abe1",name:"TPT - BG - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe7d1628584f74ba88d47337d885c8514-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLada6bea1a0fa4dc8a6efec937529d2ce",name:"TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC926c4ff0ebe84231b5d85db4cd0c6294-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLada8a63447804145b12847c85481475c",name:"TPT - GR - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb603cbc3addd42f2b843c55558919d0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLadd7978d949243e2bc1e2a022a92f9ef",name:"TPT - MX - AEM - GoogleSearch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbfd89003ec2d413a8ba3a136ddf77c14-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLade871da02be40379561112749031d79",name:"TPT - NZ - AEM - DoubleClick - BMW BEV Family Search available Stock - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"onlinestore.bmw.co.nz/#/stock-locator?fuelType=E",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0d5b18bf523b49279a4bb9d32e4b461f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLae0336ee34944ad6b7eb896d51ff5de0",name:"TPT - ID - AEM - Facebook - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1606d2b7db104699881663803ede3aeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLae0d2c997ddf4738b0c51d5dea8b04f3",name:"TPT - IT - AEM - GTagDC - Search - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3db7099d3ccd40b3864231201ab84c3a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLae6829bdd5bf493b8bcb300e43f3b9a2",name:"TPT - TH - AEM - Adwords - Link to Test Drive - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-89864b518d.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-b22b3baadd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:50}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5a348856668c437899e83ac7cd32be8a-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLaf09edf425954ba7bc3a689e39b8891a",name:"TPT - PT - AEM - Adform - DCS - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC21ed71c0e733478784c693426a479f7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLaf19a396642144d4a2ff76cc807e5eea",name:"TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC52a4411113ca46f88c04ec94c05cf82d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf1d0d42ecdf46649af2dbb5fdee7204",name:"TPT - CZ - AEM - AdWords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC149878cf4b9e47788c25c968aa4aa4b5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf293cb983ec41cebf1f5d8f2a400a35",name:"TPT - CZ - AEM - Facebook - Form Submission - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9a424412332b460bb3adc06af4786e0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLaf642e00c84640639e5dae8cbd33914c",name:"TPT - JP - AEM - TradeDesk - TestDrive Campaign Page - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3315075d91b14b4f81aca415299156ad-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLafbd1dad4d7e4f69b18608847a023c80",name:"TPT - NL - AEM - Adwords - Local form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf36fc91b7de8406fb519e6cef03d601d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLafdcde86d8844a308e8a95ec1a27aad6",name:"ACDL GROUP - RO - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdeb2e7a9800347a3a525656cfecc6358-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb021b8e7f1ac4269879a8d8e0b891149",name:"TPT - BE - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbd885ee67c7a4028bb911a22955782b0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb02f5438467844099950b7e3855f4f20",name:"TPT - LU - AEM - Adwords - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c71993eb6524fbc841e4aadb50105db-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb0345be4eec54f91a3fa49f6ef9d7221",name:"TPT - CZ - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6649de2c6eea4bbeba010bae0557dc0f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb07850f8e7c54eb494bd271091401f86",name:"TPT - UK - AEM - GTagDC - Register for Updates Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2963_dc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC76195e3403c44865b3f2aae197e2a859-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8d271097e03643f8b362789dea94bab1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb127b3e43de043ae821a27026db9e879",name:"TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9b1e2c488cb043b49058c615747f25fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb18775d82764491b9f0ca4a0352b6efb",name:"ACDL BMW - ALL - ANY - DLP - 0020 - event cancellation",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6808587",code:'    let component = (a12r.util.getReferencedNode("component.componentInfo.componentName", dl) || "").toLowerCase()\n    let eventEffect = (dl.get(\'eventInfo.effect\') || "").toLowerCase()\n    let mediaType = dl.get(\'eventInfo.mediaInfo.video.mediaType\') != undefined ? (dl.get(\'eventInfo.mediaInfo.video.mediaType\')).toLowerCase() : \'\'\n    let primaryCategory = dl.get(\'page.category.primaryCategory\') != undefined ? (dl.get(\'page.category.primaryCategory\')).toLowerCase() : \'\'\n    let geoRegion = dl.get(\'page.pageInfo.geoRegion\').toUpperCase();\n\n    const cancelRequest = {\n        "central car stock locator": "https://atc.bmwgroup.net/jira/browse/AAAA-5407"\n    }\n\n    const blockOnComponents = ["central car stock locator"]\n    let blockOnEventEffect = ["stock > user swipes to next image by clicking on left", "stock > user swipes to next image by clicking on right", "stock > user clicked on right", "stock > user clicked on left"]\n\n    // const allowOnGeoregion = ["KR","DE","IT","AT","GB","UK"]\n    const blockOnVideoEventEffect = ["nsc > video started", "nsc > video 25% viewed", "nsc > video 50% viewed", "nsc > video 75% viewed", "nsc > video finished", "nsc > video paused"]\n    if (blockOnVideoEventEffect.indexOf(eventEffect) > -1) {\n        a12r.condition.cancelPipeline(dl, "AA")\n    }\n\n\n    if (blockOnComponents.indexOf(component) > -1 && blockOnEventEffect.indexOf(eventEffect) > -1) {\n        a12r.condition.cancelPipeline(dl, "AA")\n        _satellite.logger.log("Cancelling processing for following component: " + component + " . Refer " + cancelRequest[component])\n    } else {\n        // Redefine blockOnEventEffect for the second condition for AAAA-7807\n        blockOnEventEffect = ["nsc > finance filter selected by default"]\n        if (blockOnEventEffect.indexOf(eventEffect) > -1) {\n            a12r.condition.cancelPipeline(dl, "AA")\n        }\n    }\n\n    let eventSubCategory2 = dl.get(\'eventInfo.category.subCategory2\') != undefined ? dl.get(\'eventInfo.category.subCategory2\').toLowerCase() : \'\'\n    let eventCause = dl.get(\'eventInfo.cause\') != undefined ? dl.get(\'eventInfo.cause\').toLowerCase() : \'\'\n\n    if (dl.get(\'version\') && dl.get(\'version\').indexOf(\'generic_stock_locator\') > -1 && eventSubCategory2 == \'tron library\' && eventCause.indexOf(\'tron implementation\') > -1) {\n        a12r.condition.cancelPipeline(dl, "AA") // AAAA-5555 disable events for Global-Test Suite to save server calls\n    }\n\n    if (mediaType == "video" && primaryCategory == "homepage") {\n        a12r.condition.cancelPipeline(dl, "AA") // AAAA-5536 Video Tracking - deactivate video tracking for homepage videos to save server calls\n    }\n\n',path:"DLP/eventCancel",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLb1c083db0aa84a50893cd744123bd3ba",name:"TPT - RO - BMW - AEM - Adwords - Shop Events - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"oneshop_event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC02b53ba83a7245c59d02630f80b20afd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb1c6fa1f2ff645eda82ac25e4ea2cdcd",name:"TPT - CH - AEM - Facebook - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Jetzt online reservieren"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b27b1c4f036448f8be59875e355f8e5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb1e2b2c87da3427e8189cd9f522dccba",name:"TPT - TH - AEM - Adwords - Link to Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1b75430554.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-395773fc2c.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3de9b893284d46b8852033792deb80c1-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLb1f645fba77947058e724105d816b5fe",name:"EBR - AT  - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5e62bf30ac6f4c39bc360482e5c4f7f1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb1f822b48d0b4801bd77b42c462a1728",name:"TPT - NZ - AEM - DoubleClick - 118i M Sport Campaign Find a dealer - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation.ds2-accessibility > div.row.ds2-row-padding > div > div:nth-child(5) > ul > li:nth-child(2) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > div.ds2-component.ds-tracking-aware.ds2-sticky-sales-bar.ds2-sticky-sales-bar--uxn.ds2-accessibility.is-visible > ul > li:nth-child(1) > a > span.ds2-sticky-sales-bar__icon.icon-dealer-locator",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC686b356308d34cf0ba2045e85f991162-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb21eb82cf25e4265aef6714c86e9a272",name:"TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC90a520a7fdb74254928d40b78a14de5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb231ebe1d6ea4533bb2a9ba2ebcf2811",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7b70d6615c804d2cb7c7fd08a73afc5a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb238e17aba0f4b4ab78db409b47d5183",name:"TPT - FR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1a7d88b472474eec906380b667d440c6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb26fb37e269841c89d2e2dc1f57d1fde",name:"TPT - UK - AEM - QuantCast - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC231bd14bcec94dba8719e6b4179f70be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb2d3f6470b1243da982f1bbd6b87fba0",name:"AT - DCR - Stock Locator Started - Recommendations Entity Parameters",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("topLevelDomain");if("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.co.uk"==e)return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isTargetAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"sl > vehicle"==_satellite.getVar("snapshotDL").snapshot.page.pageInfo.pageName}},timeout:2e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb9b4fedd5d4741c6acbe3fecfd03d947-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLb2d901ce53494302a7f0948552fa4efa",name:"TPT - TH - AEM - Facebook - Link to Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-test-drive.html",valueIsRegex:!0},{name:"href",value:"/forms/tda/tda-multistep.th-th.html",valueIsRegex:!0},{name:"href",value:"/forms/tda/tda-2024bmwxpo.th-th.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1b75430554.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-395773fc2c.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf65b7e39d52e41b7b988bbf793e120df-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLb2dbcb84facb48909b043f35473d2bc6",name:"TP2  - ALL - AEM - Local Form Start - p15r[c] - Bandaid",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.fi",valueIsRegex:!0},{value:"bmw.co.uk",valueIsRegex:!0},{value:"bmw.dk",valueIsRegex:!0},{value:"bmw.no",valueIsRegex:!0},{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("getDL",e).get("eventInfo.effect");return"local > form started"==t||"nsc > form started"==t}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa02b297b3bad4470bdbbf7b48ff37be6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC292a119b13ef48bc864233ba22a3e448-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4bf3e60376044745b674e6fa81ecf130-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd7ccc1eb05374a42bc27c846b4b251c0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12f25977a4294c3b9a77f0655d7a5bc6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab23b93bc9f848919862ed0e7c62e698-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC81e8dacb878a4ca6bac404a53dc00528-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC188d65c385f0401c8404aa9033dacd1d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdfb995a1fa3f43e7b9c22474088e8498-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb303e5da2db441caa51e90b4f0c0173c",name:"TPT - CZ - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab873883231a46c397d840373562d011-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb32ea248f8f54d6d9b1e4f7fc7d97124",name:"TPT - PL - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f4b97d993f946368e7d238756b0b412-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb34b86d774ef43d6b495e434b50a8d93",name:"TP2  - ALL - AEM - Checkout Finish - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!_satellite.getVar("getDL",e).get("eventInfo.effect").includes("sales > dcs: order submit success")}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_463619",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f018d102a0b47e091b501b9481b981f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9602593",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb76dce5e8ea74678baa4e6324d5d548f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3558226",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfa9f60cf775742e4996334cf7b0d0f4c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6525564",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a7e06916b114cd18024b02601f8c9cf-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_895503",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4c4f1a93e396492e877146bb767aa5ee-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3630869",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC00de20501adf406e8e8296f5b8ee2d05-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5383338",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb211fac77aaf462fac3baee920106d1f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8240850",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC55192a29d5fd4d88a4a7fd1447f01b9b-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3545060",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC69dbf38a84904a099572659cb07c46d8-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLb34fb4a02fa44e4da35fc1a4d4d05a41",name:"TPT - JP - AEM - YDN - 24 TDA Page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ecfcf08934e4ab28869c90a6647e61e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb369e2d9eda24e22928459d60231767b",name:"TPT - SI - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC387708eed64040a2959cbf58ef507f7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb36d84aa57a849ac89a79d4592137155",name:"TPT - IN - AEM - TDA Form Submit/ Success - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8197476892e4b34a1672a09bceea093-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb3be97c4087b4913b98861372ef4cadb",name:"DCR - ZA - AEM - AA - Mood Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mood_pre_configuration_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),i=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),r=_satellite.getVar("smartPreviousValueManager"),c=["vehicle","service","search","accessory"];-1!=i.indexOf("|")&&(i=i.replace(/\|/g,"~")),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=s.get("component.-1.category.componentType"),t.prop45=s.get("component.-1.category.componentVersion"),t.prop56=a,t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),t.eVar71=s.get("event.-1.attributes.requestedURL"),t.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),t.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop13="bmw";var d=s.get("product.-1.attributes.internalCode"),l=s.get("product.-1.attributes.engine");if(l){var u=/[0-9]{3}[a-z]{1}/i,b=/xdrive[0-9]{2}[a-z]{1}/i,m=/sdrive[0-9]{2}[a-z]{1}/i,f=l.match(u)||l.match(b)||l.match(m);l.indexOf("i3 (120 ah)")>-1||l.indexOf("i3 (120ah)")>-1||l.indexOf("i3 120ah")>-1?l="i3 (120 ah)":l.indexOf("i3s (120 ah)")>-1||l.indexOf("i3s (120ah)")>-1||l.indexOf("i3s 120ah")>-1?l="i3s (120 ah)":f&&f.length&&(l=f[0].toUpperCase())}var p=_satellite.getVar("setDefaultProductVariables");p.id=s.get("event.-1.attributes.linkedProduct.productInfo.productID",s.get("product.-1.productInfo.productID"));var g=s.get("product.-1.category.subCategory1");c.indexOf(g)>-1?p.category=g:p.category="datalayer field missing",p.merchEvars.eVar58=l,p.merchEvars.eVar10=d,p.merchEvars.eVar56=i,t.products=p.toString(),t.prop59=s.get("product.-1.attributes.configID"),t.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==a||"error"==a&&(t.events=t.apl(t.events,"event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",r.update("pageName",t.prop1)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Pre configuration",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLb3dc89e6912049a998a09d92cbe31aef",name:"TPT - NO - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC127fb4e18f9045c688c57b694cb7dcbb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb3fbbc693473425dbe88e15c59eba9b3",name:"TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4b46724d81be43648ed87c5822e46677-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb49e8a266f5f425d9b6524d980241122",name:"TPT - DE- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf1c8662fa5c7471baf76b1a3eb10fb60-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4a97090fb45451a82627048f9d66b46",name:"TPT - UK - AEM - GTagDC - RFI Form Sub - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaab34e89db164a419827c7015c822470-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4bf92d77c0e451582b84c748842f7a6",name:"TPT - BG - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC26abbc008e1a42469581c433b3d6dcd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4c9fe494bb74390bfdfaa61ca1458fb",name:"TPT - PT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe741a4ddae13471895d78762444ea4ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb4ec4a36e36141c494e8450a4470e31b",name:"TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ae53f8acc4749849d757923b383fbe5-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e496f13cc324e9699034119ef883780-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLb504b33eb6f44ff787c416ce6637e93c",name:"TPT - AT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6e00d9d7319246a8b824d3c3a4c3d567-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb51ed8cb833a4284825e62f7c99b32f7",name:"PLR - AT - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC903c69d60d2f4a74ae8afce95c11b406-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb53d9d445c604694835b1b8f61cff010",name:"TPT - FR - FORMS - Facebook - Adobe Form - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC970065df7c414564b4a85e01fd271e4e-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLb547b1695e704ea4889f7897077675f1",name:"TPT - ZA - AEM - Adform - Explore our latest offers now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"bmw.co.za/en/topics/offers-and-services/bmw-financial-services/select-offers.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC83c6c4e3ed504bb587c2f59823de19a9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb59c2251a1f94e6397f5a2202b9ad5c7",name:"TPT - SG - AEM - Adform - Price list Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{
elementSelector:".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2fa9feab594e43a199a70abb83f50e0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb5f631c00d2c4486b0e5b3089a6e0ede",name:"TPT - BE - AEM - Facebook - Site Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCab0b894bc7934718b793c1c85fd1f023-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6195a846df74ee29df9c63be060999c",name:"HT - All - All Pages - Custom Script - p15r check",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-100}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/*processingWrapper legacy version used in certain TPT*/\nwindow.processingWrapper = window.processingWrapper || { \n    overwrite: true,\n    register : function (processingId, callback) {\n    window.p15r.push({\n        action: 'register',\n        processingId : processingId,\n        callback : callback,\n    })\n    }, \n    execute : function (processingId, procParams) {\n    window.p15r.push({\n        action: 'execute',\n        processingId : processingId,\n        params: procParams,\n    })\n    }\n}\n/*Main epaas promise that request a function to be executed when the consentcontroller fired the event \"consentcontroller.api.initialized\".\nThe function resolve the promise.\n*/\nvar ePaasPromise =   new Promise(function(resolve,reject){\n    var isEpaasPromiseAlreadyResolved = false;\n    ((window.consentcontroller && window.consentcontroller.api) || window).addEventListener('consentcontroller.api.initialized', function(){\n        isEpaasPromiseAlreadyResolved = true;\n        console.log('epaas promise is resolved');\n        (window.p15r = window.p15r || []).push({\n            action: 'register',\n            processingId : 'Consentcontroller', \n            callback: function(){  \n            resolve(true);\n            console.log('p15r promise is resolved');\n            }\n        }, {\n            action: 'execute',\n            processingId : 'Consentcontroller'\n        });\n    })\n    setTimeout(function(){\n    if(!isEpaasPromiseAlreadyResolved){\n        reject();\n    }    \n    }, 5000); // this timeout is to make sure the if epaaS is not loaded within 5 seconds, then reject the promise(can be changed)\n\n})\nePaasPromise.catch(function(err){ // consentcontroller issue\n    console.log('epaas promise is rejected')\n    return false;\n})\nreturn ePaasPromise",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  _satellite.logger.info('ASYNC: Forcing evaluation of adobe.optIn')\n  if(_satellite.getVar('isAdobeAnalyticsAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.ANALYTICS,true);\n    adobe.optIn.approve(adobe.OptInCategories.ECID,true);\n  }\n  if(_satellite.getVar('isTargetAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.TARGET,true);\n  }\n  if(_satellite.getVar('isAAMAllowed') == 'true'){\n    adobe.optIn.approve(adobe.OptInCategories.AAM,true);\n  }\n  adobe.optIn.complete();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"rule\",\n        name: \"HT - All - All Pages - Custom Script - p15r check\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RLb6366eab6e8c4c85a3ea7ba32feb12cd",name:"TPT - JP - AEM - TradeDesk - RFO Success Page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdad7a342346e40a48094e0e47ce8e6fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb638105b3858402aac72c8c978df6819",name:"TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdd92b8f5a99d4809bd12cf0e627df205-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb643b80e05934399a14c0997600de914",name:"TPT - IT - AEM - Adwords - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".login-box__button-text.login-box__submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbed322d7713144f1ba827a135022897f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6a662eb9a594f038f9b3d705adb10d9",name:"TPT - MX - AEM - Zeta/IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38a6048a4694473ab78191f375ded56c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb6e051004f37436887b322a9795e6711",name:"TPT - NL - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC58e4e3773d7347a1b3e0f85f4f0113f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb76b8ce3d4cc442e9d1f238372271567",name:"TPT - TH - AEM - Line - All pages EstimatorButton- EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-sticky-sales-bar__link.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"ul.ds2-sticky-sales-bar__item-wrapper > li:nth-child(1) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1905211106c142c0b8087767c4977ac6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb7cf015c8f854967b5813c46e625bb58",name:"TPT - LU - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1dcb8cd9359045ab887be5f754cd8815-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb7ef887d6ea241d5b58678c1696f9ebf",name:"TPT - PT - AEM - Facebook - FormTracking - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC64ca0babb3344c2fb99bfcd3bc756bbe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb7f07b1512fc442394040b6bf618f0cb",name:"TPT - IT - AEM - GTagDC - Make_Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC493ec84e92ee49e9973af4bbfbfb5889-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb832e568314a46d38d6ad1161eba326f",name:"TPT - SK - AEM - Adform - SiteSearch - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7aeef1aad1e243d6af6c86215d7f9045-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLb85d89eecab44c20a2b9ef7ec79c8f19",name:"TPT - SG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCae1a47dc6a1e427bad9bceb86db12350-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb885b4d01d72427eb305700e8ddecc0b",name:"TPT - SG - AEM - Apex - BMWi4 - Register Interest - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation.ds2-accessibility > div.ds2-stage-presentation-quick-facts.ds2-presentation-teaser-background-grey.button--ghost-style-white > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta > div > div > div.show-for-tablet-only > div > ul > li:nth-child(1) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf987d3cdb78f4cf2851fdcf5d6677eee-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8e3b88919ef54f0b8f555729c31409db-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb88f3a9b849c4355960660fab61746cc",name:"TPT - GR - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCafe7a5591c1b46adbea538268471e241-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb8ab7b75961f4226999e472514a446c7",name:"TPT - JP - AEM - YDN - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5c2ae22b2154b2e8f3c8755b4266a8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb8db145066a24acf9312a65029209434",name:"TPT - BE - AEM - Facebook - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/configurateur",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC03f3fea691eb46e2b13cb13a506cef94-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9207b3c9c9847ac878831254a8980d5",name:"TPT - UK - AEM - Adform - KMI Start Vision 2023 - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC445942e23b7c4eb7b6fe11d246574448-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb93dc884ca5547f6a61cd8153f434bd0",name:"TPT - TH - AEM - GtagAW - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcabdc6d7ecbc45af8ee1f0cc4d382002-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb93f1f419714468b8e6497495d2fe96e",name:"TPT - PL - AEM - Facebook - Multiple Form Submission - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7407a99f6a3043999ce7f214d604cc88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb94aa358bd9f47d8a54a5bc24953f228",name:"TPT - AT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0471cf2a93dc45d598eb1c9bd9406452-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9e605932f904a31a469b7b45438c72a",name:"EBR - BE_LU - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa23a46c985e44adbe757032b2f96140-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9f5954e994d4b9db5d2668cba8a9a28",name:"TPT - TH - AEM - Facebook - Link to Make An Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/th/form/request-for-offer.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf9e53cc2932f4d4fb7a0434b80d4d368-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb9f68bb4472341179267f92e66d78ca7",name:"TPT - UK - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc05b5698811e4dbbbeae739f4e874b72-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLb9fe55369291472685f3f4fbf69a73d5",name:"TPT - FI - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16d07caabaf84372a6efec8f3e4556ef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba01c8e4f2a945578a98d4059242889d",name:"TPT - IE - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5bd9f83d942e4898be797a0f77e021f4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba16ed0c1ebb43c0ac57095f8d6aee41",name:"TPT - TH - AEM - TikTok - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC744caef1c2bb4d0aa205ce3ef46c2a9a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba29c01b37024099a88227e118d66638",name:"PLR - ALL - NSC - AA - share MID with IUCP",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd041f15661f64ff0825344a1adbbdb0b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba4e52817ba1498cb9ea3ddae527203a",name:"TPT - ES - AEM - Facebook - AddToWishlist - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC44f0dcba74ff4d94b6ef8cceaadcfc26-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba6dfb8de1a24e62b94b00f28b5cc5e6",name:"TPT - BG - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa09ded91603f4b8d83f78b8cbf7e597f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba7d29b818b04a219b2771bb46d28b86",name:"TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd56ab07add9445659e9b5e48b222f874-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLba8f7f6648b34208a0ce96a43f22507d",name:"TPT - UK - AEM - GTagDC - iFrame TDA Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc27a6bab419f452287b58df6338d7b6c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLbae895f342ae4b55975f9fd394de93eb",name:"ACDL GROUP - ALL - ANY - DLP - 0010 - Page - global start",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:10}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_7284723",
code:"let sysEnv = _satellite._container.environment.stage === 'production' ? 'prod' : 'dev';\nlet wlocation = window.location;\nlet env\nconst isEventFromTron = dl.get('eventInfo.origin.isFromTron') || false // check if event is coming from tron otherwise default to false\nconst isPageFromTron = dl.get('page.origin.isFromTron') || false // check if page is coming from tron otherwise default to false\n\nlet componentKey = dl.get('eventInfo.reference.linkedComponent')\nlet componentObj = dl.get('component')\nlet componentPrimaryCategory = !componentKey ? dl.get(`component.${componentKey}.category.primaryCategory`) : (componentObj[componentKey] && componentObj[componentKey].category && componentObj[componentKey].category.primaryCategory);\nconst prefixArray = {\n    'configurator': 'con',\n    'stock locator': 'stock',\n    'sales': 'sales',\n    'finance': 'fin',\n    'rental': 'rent',\n    'special website' : 'special',\n    'nsc website' : 'nsc'\n}\n\nlet prefixOnComponentBasis = prefixArray[componentPrimaryCategory];\nlet spl_regex = /(\\.bmw\\.com|.bmw\\-welt\\.com)\\/[a-zA-Z]{2}\\//g;\nlet nsc_regex = /(\\.bmw\\.com\\/[a-zA-Z]{2}\\-[a-zA-Z]{2}\\/)/g;\nlet brandRegex = /(\\.bmw\\.)|(\\.mini\\.)|(\\.bmw-motorrad\\.)|(\\.rolls-roycemotorcars\\.)|(\\.bmwusa\\.com\\.)|(customer\\.bmwgroup\\.com)|(m\\d{1,3}\\..*-int\\d\\.com)/g;\n\nlet prefixOnHostnameBasis = spl_regex.test(wlocation.href) ? \"special\" : nsc_regex.test(wlocation.href) || brandRegex.test(wlocation.href) ? \"nsc\" : \"\"\n\nenv = (isEventFromTron === true && isPageFromTron === false) ? prefixOnHostnameBasis : (isEventFromTron === false && isPageFromTron === false ? (prefixOnComponentBasis || prefixOnHostnameBasis) : \"\")\n\nif (!epaas.api.getParentDomain) {\n    epaas.api.getParentDomain = function _getParentDomain() {\n        var domain = document.domain;\n        var i = domain.indexOf('.');\n        if (i !== -1) {\n            domain = domain.substring(i + 1);\n        }\n        return domain;\n    }\n}\nconst parentDomain = epaas.api.getParentDomain();\n\ndl.assign(\"page.attributes.parentDomain\", parentDomain);\n\nif ((dl.get('page.category.pageType') || '').indexOf(\"error\") > -1 || (dl.get('page.pageInfo.pageID') || '').indexOf('error-pool') > -1) {\n  dl.assign('page.pageInfo.pageName', window.location.hostname + window.location.pathname)\n  dl.assign('page.category.pageType', \"errorPage\");  \n}\n\ndl.mergeDeep({\n    page: {\n        pageInfo: {\n            \"websiteEnv\": env,\n            \"sysEnv\": sysEnv\n        }\n    }\n})\n  \nif(document.title != undefined){\n  dl.assign('page.pageInfo.pageTitle',document.title)\n  dl.assign('eventInfo.element','page title')\n} \n\n\n/*Window data*/\nlet windowInfo = {};\n\nwindowInfo.screenWidth = window.screen.width * window.devicePixelRatio;\nwindowInfo.screenHeight = window.screen.height * window.devicePixelRatio;\nwindowInfo.screenOrientation = (window.screen.width >= window.screen.height) ? \"landscape\" : \"portrait\";\nwindowInfo.userAgent = window.navigator.userAgent;\nwindowInfo.combScreenHeightWidth = window.screen.width +\"*\"+ window.screen.height;\nwindowInfo.server = wlocation.host;\nwindowInfo.url = wlocation.href;\nwindowInfo.urlSpillover = wlocation.href.length > 255 ? wlocation.href.substring(255, wlocation.href.length) : '';\nwindowInfo.urlSpillover2 = wlocation.href.length > 510 ? wlocation.href.substring(510, wlocation.href.length) : '';\nwindowInfo.previousDomain = document.referrer ? document.referrer.split('/')[2] : document.referrer;\nwindowInfo.urlHash = wlocation.hash ? wlocation.hash.split('?')[0].split('#')[1] : wlocation.hash;\nwindowInfo.urlClean = wlocation.protocol + \"//\" + wlocation.host + wlocation.pathname;\nwindowInfo.urlCleanWithoutProtocol =  wlocation.host.replace('www.','') + wlocation.pathname\nwindowInfo.queryParam = wlocation.hash ? wlocation.hash.split('?')[1] : wlocation.search.slice(1);\nwindowInfo.searchAdsParameter = _satellite.getVar('AA-SearchAds360Parameter');\nwindowInfo.totalCookieLength = document.cookie.length;\nwindowInfo.bigCookies=a12r.util.getFirstFunctionWithNonZeroValue([\n  ()=>{\n    return document.cookie.split(/\\s*;\\s*/)\n      .map(i => i.split(\"=\").concat(i.length))\n      .filter(i => i[2] > 100)\n      .sort((a, b) => (b[2] - a[2]))\n      .slice(0, 4)\n      .map(i => i[0].slice(0, 19) + \":\" + i[2])\n      .join(\"~\")\n  }\n])\n\ndl.assign('page.pageInfo.windowInfo', windowInfo)\n\n/*date and time data*/\nlet date = new Date()\nlet iso = date.toISOString()\nlet timeInfo = {\n  localTime: date.toLocaleTimeString(\"DE\"),\n  utcTime: iso.slice(11,19),\n  utcDate: iso.slice(0,10).replace(\":\",\"-\"),\n  daysSince2020: Math.floor((date.getTime() - 1577836800000) / 86400000)\n};\n\ndl.assign('page.pageInfo.timeInfo', timeInfo);\n\n/*Workaround event subCategory01*/\nlet subCategory1 = dl.get('eventInfo.category.subCategory1') || dl.get('eventInfo.category.subCategory01');\ndl.assign('eventInfo.category.subCategory1', subCategory1);\n\ntry {\n    /*TMS data*/\n\n    let tmsInfo = {};\n    tmsInfo.publishDate = _satellite.buildInfo.buildDate;\n    tmsInfo.vidServiceVersion = s.visitor.version;\n    tmsInfo.appMeasurementVersion = s.version;\n\n    dl.assign('page.pageInfo.tmsInfo', tmsInfo);\n\n    /*Campaign Info*/\n    dl.mergeDeep({\n        page: {\n            pageInfo: {\n                windowInfo: {\n                    \"campaign\": s.Util.getQueryParam('tl'),\n                    \"internalCampaign\": s.Util.getQueryParam('icp'),\n                    \"nspCampaignID\": s.Util.getQueryParam('cid'),\n                    \"nspBroadlogID\": s.Util.getQueryParam('bid'),\n                    \"etplinkParameter\": s.Util.getQueryParam('etp'),\n                    \"metaAMA\": s.Util.getQueryParam('amaid')\n                }\n            }\n        }\n    })\n\n    /*VisitorInfo*/\n\n    let visitorInfo = dl.get('page.pageInfo.visitorInfo') || {};\n    const lastTwoDigits = !s.marketingCloudVisitorID ? Visitor.getInstance('B52D1CFE5330949C0A490D45@AdobeOrg').getMarketingCloudVisitorID().slice(-2) : s.marketingCloudVisitorID.slice(-2);\n    visitorInfo.lastTwoDigits = lastTwoDigits;\n\n    dl.assign('page.pageInfo.visitorInfo', visitorInfo);\n\n} catch (e) {\n    console.log(event.$rule.name + ' s object is not defined yet' + e)\n}\n",path:"base/globalStart",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLbafd0ea025954062b5267850060dd4fa",name:"TPT - TH - AEM - Floodlight - Link to Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1b75430554.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-395773fc2c.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3cc0bb9e296448139fad3cb7c598bc14-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLbb0767fc567b40dda7d0923013f8eadf",name:"TPT - NZ - AEM - DoubleClick - Finance Form Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC22f323b7e3944851b38bd2ac009f3b15-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb1268be847f44aa9d994e7af2641532",name:"TPT - PL - AEM - Adform - RFC Form iFrame - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC05b85ec81efa409da5476baf55954c44-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb742eb5e7eb41de89acc93125a04ca3",name:"TPT - BG - AEM - Facebook - Site Search - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c8a6edc7d884b62a2dd91ad8ce1d2a6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbb7efd8d4aaf4bef9ea41386a4717d91",name:"TPT - LU - AEM - Facebook - DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC035f50c39ee14dbfb4dddc0e12c64987-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbc1508a8b9794c889c22b3ffff52feeb",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_bmw_bus_demo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe4545bf8ac1a4c5d8e7e6c09fe15d0c2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbc5a020f0e09424cb00ac382d31fd6b2",name:"ACDL GROUP - PT - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb82b5003ef064d7eaec9640caa19b87c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbc7757785ef04de7b65234a02bef80e9",name:"TPT - NO - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb79624ae404b497dbf66b0c74173e025-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbcb0316c1cea4cf18f281402deb08855",name:"TPT - TH - AEM - Floodlight - RFO Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_917375",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7b63a8787dac400388222e23ec6d6234-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!1,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLbcde73143e6347adbfeb55d19b2d096a",name:"TPT - ZA - AEM - Adform - View Offers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"div > div > div.ds2-basic-teaser--content-container > ul > li > a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC82e3b8ac238d4c5aaeab4e732d41aa93-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbce4c9ccad20476fa67f99d0c825a8a5",name:"TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC709e1612ac3b41ec9f5f3d68d0a9f20f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbd21b2d1c39c4b9a8b8e035fd303f513",name:"EBR - UK - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.uk"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72d1563334764095ad6bea35b188d89e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbd275275908a4b02bd94dc1600f02647",name:"TPT - NL - AEM - Facebook - Confirm reservation click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Bevestig reservering"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7ea10800d1814be8bf03a70e7a0e595c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbd3523f8ad52472a82491cfbbdf1f8cd",name:"TPT - FR - AEM - Adform - DCS Pages - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f9574c3f4e54a2fa567a29d5c4b8987-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbd53b0bb16ba4c82985b97e1bdb3b6ef",name:"DCR - ALL - AEM - AA - ZSO Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"zso_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),i=s.get("event.-1.eventInfo.effect"),r=s.get("component.-1.componentInfo.componentName"),c=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"))),d=_satellite.getVar("setDefaultProductVariables"),l=_satellite.getVar("setDefaultProductVariables");function u(){t.prop56="search",t.prop53="accessory",t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop54=r,t.prop55="ZSO Select series"==a?n:i,t.prop51=a,t.prop52="default",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52")}function b(){var e;switch(l.category="search",l.id="search",a){case"ZSO Select series":e="series";break;case"ZSO Select Modell range":e="model";break;case"ZSO Select Categories":e="category";break;case"ZSO Select Product":e="product"}l.merchEvars.eVar30="datalayer field missing",l.merchEvars.eVar31="user selected",l.merchEvars.eVar32=e,l.merchEvars.eVar33=i,d.append(l),t.products=d.toString(),t.prop57="drop down menu",t.prop24=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop53,prop57,prop24,products"),t.prop24=n}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),t.eVar55=s.get("product.-1.category.subCategory01"),t.eVar65=s.get("event.-1.attributes.productName"),t.prop27=s.get("page.pageInfo.pageID");var m=s.get("page.pageInstanceId",s.get("pageInstanceId")),f=s.get("page.category.primaryCategory");new RegExp("([a-z]{2}_[A-Z]{2})").test(f)?m.indexOf("index-prod")>-1?t.prop3="homepage":m.indexOf("all-models")>-1?t.prop3="showroom":t.prop3=m.split("/")[6]:t.prop3=m,t.prop19=r,t.prop42="nsc website",t.prop43="accessories",t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28=s.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44");var p=s.get("event.-1.category.mmdr",s.get("product.-1.attributes.mmdr"));switch(d.id=p,d.category="after sales",l.merchEvars.eVar10=p,l.merchEvars.eVar53="new car",l.merchEvars.eVar54="build to order",t.products=d.toString(),t.linkTrackVars=t.apl(t.linkTrackVars,"products"),a){case"ZSO Select series":"select series"==o&&(t.events=t.apl(t.events,"event251,event252,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event251,event252,event253,event254"),u(),b());break;case"ZSO Select Modell range":"select model range"==o&&(t.events=t.apl(t.events,"event253,event254,event257"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event257"),u(),b());break;case"ZSO Select Categories":"select categories"==o&&(t.events=t.apl(t.events,"event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254"),u(),b());break;case"ZSO Select Product":"select product"==o&&(t.events=t.apl(t.events,"event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254"),u(),b())}}catch(g){_satellite.getVar("catchblock",e)(t,g)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"ZSO Interaction",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLbda89db499244df6b33ab0445db2261a",name:"TPT - AT- AEM - Adform - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3b16c92a18014bdabeddb558981480b3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbdd65624b07b4c009a60fb684392f7de",name:"EBR - CA - iFrame - AA - ACS Page Load",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&!Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),e())}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("acs_event_data").detail,a=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",r=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",l=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",f=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty";s.component.length&&s.component[s.component.length-1].category.subCategory2,t.prop44=l,t.prop19=u,t.prop41=b,t.prop42=m,t.prop43=f,t.prop56=o,t.prop57=a,(n="na"==n?"datalayer field empty":n)&&parseInt(n)&&!isNaN(parseInt(n))?(parseInt(n)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(n)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+n,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=n,t.prop53=i,t.prop12=r,t.prop52=c,t.eVar34=d}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLbe1671df9aea416193bd4b88fc71942d",name:"PLR - FR - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93cba08e7dc444c2a181c39046e5256a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbe20ea4084f04492b2a20f85aa74258b",name:"TPT - JP - AEM - Adform - iFrame RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC763f55c004374813aa4f393030836f17-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbe835933f2d04e9c9495da6b851fc806",name:"TPT - TH - AEM - Floodlight - Test Drive ButtonClick - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$="/form/request-test-drive.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc8e8064df8d94cc68201e9e9981304a3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbe9b4b545c494c6da2a3fc94f6eee0bd",name:"TPT - NL - AEM - Facebook - Multiple Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC01c3f72ea64542aea374729c92ba7d51-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbed61785dcd74c1b8d7f7aa612ffcf24",name:"TPT - PT - FORMS - Facebook - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCff2046a58a2e47419e639ee5c8d073a9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbee4ae9a972643b58c56c5620d00e895",name:"PLR - AT - All Models - Custom Script - Visitor Reco Target ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC671f83adb67b4575abe563118a252125-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbf0fcbc4f3214926b3f82f4218327126",name:"TPT - SI - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c1d84f08fc84faa8689f860a29ef056-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbf370c2956204a249765d33d17bb2507",name:"TPT - SE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c3a96d1e0764d3ba7473300c39bc8ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbf6e5015b54a4bab9bcbc97433defda8",name:"TP2  - ALL - AEM - Checkout Start - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventAction",value:"start",operator:"includes"}},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_957536",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc3bbd89aefc5445ca92ec1fdc0e9b2f5-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6062839",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8ba993469fec4bf98bb8385e2fdafd99-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3689928",
code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC97a0af3d9704462babcdae017cbf6a06-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8666569",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC63773f29f6764213a9fe25ffbf91ce44-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_7144334",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf5685b7e1c114c578022a664f0c8f0e3-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_2795164",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC886d94f2aeff4e4c8c8a86eff57c4254-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9907268",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC855facd97a504b409b0aed904b2c35fa-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5610116",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC94672b3022e345e58aaa5f1e8208f876-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9809391",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC516b8bc65ca7469a9d73861709f9721e-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLbf70f5f946774f0c9f8d1243ae038d97",name:"TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC90d9782846514029a6192bd5adaed920-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbfaa506b134e42a2a6d000baba100327",name:"TPT - SI - AEM - GtagDC - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC49a089947c034107a92a1332e692c32a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38ca080132334445a5ff8682bc9df32d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbfcfe1f791ae4857b34455254864d274",name:"TPT - AU - AEM - Floodlight - Google PlayStore Link - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://play.google.com/store/apps/details?id=com.bmwgroup.bmwone"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f9733a439b44a148c81e6834f1f7f88-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbfe3ebf900a2430c89fbf93e3a1a73d6",name:"TPT - UK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb4e6b3a9595f4fe3bfa8b8a62ca03f6d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLbff42ec54c744366969e9b16d076c3bd",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf59b42dfa0794dd4bb456a83eb7366f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc027eb2b93f943b1ad40fe8414fa4b0b",name:"TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb37d7e7842bd467190a09030190b1c39-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc047d5e7e5ba4bcaae1693020ef1f3d4",name:"TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC076db3be23a9421bb982e29a202594d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc0564f550e064db7881fe8938e8efde7",name:"TPT - JP - AEM - Adwords - RFO Success Page - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4f4112232821413493899156026cf10d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc060040780d74d769ff54798890c0672",name:"TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa06dd88cb9af460e812b94a5f2bf58f2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc070b382fb7244a99dbdda24ec44d3bc",name:"TPT - NZ - AEM - DoubleClick - i4-M50 Request a Test Drive - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventAction"),t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return"Outbound click"==e&&"Request a Test Drive"==t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC03c31d7c88074901a91ba48cc7735351-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc081404656264bf9a87379343ed11d83",name:"TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16df4b18e74b442ab0dd9fae7b397b55-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc149c85cc97f44e7aed60f0e217363a6",name:"ACDL GROUP - PL - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC78016385a52241f185b38bf659b80b90-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc161db6119354c4d94438ac2d2b325f1",name:"TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb1fab34260a2497e814d54e0fb8a217b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc176dbc23aaf421e9c8fbe58ab264144",name:"TPT - FR - AEM - GtagDC - DCS Form PV - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0f957f2d3e954cfda17aed1a8b3055e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc1996b88ce0949589b8b7541ab2976ce",name:"TPT - NZ - AEM - DoubleClick - i4-M50 Test Drive Submit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".form-submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf473489164a409d903d43cecc5f0e44-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc1ae0fb7d23d4fd79ae28e75b1b58ab1",name:"TPT - FR - AEM - Facebook - Site Search - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbc5e0312a2cd43c493a312601474655c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc1c1831ec44e4e509b8cb08579276f09",name:"ACDL GROUP - ALL - ANY - DLP - 1000 - end DLP and call OC",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:1e3}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_6387951",code:'  dl.assign("channel", [\'AA\', \'TP2\', "ContentSquare"],undefined, \'override\');\n\n  // debugger\n  const state = dl.get("eventInfo.state")\n  if (state.cancel === true || state.reduce((acc, it) => acc || it.cancel, false)) {\n    dl.assign("eventInfo.state.filter.AA.block", true)\n    dl.assign("eventInfo.state.filter.TP2.block", true)\n  }\n\n  dl.assign("eventInfo.totalTimeDLP", adobeDataLayer.util.getFirstFunctionWithNonZeroValue([\n    () => state[state.length-1].perf.start - state[0].perf.start\n  ]));\n\n  dl.get("channel").forEach(tool => {\n    if (!(dl.get(`eventInfo.state.filter.${tool}.block`) ||\n      (filterMap => !!(Object.entries(filterMap).find(([fName, filter]) => filter({\n        dl, fName\n      }) && fName)))(dl.get(`tools.${tool}.filter`, {}))\n    )) {\n      _satellite.track(tool, dl)\n    } else {\n      a12r._dbg.log("tools filter", `${tool} event blocked`)\n    }\n  })\n',path:"base/callOCs",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLc1ed7225f4854f8e9c2b69aa4b4e0a5e",name:"TPT - GR - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC45399708fe0b4434b05d1fcd5104b267-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2134a45037f46dfbf12bd6d7c8cb407",name:"TPT - BE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc06cde253a6449c797489c921e1894b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc21eab0be89a4dcbb24f1eec6262c61e",name:"TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautohaku",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12f05f05447d4b98ae53ff37a4c45fb3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc226bade89294df89d35853e84899186",name:"PLR - UK, DE, FR, IT, ES, NL, SE, BE, LU, AT, PT - AT - Vibe segments - 2.0",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"isAdobeAnalyticsAllowed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"bmw.co.uk"==_satellite.getVar("topLevelDomain")||"bmw.de"==_satellite.getVar("topLevelDomain")||"bmw.fr"==_satellite.getVar("topLevelDomain")||"bmw.it"==_satellite.getVar("topLevelDomain")||"bmw.es"==_satellite.getVar("topLevelDomain")||"bmw.nl"==_satellite.getVar("topLevelDomain")||"bmw.se"==_satellite.getVar("topLevelDomain")||"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")||"bmw.at"==_satellite.getVar("topLevelDomain")||"bmw.pt"==_satellite.getVar("topLevelDomain")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8330812f87764ef7a5ef61a411c77b11-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc2387bce7c98468c829f80b5581cf3d6",name:"TPT - BE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc480ea596f7942d6bd3fb67bfab03849-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc23c5d3694a14093a4a473072369262f",name:"TPT - NO - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaec9b2327efb4b64aa4638d256deb9d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2838151e0414371a5dadf6be3dd836e",name:"TPT - PT - AEM - Floodlight - TDA Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCea52abec783b4288add7868af0c92301-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc283ad3cd0e34963beab42d22d7dcaa4",name:"TPT - MX - AEM - GoogleSearch - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5f0b344c5222462bb2d5351a141b5d03-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc2aaf0cc85ed422f83aa888960d76cc1",name:"TPT - TH - AEM - Facebook - Link to Get Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e816fa4324.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1c5e00bc58.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-34b68eab88.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-22dc2eba79.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-a4108a1b41.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51c080e6e.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-7de27fff4a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1d54728eec.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e9ab7843c1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-5ca1a864a1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d48d976970.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2963aad3b7.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-28495b733a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-ddbab81cb0.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC78caf1e74be04d999c42942aadfaad03-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLc30db6699d3741229aba151cbe982fda",name:"TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/bmwoffers/bmw-3-phev/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC090a9aedcf5a4f29b47e3fb05d94098f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3a086c27b1c46efabe1bb7f0bae3faf",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3516da104e994a5a83fc70af21d610a8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3cd300d89704f0196cb595e557b9223",name:"TPT - ES - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Brochure Download']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCefdbc4e4662c41328e12b48c094dd9cf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc3f6072bf0814c6e91ab483da3cd870a",name:"TPT - DK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc5e571e688874bd1b51c66351b8e3e59-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc40eff7343bf4c79abc857e3d8efb441",name:"TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.bmwcard.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1a592730f5ef448a8439d12b251607d8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc412789ab4f946d6a3075462cd7abd73",name:"TPT - SE - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb70ee332dd4b426f80d23e61a994001d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4146979f65c4fa8a33ef1d7c31d51d0",name:" TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC418df07036344437a355f3224770c51d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc45cb79615584e8792968c0a3729c08f",
name:"TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2535db70042d4188a7a029043930a3cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4a70f011dc64b88b15c370c143874f2",name:"TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC48f6e7944db442e19ec697649871b5e7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4d4398304af496cbdc11dc06b1960b4",name:"TPT - PT - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ca1717ee68e4759a2bab68c2312fe73-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4dd94793f514a289638617f17c688bc",name:"TPT - TH - AEM - TikTok - Test Drive Form Submit Button - EN - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce54d705c3374b7da466b6e9a8e57d83-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc4dfbeb9d47848abaedc8085b8a54d7e",name:"TPT - SK - FORMS - Facebook - Adobe Form - RFI - ACDL - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7cdae353d5c44a35aea840a6a2864760-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc4e8113a9f6b46d0986f5a5bbd36dce0",name:"DCR - ALL - NSC - AA - Need Analyzer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_step"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier),$$$;var s,a,o,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.eventInfo.eventName"),l=(c.get("event.-1.eventInfo.effect"),c.get("event.-1.eventInfo.eventAction")),u=(c.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),""),b="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setProductString")(t);var m=c.get("event.-1.attributes.relatedComponentID");if(c.get("event").length>1)for(i=0;i<c.get("component").length;i++){var f=i.toString();(c.get("component."+f+".componentInfo.componentID")==m||"datalayer field missing"==m&&"need_analyzer"==c.get("component."+f+".componentInfo.componentName"))&&(a=c.get("component."+f+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+f+".componentInfo.componentID",c.get("component."+f+".componentInfo.componentId")),o=c.get("component."+f+".category.subCategory01"),c.get("component."+f+".category.componentType",c.get("component."+f+".componentInfo.componentType")),n=c.get("component."+f+".category.primaryCategory"),r=c.get("component."+f+".componentInfo.componentHeadline"))}else{var p=c.get("page.attributes.relatedComponentID");for(i=0;i<c.get("component").length;i++)f=i.toString(),(c.get("component."+f+".componentInfo.componentID")==p||"datalayer field missing"==p&&"need_analyzer"==c.get("component."+f+".componentInfo.componentName"))&&(a=c.get("component."+f+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+f+".componentInfo.componentID",c.get("component."+f+".componentInfo.componentId")),o=c.get("component."+f+".category.subCategory01"),c.get("component."+f+".category.componentType",c.get("component."+f+".componentInfo.componentType")),n=c.get("component."+f+".category.primaryCategory"),r=c.get("component."+f+".componentInfo.componentHeadline"))}t.eVar34=d&&"object"!=typeof d?d:"datalayer field missing",t.eVar34.indexOf(b)<0&&(t.eVar34=b+t.eVar34),"error"==l.toLowerCase()?(t.prop56="error",t.prop53=d,t.eVar34=c.get("event.-1.category.primaryCategory"),t.prop52=c.get("event.-1.eventInfo.cause")):"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()&&(t.prop56="interaction",t.prop53="ux",t.eVar34=t.eVar34+" clicked",t.prop52="default"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()?(t.prop55=r||"datalayer field empty",t.prop51=c.get("event.-1.eventInfo.cause")):("error"!=d.toLowerCase()&&(t.prop55=d),["share","error"].indexOf(l.toLowerCase())>-1&&"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.prop51=c.get("event.-1.eventInfo.effect"))),["call to action","more information"].indexOf(l.toLowerCase())>-1?t.prop57="internal click":t.prop57=l,t.eVar71=c.get("event.-1.eventInfo.target"),t.eVar151=c.get("page.attributes.pageHeadline"),t.eVar152=c.get("page.attributes.currentQuestion"),t.eVar153=c.get("page.attributes.previousQuestion"),t.eVar154=c.get("page.attributes.previousAnswer"),t.eVar155=c.get("page.attributes.previousWildcards"),t.eVar156=c.get("page.attributes.entryType"),t.eVar157=c.get("page.attributes.matchType"),t.prop19=t.prop3=t.prop54=a||"datalayer field empty",t.prop42="nsc website","internal click"==l.toLowerCase()?t.prop43=n||"datalayer field empty":"need_analyzer_step"==e.identifier?t.prop43=o||"datalayer field empty":t.prop43="teaser",t.prop13="bmw",t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf(b)<0&&(t.prop1=b+t.prop1),t.prop4=c.get("page.category.subCategory01",c.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop44=s||"datalayer field empty",t.eVar134="web",t.prop27=c.get("page.pageInfo.pageID"),t.prop5=c.get("page.category.subCategory02",c.get("event.-1.attributes.relatedPageCategory.primaryPurpose")),t.prop2=c.get("page.category.pageType",c.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop28=c.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=c.get("page.pageInfo.devEnv"),c.get("event.-1.eventInfo.eventPoints")&&parseInt(c.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(c.get("event.-1.eventInfo.eventPoints")))?(parseInt(c.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(c.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+c.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=c.get("event.-1.eventInfo.eventPoints"),t.prop12=c.get("event.-1.eventInfo.timeStamp",c.get("event.-1.eventInfo.timestamp")),t.prop50=c.get("event.-1.eventInfo.element"),t.eVar65=c.get("product.-1.attributes.modelName"),t.eVar17=c.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 need analyzer",t.linkTrackVars+="prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136";var g=c.get("page.pageInfo.pageName"),v=c.get("page.pageInfo.pageTitle");"Need Analyzer: Start Page"==g||v+": "+g=="Need Analyzer: Start Page"?(u+=",event321,event322",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"):"Need Analyzer: My Perfect Match"!=g&&v+": "+g!="Need Analyzer: My Perfect Match"||(u+=",event323",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"),"start again"==d.toLowerCase()&&"start again"==l.toLowerCase()&&(u+=",event321,event322"),"share"==l.toLowerCase()&&(u+=",event905"),"error"==l.toLowerCase()&&(u="event931"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.linkTrackVars+=",eVar34"),t.events=t.apl(t.events,u),t.linkTrackEvents=t.apl(t.linkTrackEvents,u),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLc50c916126c04bc88554611605692294",name:"TPT - RO - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4e00595b5ad64c50b594724714edf811-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc50ff41445ad4699bb30b196b06a1eb8",name:"TPT - TH - AEM - Line - RFO Form Interaction - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe5d057cab0d1445b9c8e97783ddacf5b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc523d187f36645c6ad6f13909c7af2a7",name:"TPT - SK - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf18a9e2e41b5497a965fac90b87b967c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc52d4db56c9040329701c5453987e99d",name:"TPT - TH - AEM - Adwords - RFO Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7569560",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2f766ebee96f42f08cbe6d645a0c4e4f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLc53c640d34b1495186e40ea8686b5e7f",name:"TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaee516f57dec4f16bd869ba5b1ddc540-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5843c8949fb4ce29b0a5b9dee081ab2",name:"TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".buttonLarge.ds2-tracking-js--event",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t|Retailers",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2bac3b03e0344a1eaee76f95315a7cde-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc5f0a461472946b0a831099500173a74",name:"TPT - TH - AEM - Facebook - RFO Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9fe825c8eac646c59393e49a50fee996-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc5fb017567ad4e0a915ad2bf7e5399d8",name:"TPT - NZ - AEM - Adform - Brochure Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC25b9589389de443ba451535d79713a17-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc61c6292235c4a04b064378c997e6f20",name:"TPT - IE - AEM - AdWords - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCff74a25367ab43989978f133dc0e0c9f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc64337c06487481e9c202b5b42a67fc3",name:"TPT - FI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fI",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC724c16ffd8f340208a06a1ebea564eb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc67c400cd7e14b2b9801675d9cedf53a",name:"DCR - AT - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC92ca55d82a094f1ebfa23370a034775b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc6a7943af5314228a0bf9f601c13b133",name:"TP2  - ALL - AEM - Local Form Finished - p15r[c] - Bandaid",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.fi",valueIsRegex:!0},{value:"bmw.dk",valueIsRegex:!0},{value:"bmw.no",valueIsRegex:!0},{value:"bmw.se",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("getDL",e).get("eventInfo.effect");return"local > form finished"==t||"nsc > form finished"==t}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC17b6a741862c4076a90a15028ef61557-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc8fc2b4f229e4dac85adcb32b55eeed1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5eb79095fdce4e638bb69d3de95a09f1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe932dd816b8b410699844058322ecfb7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0b9c5f8a6d394009b821af660336d809-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe73781b3b0a64981aabd1723aee871f0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa154a4a456ab4b23974d74084ba5ff06-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC706fdc2f8c9644f49a847bf613cb1804-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ea35d0f0d13460dab2faccecd50d1aa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc6bd1de3721545839aa7737a86c87c41",name:"TPT - TH - AEM - Line - Link to Get Offer - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e816fa4324.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1c5e00bc58.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-34b68eab88.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-22dc2eba79.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-a4108a1b41.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51c080e6e.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-7de27fff4a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1d54728eec.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e9ab7843c1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-5ca1a864a1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d48d976970.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2963aad3b7.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-28495b733a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-ddbab81cb0.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc531c0306e5a42a9ac2d928c864697f1-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLc6d4bcb801ba46a8824c15d27469735f",name:"TPT - LU - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC70bb1e2201e547c2a66ced73761efcd6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc7461a68e0fa4bd5bc3a717c044a667a",name:"TPT - BE - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC311191bf413f4b579dcca5d8366ad7a2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc7b0d11598084dfabc6fc3cec5c6acfa",name:"TPT - BE - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC14dc70f45b014a82b320f7005a5931e1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc7cc86d868eb4032aa0cc074a3826df8",name:"TPT - CH - FORMS - Facebook - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0be291c482324a669303512a922aeddf-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc8309448ad664899b96eb353ce899c29",name:"TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6cb44baf1bd646d596609072c20826c3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc84379778b2f4f03a1aace8b664542ce",name:"TPT - IE - AEM - Adwords - RFO - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0ed6431bea754db4bd76400f59b3fd76-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc848159048144f7fa7a02efe921ee6e6",name:"AA GROUP - ALL - ANY - 0010 - anyEvent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AA"},ruleOrder:10}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dynExec.js",settings:{ID:"DYN_action_4604395",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf5d6b039082f4078a2aeb3c9c628104d-code.min.js",path:"base/push2acdl",type:"DYN"},timeout:8e3,delayNext:!0}]},{id:"RLc88d1b51ebd844f28a793bdeb1af47cd",name:"TPT - TH - AEM - Adwords - RFO Form Thank you page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93a510df841a4d8b82b2d8ed46ccd0fa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc8d3307047b34d91b7da1193988acd90",name:"TPT - LU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC115235b403504fb39d3f9efac819fca0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc94bea8e66f84628aec35b46021d3d91",name:"TPT - ZA - AEM - Adform - Help me find my finance - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"bmw.co.za/en/topics/offers-and-services/bmw-financial-services/find-my-finance.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f91b8da87cd433d8e4052282e7dfa83-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc9995ece0ee74d10be7afa20b9a7f4b2",name:"TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC75a209a8d1b44b1ba70b52fa5624fa87-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc9d934c0272549178283d9d1526e61ea",name:"TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa908b4ca6c6a4340bef4e039110e2b18-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLc9daf7d02b6545769c17326d4412099e",name:"TPT - TH - AEM - Line - Link to Get Offer - EN - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-20f7aff6d4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e2c364d6ae.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-eb4fbb0245.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-4b5f2b21f4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-87e7f420b3.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-82ce5315dc.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-3e2adb97e4.cmp-buttonn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-6d6d318fbf.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51ad3f462.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-f4684f8185.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2d01a1c77f.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-c96527d316.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-41112154dd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-010491c873.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3e8470ee97c149e28bd7e1caa0e26abf-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLc9f45d9fb5ab4b9c96af2d00f809ae51",name:"TPT - ZA - AEM - Adform - Explore BMW Select Finance - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"bmw.co.za/en/topics/offers-and-services/bmw-financial-services/bmw-select.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC528acb966fcc48a2ae01a7c7ff03aa0e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLca02064813544ec581f418d4d57a220c",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"UK"==s&&(s="GB"),"COM"==s&&(s="DE");var a={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:50,Other:38}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:20,CES:0,Psyma:60,Other:20}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}}};if(("KR"==s||"GB"==s||"FR"==s||"DE"==s)&&(null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0),"KR"==s||"GB"==s||"FR"==s||"DE"==s)return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("page.pageInfo.pageName"),t=_satellite.getVar("topLevelDomain");return!("all-models"!=e&&"nsc > all-models"!=e&&"konfigurator"!=e&&"nsc > konfigurator"!=e&&"configurateur"!=e&&"nsc > configurateur"!=e&&"configurator"!=e&&"nsc > configurator"!=e&&"all-models-con-entry"!=e&&"nsc > all-models-con-entry"!=e||"bmw.de"!=t&&"bmw.co.uk"!=t&&"bmw.fr"!=t&&"bmw.co.kr"!=t||(console.log("condition fulfilled"),0))}catch(e){var s={from:"TPT",type:"Rule",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF"};_satellite.logger.error(e,s)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC37b18766d5794a83818c6f62203df307-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLca27a0277e654a258240d0fb1fd01f00",name:"TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa2990a8240e54c7b8ea76deb1ee12c06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLca5d8e78dfaa414ba0623b5b34762a08",name:"TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb3a528028c454c69a8c4bd4d7815a03b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLca8c92bb39b94faf82afcfed8a31fc41",name:"TPT - JP - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16404cfb9f964e0a9411252a703f7f69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcac0df41a51347bfa6c9a5f0d5e2cb46",name:"TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe4974f13b8554cfca13ff79197ea9c94-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcaca68eab83f4a73bab4761d135e752b",name:"TPT - CZ - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"websk_ini"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2d55f518f34948268436c3cf5836ee1f-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcb2f7c418c8e428991fccf076a4c3dde",name:"TPT - AT - AEM - GTagDC - visualizer - DCR -  p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9c39ed9e8f224b21a2728c4582d4f27c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcb323d52b85e42f8bfb2afef2349c4ba",name:"TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3cd3b42a49a424dbf514058451f7f3c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcbcaa40e48204f11b6b881b56017d6dd",name:"TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2653b65f4c4443919ddc8628ab7ed099-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcc0d994bdce04c0e80ef034045741a34",name:"TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC00994cb8fee343cd8e46531a801a58e6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcc37ca173e7d455a9321c28abfc8e799",name:"TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb493e81271b74ae18e867a58b292e70d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLccaeeba98e1f480fac1a3935b411ed21",name:"TPT - NZ - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8ef75659ec34418bb9f3414f342cc568-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcce7fef339894590bbf607c33f52d3ca",name:"TPT - ES - AEM - Adform - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9b2a4ca2c107498398d47f236d92c255-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLccef16437fd94cc48be675cdd56ca6e6",name:"TPT - SE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfcd14c9cd8ef451d8125b6524dd2c526-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLccf24fe1aec04788aa1e4d4fe1d5d78b",name:"TPT - TH - AEM - Adwords - Link to Get Offer - EN - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-20f7aff6d4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e2c364d6ae.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-eb4fbb0245.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-4b5f2b21f4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-87e7f420b3.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-82ce5315dc.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-3e2adb97e4.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-6d6d318fbf.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51ad3f462.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-f4684f8185.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2d01a1c77f.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-c96527d316.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-41112154dd.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-010491c873.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC427b99938c55467189ea83701276a80c-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLcd0e8e134f204433b8d232323c5ac9c6",name:"TPT - TH - AEM - Line - Test Drive FormSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4ffa33b4118f43848b52ac1dafc5147c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcd27fe0dc8cc4ab182e3ebaf28013b78",name:"TPT - NL - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf328a855f32041d0b351564b87d6586d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd3ff25454994884ab653c9b32c63b1c",name:"TPT - DK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4b336416f2df48d29d8a67cf8e8bd1ba-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd4ee88a11ee4d09a1f1fbe897af051e",name:"TPT - JP - AEM - Amazon - All Pages PageView - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb354b446712e40c9b66f5e0c69826c39-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcd546e14ee474391b6d08825ac9a4af2",name:"TPT - AT - AEM - Facebook - stock-locator reserve now - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Jetzt reservieren"==$(this).text().trim()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0af7a9e6ca60438f82bdfc006e37a23a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd5a95b6f6b044ae981ad57d8fc6ad25",name:"TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa37fa66059af48449555e1a4fc1002ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd61b8ea3d1347a2a996e476a5a33cf1",name:"TPT - SI - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54c0e35b9fdd4cd7918dfc53abb5f3ff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd689b4f3db244ac950456b49ffeabdf",name:"TPT - TH - AEM - Adwords - RFO Form Submit Button - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC71ea872546204787875f257b16f2c35f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcd6ed87278c246cbad0d5c88a1e24d3c",name:"TPT - FI - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC006c545b6bc74ac3866f7d638eb511e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcd6fa99282114b20a9711da43275e4b6",name:"TPT - TH - AEM - GtagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4947f792e82b49a48a0e74ca18c9fd2c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcdaeaa7e586f48c1945ab4242581a25c",name:"ACDL GROUP - GB - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,market:!0,component:!1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1e2b2661d1294b9ca31a939f4681b625-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcdb1c8f2fd584e13a0e52c25185eaa26",name:"ACDL GROUP - ALL - ANY - PBE - page load fallback",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{eventRegex:"",withConsent:"",afterPageView:!1,afterNoPageView:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%ACDL - PV_techABtest10percent%"},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmwexcellenceclub.co.za",valueIsRegex:!0},{value:"shop.bmw.co.kr",valueIsRegex:!0},{value:"servicebokning.bmw.se",valueIsRegex:!0},{value:"huoltovaraus.bmw.fi",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/tradein",valueIsRegex:!0},{value:"#/error",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9371630",
code:'\tif (window.adobeDataLayer && adobeDataLayer.some(it => ["aem page loaded", "tron page view", "con page view"].indexOf(it.event) >= 0)) {\n\t\treturn\n\t}\n\t\n\tlet p = adobeDataLayer.util.getLegacyTrackingPage() || {};\n\tconst gFFWV = (fcts, context={}) => adobeDataLayer.util.getFirstFunctionWithValue(fcts, context.isValid ? context : Object.assign(context, { isValid: (v) => !!v}));\n\t\n\tconst pageInstanceId = adobeDataLayer.util.getFirstFunctionWithValue([\n\t\t() => p.pageInstanceId,\n\t\t() => p.page.pageInfo.pageInstanceId,\n\t])\n\tconst nP = {\n\t\t"attributes": gFFWV([() => JSON.parse(JSON.stringify(p.page.attributes))]) || {}\n\t}\n\tObject.assign(nP.attributes, {\n\t\tbrand: gFFWV([\n\t\t\t() => nP.attributes.brand,\n\t\t\t() => (window.location.hostname.indexOf(\'bmw-motorrad\') > -1) && \'bmw-motorrad\',\n\t\t\t() => (window.location.hostname.indexOf(\'bmw\') > -1) && \'bmw\',\n\t\t\t() => (window.location.hostname.indexOf(\'mini\') > -1) && \'mini\',\n\t\t\t() => \'unknown\',\n\t\t]),\n\t\tpageTitle: gFFWV([\n\t\t\t() => p.page.title,\n\t\t\t() => p.page.pageInfo.pageTitle,\n\t\t\t() => document.title,\n\t\t]),\n\t\ttimeZone: gFFWV([\n\t\t\t() => p.page.attributes.timeZone,\n\t\t\t()=> {\n\t\t\t\tconst offset = new Date().getTimezoneOffset(),\n\t\t\t\t\th=-Math.floor(offset/60),\n\t\t\t\t\tm=Math.abs(offset)%60;\n\t\t\t\treturn offset ? `${(h < 0 ? \'-\':\'+\')+(\'0\'+h).slice(-2)}:${(\'0\'+m).slice(-2)}` : "Z"\n\t\t\t}\n\t\t]),\n\t})\n\tnP.category = {\n\t\tpageType: gFFWV([\n\t\t\t() => p.page.category.pageType,\n\t\t\t() => p.page.category.formType,\n\t\t\t() => p.page.category.primaryTags,\n\t\t]),\n\t\tprimaryCategory: gFFWV([\n\t\t\t() => (p.page.attributes.template === "NBC") && "configurator",\n\t\t\t() => (typeof p.page.category.primaryTags === "object") && p.page.category.primaryTags[0],\n\t\t\t() => p.page.pageHier,\n\t\t\t() => (p.page.category.primaryCategory == \'home\' && window.location.href.indexOf(\'home.html\') > -1) && "homepage",\n            () => p.page.category.subCategory01 == \'home\' && p.page.category.primaryCategory,\n            () => p.page.category.subCategory01,\n            () => p.page.category.primaryCategory,\n\t\t\t() => p.page.primarySection,\n\t\t\t() => p.page.category.primaryTags,\n\t\t\t() => "topics",\n\t\t]),\n\t\tsubCategory1: gFFWV([\n\t\t\t() => (typeof p.page.category.secondaryTags === \'object\') && p.page.category.secondaryTags[0],\n\t\t\t() => p.page.pageLevel2,\n\t\t\t() => p.page.category.subCategory01,\n\t\t\t() => p.page.category.purchaseReason,\n\t\t\t() => p.page.category.subCategory1,\n\t\t\t() => "content",\n\t\t]),\n\t\tsubCategory2: gFFWV([\n\t\t\t() => p.page.pageLevel3,\n\t\t\t() => p.page.category.subCategory02,\n\t\t\t() => p.page.category.subCategory2\n\t\t]),\n\t\tsubCategory3: gFFWV([\n\t\t\t() => p.page.pageLevel4,\n\t\t\t() => p.page.category.subCategory03,\n\t\t\t() => p.page.category.subCategory3\n\t\t])\n\t}\n\tnP.pageInfo = {\n\t\tauthor: gFFWV([() => p.page.pageInfo.author]),\n\t\tdestinationURL: gFFWV([\n\t\t\t() => p.page.url,\n\t\t\t() => p.page.pageInfo.destinationUrl,\n\t\t\t() => p.page.pageInfo.destinationURL\n\t\t]),\n\t\tgeoRegion: gFFWV([\n\t\t\t() => window.location.href.split(\'country=\')[1].split(\'&\')[0],\n\t\t\t() => window.location.href.split(\'country_origin=\')[1].split(\'&\')[0],\n\t\t\t() => p.page.pageInfo.geoRegion,\n\t\t\t() => p.page.pageInfo.language.split(\'-\')[1],\n\t\t\t() => (window.location.host.indexOf(\'bmwusa\') > -1) && "US",\n\t\t\t() => ""\n\t\t]),\n\t\tlanguage: gFFWV([\n\t\t\t() => p.page.pageInfo.language.slice(0, 2),\n\t\t\t() => (p.page.pageInfo.language.indexOf(\' - \') > -1) && p.page.pageInfo.language.split(\' - \')[0],\n\t\t\t() => (window.location.host.indexOf(\'bmwusa\') > -1) && "en",\n\t\t\t() => \'\'\n\t\t]),\n\t\tpageID: gFFWV([\n\t\t\t() => p.page.path,\n\t\t\t() => p.page.name,\n\t\t\t() => p.page.pageInfo.pageInstanceId,\n\t\t\t() => window.dataLayer.pages[0].pageInstanceId,\n\t\t\t() => p.page.pageInfo.pageID,\n\t\t]),\n\t\tpageName: gFFWV([\n\t\t\t() => p.page.name,\n\t\t\t() => p.page.pageInfo.pageName,\n\t\t]),\n\t\treferringURL: gFFWV([\n\t\t\t() => p.page.pageInfo.referringUrl,\n\t\t\t() => p.page.pageInfo.referringURL,\n\t\t\t() => document.referrer,\n\t\t]),\n\t\tsysEnv: gFFWV([\n\t\t\t() => p.page.pageInfo.devEnv,\n\t\t\t() => p.page.pageInfo.envWork,\n\t\t\t() => p.page.pageInfo.sysEnv,\n\t\t]),\n\t\tvariant: gFFWV([\n\t\t\t() => p.page.pageInfo.variant,\n\t\t\t() => p.page.attributes.virtualPage == \'true\' ? "virtual page" : "real page",\n\t\t]),\n\t\tversion: "acdl: " + gFFWV([\n\t\t  () => p.page.pageInfo.version && p.page.pageInfo.version !== "na" && p.page.pageInfo.version,\n\t\t  () => _satellite._container.buildInfo.buildDate + " - " + event.$rule.name\n\t\t])\n\t}\n\tif (!nP.pageInfo.pageID) {\n\t\tnP.pageInfo.pageID = [nP.category.pageType, nP.attributes.brand, nP.pageInfo.geoRegion, nP.pageInfo.language, nP.category.primaryCategory, ""].join("/");\n\t\n\t\tnP.pageInfo.pageID += gFFWV([() => nP.category.subCategory1], ()=>"") + "/"\n\t\tnP.pageInfo.pageID += gFFWV([() => nP.category.subCategory2], ()=>"") + "/"\n\t\tnP.pageInfo.pageID += gFFWV([() => nP.category.subCategory3], ()=>"") + "/"\n\t\n\t\tnP.pageInfo.pageID += gFFWV([\n\t\t\t() => nP.pageInfo.pageName.split(\' > \')[1],\n\t\t\t() => nP.pageInfo.pageName\n\t\t])\n\t}\n\t\n\twindow.adobeDataLayer.push({\n\t\t"event": "launch page loaded",\n\t\t"page": nP,\n\t\torgPage: p.page,\n\t\t"eventInfo": {\n\t\t  timestamp: new Date().getTime(),\n\t\t  perfNow: performance.now(),\n\t\t\torigin: {\n\t\t\t\trule: _satellite.property.name + \'|\' + event.$rule.name,\n\t\t\t\tcomponentName: "legacy aem page",\n                isFromFallback: true\n\t\t\t}\n\t\t}\n\t})\n\t\n\t\n',path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLcde6b514a2ad4b86b7f38f25423615ab",name:"TPT - PT - AEM - Facebook - Save configuration - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div > div.row.row-show-icons > div:nth-child(8) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%URL%",rightOperand:"https://configure.bmw.pt/pt_PT/configure/F40/7K11/FEGAT,P0300,S01CB,S01DF,S01DZ,S01TK,S0230,S0240,S0249,S02PA,S02VB,S0320,S0423,S0428,S0450,S0493,S04GN,S0508,S0544,S0548,S05AQ,S05DA,S0654,S06AE,S06AF,S06AK,S06C3,S06S3,S06U2,S06UX,S06WB,S07LC,S07NH,S0845,S0889,S08KA,S08R9,S08S3,S08TF,S08WL,S09QX?expanded=true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC22eb4da189d842a09903e48fa0d522c6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLce0225cabda44937a894cec9cb551b21",name:"TPT - PT - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC77baee31b24c44248f24fd83772a5341-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLce4471c86d1647efa590b604449da404",name:"TPT - DE - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb4ba941996db4e3d9f2d4d6e5a933a06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLce5fb7434f0841fb90650c28b3c614c7",name:"ACDL GROUP - ALL - ANY - DLP - 0070 - tools setup cross market",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:70}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!0,brand:!1,market:!1,component:!1}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/setupTools.js",settings:{ID:"TOOLS_action_8347220",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f09df3acd3140f683757ffac4fcadb4-code.min.js",path:"",type:"TOOLS",processingID:"ContentSquare"},timeout:2e3,delayNext:!0}]},{id:"RLce898315dc6845c4bb4d79d330dbcc46",name:"All Pages \u2013 AAM \u2013 hasheducid - onelogin",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"customerData",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5cc53e4f0fd148b6b5514d2ae9ee8c32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLceb6d00ed4f34f509455eead76d8d135",name:"TPT - ZA - AEM - LinkedIn - BMW FIN SERVICES Multpile - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd18a6224f2a94ae4a9abff9e1388bc54-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcec1a3f0ac0f4d9ea3acacbe368710d8",name:"TPT - DE - AEM - Adform - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e7e030f3be54c239c23168b0583dabb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcecf96fbd0134ff5b38ea124f1c20c5f",name:"TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7656166b1d8b4b1fa43f96ec61d2268a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4918eeb85c8240a58880675bb3738cce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcedbcbddff08419f85de212f0d8c8bc7",name:"TPT - JP - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCff4445d05fc5464194c9865d26cc90f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcee2ebcb0566452aaefc263d1b131536",name:"TPT - PT - AEM - Adform - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0444782c63f5496685e7b9038f176d31-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf45f8afa59e4e55942c812dbd3cb8fa",name:"TPT - KR - AEM - AddingBoldStyle - All pages - PLR",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC19407674ac814481a28bab1f20a96ca8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf4a0bbc45884fbe9094b4691b7167bb",name:"TPT - ZA - AEM - MediaMath - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6d8b2c3237714458a58ea47ca9e08787-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf56cb3635584d2d9b45194cd4f7c99e",name:"TPT - HU - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC05337883a8e341fa8c45c5674abb63b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf744c359344473880a1e6e6964c1a5e",name:"TPT - SE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36535a32e7a448a892ea476a7e9489c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf780ff2165f450f8f0d892d43afef77",name:"TPT - TH - AEM - Floodlight - Link to Get Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e816fa4324.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1c5e00bc58.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-34b68eab88.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-22dc2eba79.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-a4108a1b41.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51c080e6e.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-7de27fff4a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1d54728eec.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e9ab7843c1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-5ca1a864a1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d48d976970.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2963aad3b7.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-28495b733a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-ddbab81cb0.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC35728675315c48e2b0abfeb7151e157f-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLcf7f6da792284eef92b57d7d9d7f961b",name:"TPT - FR - AEM - DLO Search Function - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38ce354865884aab9b481c8fdfbd1c61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLcf81a92e587e4745a1b58d34a2c458b4",name:"TPT - CH - AEM - Floodlight - Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC88cc90a726464331bfc4ee0d082a746b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd031a513ff7c4ccabb0eb8240c0d89b5",name:"TPT - PT - FORMS - Floodlight - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87381f4c41a649deb18e99ddd82a79d0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd06fad9a382b46188233de6bff0989b2",name:"TPT - DE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC646b3fabb92545ada558153b19d3c54f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd09761a2c1a64ea981b70d2db8890518",name:"TPT - TH - AEM - Adwords - Test Drive Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1cbd9bee1b57463891461d8b7dab94f4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd09c0f67caa545dbae20454b65ffc569",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC59f50a3243be4b788745cf17f8d3cadd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd0e485e3bd1e49689a4a727ad6e35893",name:"TPT - TH - AEM - TikTok - RFO Form Thank you page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0e8ecf83b1b44511b6b105656a940bf9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd10534b8864a40969841f9b94543298e",name:"TPT - RO - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd455c8ad8587486b96cff6afbb206f98-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd11b12e15dd64238bc082451b76cd082",name:"DCR - All - AEM - AA - Accessory Configurator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),i=s.get("component.-1.componentInfo.componentName"),r=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")));function c(){t.prop56="interaction",t.prop53="success",t.eVar34=-1==o.indexOf("con >")?"con > "+o:o,t.prop54="accessory configurator",t.prop55="datalayer field missing",t.prop51=a,t.prop52=n,t.prop19=t.prop43="accessory configurator",t.prop42="configurator",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43")}function d(){t.prop56="form",t.prop53="central form",t.prop54="RFA",t.prop55=o,t.prop51="lead",t.prop52=n,t.prop6="central form",t.prop11="RFA",t.prop7="datalayer field missing",t.prop10="dedicated forms",t.prop18="lead",t.prop17="datalayer field missing",t.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,t.prop42="configurator",t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43")}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 accessories configurator",t.prop27=s.get("page.pageInfo.pageID"),t.prop3=i,t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28="virtual"==s.get("page.category.pageType")?"virtual page":"",t.prop1=t.pageName=-1==r.indexOf("con >")?"con > "+r:r,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName");var l=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),u=s.get("event.-1.attributes.engine");if(u){var b=/[0-9]{3}[a-z]{1}/i,m=/xdrive[0-9]{2}[a-z]{1}/i,f=/sdrive[0-9]{2}[a-z]{1}/i,p=u.match(b)||u.match(m)||u.match(f);u.indexOf("i3 (120 ah)")>-1||u.indexOf("i3 (120ah)")>-1||u.indexOf("i3 120ah")>-1?u="i3 (120 ah)":u.indexOf("i3s (120 ah)")>-1||u.indexOf("i3s (120ah)")>-1||u.indexOf("i3s 120ah")>-1?u="i3s (120 ah)":p&&p.length&&(u=p[0].toUpperCase())}var g=_satellite.getVar("setDefaultProductVariables");g.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),g.category="new vehicle",g.merchEvars.eVar47=s.get("event.-1.attributes.colour"),g.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName")),g.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),g.merchEvars.eVar10=l,g.merchEvars.eVar51=s.get("event.-1.attributes.bodyType",s.get("product.-1.attributes.bodyType")),g.merchEvars.eVar54="new car"==s.get("product.-1.category.primaryCategory")?"build to order":"",g.merchEvars.eVar50=s.get("event.-1.attributes.serie",s.get("event.-1.attributes.series")).replace(/,/g," "),g.merchEvars.eVar55=s.get("product.-1.category.subCategory01"),g.merchEvars.eVar58=u,g.merchEvars.eVar65=s.get("event.-1.attributes.productName");var v=_satellite.getVar("setDefaultProductVariables");switch(v.id=s.get("event.-1.attributes.wishlist.-1").split("~")[2],v.category="after sales",v.events=["event836="+s.get("event.-1.attributes.wishlist.-1").split("~")[3]],t.events=t.apl(t.events,"event836"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event836"),g.append(v),t.products=g.toString(),t.linkTrackVars=t.apl(t.linkTrackVars,"products"),a){case"Model Selection":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event257,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event257,event253,event254"),c());break;case"ac start":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event251, event252, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event251, event252, event253, event254"),c());break;case"ac model update":"AC iFrame - AC Model Change Intention"==o&&(t.events=t.apl(t.events,"event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event258, event253, event254"),c());break;case"ac start after model change":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event251, event252, event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event251, event252, event258, event253, event254"),c());break;case"Summer Complete Wheels":case"Winter Complete Wheels":case"M Performance":case"Transport Solutions":"AC iFrame - Accessory Configurator Step"!=o&&"AC iFrame - Accessory Add"!=o&&"AC iFrame - Detail Click"!=o&&"AC iFrame - Visualisation Change"!=o&&"AC iFrame - Started wishlist Share"!=o&&"AC iFrame - Finished wishlist Share"!=o&&"AC iFrame - Download wishlist"!=o||(t.events=t.apl(t.events,"event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254"),c(),"AC iFrame - Finished wishlist Share"==o?(t.events=t.apl(t.events,"event905"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event905")):"AC iFrame - Download wishlist"==o?(t.events=t.apl(t.events,"event903"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903")):"AC iFrame - Detail Click"==o||"AC iFrame - Visualisation Change"==o?(t.prop53="ux",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Started wishlist Share"==o||"AC iFrame - Finished wishlist Share"==o?(t.prop53="success",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Download wishlist"==o&&(t.prop53="ux",
t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")));break;case"RFA: Selected Accessories":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event29,event30,event3,event4,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event29,event30,event3,event4,event9,event10"),d(),t.eVar34="con > form started",t.prop8="form started",t.prop16="selected accessories",t.prop9="step 1/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Personal Data":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event7,event8,event9,event10"),d(),t.eVar34="con > form step 2",t.prop8="form step 2",t.prop16="personal information",t.prop9="step 2/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Dealer Selection":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event7,event8,event9,event10"),d(),t.eVar34="con > form step 3",t.prop8="form step 3",t.prop16="dealer locator",t.prop9="step 3/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Legal Notice":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event7,event8,event9,event10"),d(),t.eVar34="con > form step 4",t.prop8="form step 4",t.prop16="marketing consent",t.prop9="step 4/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Finish":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event31,event32,event15,event16,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event31,event32,event15,event16,event9,event10"),d(),t.eVar34="con > form finished",t.prop8="form finished",t.prop16="request success",t.prop9="request success",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"AC full screen view":"iFrame - fullscreen"==o&&(t.events=t.apl(t.events,"event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,"),c());break;case"AC Toggle M Sport Package":"iFrame - toggle"==o&&(t.events=t.apl(t.events,"event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254"),c());break;case"ac error page":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931"),t.prop56="error",t.prop53="error 404",t.pageType="errorPage",t.eVar34=o,t.prop54="datalayer field missing",t.prop55="404",t.prop51="datalayer field missing",t.prop52=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType"))}}catch(h){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(h)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RLd163643b340c49c0a718ea758d051d2b",name:"TPT - BE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3f04da7ad25e4547ae19b29039f9007c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd214dc1b0ed64c5bba5a8706d579e28f",name:"TPT - JP - AEM - Yahoo - Site Tag - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a98c9353b6344b0997f84ecaf5808f7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd25bceda7ac54746a646d25d6e6a4380",name:"TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCad66dcb5971f43d48599238f229038e5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd26210cc941d44d2968f326bcabc617e",name:"TPT - TH - AEM - Floodlight - Test Drive Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc3dd36b35b814abfb88ae74d538fb17c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd26a9c6c99424fe7b147140a3abf30c8",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - generic deduplication",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"(tpt-pageview|tpt-legacy event)",operator:"regex"}},negate:!0,timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_5636791",code:'adobeDataLayer.extEvntData.cancelOnBefore({\n    comparator: function(current, previous) {\n        return current.get("eventInfo.eventName") === previous.get("eventInfo.eventName") &&\n            Math.abs(current.get("eventInfo.timeStamp") - previous.get("eventInfo.timeStamp")) < 50 && // assuming faster than 50ms means unwanted duplication\n            current.get("eventInfo.effect") === previous.get("eventInfo.effect") && \n            current.get("eventInfo.reference.linkedProducts") === previous.get("eventInfo.reference.linkedProducts")\n    },\n    current: dl\n})\n'},timeout:8e3,delayNext:!0}]},{id:"RLd26dbff2dcb84703b06aa53b826f6113",name:"TPT - UK - AEM - Facebook - iFrame Form ROI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5c55b10926df436581aaae11144d0f66-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd28896ecc3e44e578de558aba6516fff",name:"TPT - RU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb2553bd15a5848df8da6140dae40a10a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd29282aeda7f415ba2aac62b01f3758e",name:"TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC420278f347ef437d85ea11356707117a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd2d04fb9d0274632bde03a8e837ed83b",name:"TPT - CA - AEM - Facebook - BMW Service page Book Online Appointment Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#narrow\\ teaser > ul > li:nth-child(1) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3d7619d5788847d5be05f08a9aaf60a4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd2d8f5a8e74743e2ae8c6f7920bdeb66",name:"TPT - BE - AEM - Adform - Form Submission - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbd029bbf26904368bd545bccbeba54ad-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd324591e89d94e0685f38719e6e55f9b",name:"TPT - NZ - AEM - Floodlight - Brochure Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3cc9db6ec54d4a4eb42d5bd7f89e1441-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd351fc2fccc94690b5b728e1f8783a43",name:"TPT - SI - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe370afb88dd64e7bb9e70224ae56e945-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd399d7c9d5fa4c298f509846e15ff463",name:"TPT - DE - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6bb3b7f1fa7c450ca81b8c114f3ea553-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC47d3505df2b3420a9295354e6e60192e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd3d1225ad78e4ad789d605d9437d6370",name:"TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc77b9b331334d66b15ce439dbebc9c6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd440603743bf454a9eae886b2038d9be",name:"TPT - UK - AEM - Adform - Submit Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".form-builder-c-form-footer__next",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Submit"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf3bf94a717e74e1e88e2bf5300dda43a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd45be02a140745d5a23ebddabbed9d5a",name:"TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC670edea2a0104c9780f4dd50a94f7b0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd49607749c604e94bac57a88c6812f32",name:"TPT - IT - AEM - Floodlight - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcadfec95f7314b728733e843d9606f9a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd4a5e4c39f3340e599832fffbfb24727",name:"TPT - AT - AEM - Adform - Newsletter - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa76fb30457ed4b448ca5610b5e2d71c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd52ea1f53c2d401c92e4acc33be27834",name:"TPT - NZ - AEM - DoubleClick - 118i M Sport Campaign Request a Test Drive - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation.ds2-accessibility > div.row.ds2-row-padding > div > div:nth-child(5) > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.ds2-mobilepreview.ds2-page--wrapper > main > div.ds2-main-wrapper.ds2-page--row-expanded > div:nth-child(7) > div:nth-child(1) > div > div.ds2-text-only--button > div > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcfa889ee3ffd408294bc1698f8185e8c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd53790061e4d439bb963b6b9d585d581",name:"TPT - NL - AEM - Adwords - All Pages2 - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9828576c7fda4a68ab0db1d1441b876e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd537a4165f654446a2d8f8dbdb0b80ca",name:"TPT - IN - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb3d92955cd1455589ea0ef99dcd7389-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd542dd93c7124549bf0d24bdefa05a5d",name:"TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa0b6b5b3b9104ed7a1084636e9926e0c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd572523669d7460795978a3f1fe41bde",name:"TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8d8ffb62f4bc46a49e6f7f23bcf0cdeb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd5861a49a6c24a3c8bafaad3b6782b3c",name:"TPT - BE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8730c8a9ef54499f92c98429d559aef8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd59c7c0c1fd14dd380ded47895bb1e42",name:"TPT - PT - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC37f85e0ac1814f4ab6047eeda59a5018-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd6393b6ec5a94a5d930fa836b3f34abb",name:"TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1d3013282a234fd28ac5b37721bae655-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd6431f8e20dc4af4b12b71602875a17e",name:"TPT - NO - AEM - Floodlight - TDA Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/kontakt/bestill-provekjoring.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"local > form finished"==e.detail.snapshotDL.snapshot.event[0].eventInfo.effect}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaff0aede5b4641a3901031df74bd4e7f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd67d0e403a96415a88e03f42ced4e05f",name:"TPT - NL - AEM - Adwords - TDA Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC62b6d52514684a91ab8dd1c5c4135bb3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLd6bd4d7307384ba18aa5db0859bf4eb1",name:"TPT - JP - AEM - Twitter - All Pages - PLR -p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC816310b2687848d19ea5ec71594b5614-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd6f0558b6409419e8dc9f5ecb5a28975",name:"TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/discover-get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/rfo/get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC743151fd90c64e61bd4da220287d6b70-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd757150620c143a68c6f57b638d287b3",name:"TPT - ID - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb2d8617a24974f4e89da67f1424232ad-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd77dc1f06cb342a98bd2dd1388a4ee66",name:"TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcf68f33901ae4398868e057bb667892a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd78d376ebc7f426d845683dbdfada2cf",name:"TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbf1721aba67244929b4389fbd22ee1ab-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd7e88261c34643e5b69249a79b38a7d3",name:"TPT - PT - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC91f851735bd74b8bbbf950999ed355cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8093226bf474618953ab0e23ee24aa4",name:"PLR - BE_LU - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"bmw.be"==_satellite.getVar("topLevelDomain")||"bmw.lu"==_satellite.getVar("topLevelDomain")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe5096013aad045cea33d1ca3254bd4b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd81dc401e0184033b1327abd0e310c1a",name:"TPT - FI - FORMS - Adwords - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4274bbc3fbd84a638a114057935bbf4a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd81f58436a2d4c918420ced482ad4cb0",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0ffcfc22adc1499d93c73184351effdc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd82f0b552b2745f08fb22ab7b0824145",name:"TPT - TH - AEM - TikTok - Test Drive ButtonClick - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a#button-dc80509001",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36716a2768714116ba30f632cf8ff46e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd84a847d9b444c23b8630c98dddbaba6",name:"EBR - CA - iFrame - AA - ACS Click Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),e())}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("acs_event_data").detail,a=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",r=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",l=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",f=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty",p=(s.component.length&&s.component[s.component.length-1].category.subCategory2,_satellite.getVar("productBuilder")),g=_satellite.getVar("productBuilder");if(s.custom&&s.custom.event&&s.custom.event.length&&null!=s.custom.event[s.custom.event.length-1].attributes&&null!=s.custom.event[s.custom.event.length-1].attributes.search){var v=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].label:"datalayer field empty",h=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].term:"datalayer field empty",P=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].state:"datalayer field empty",y=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].unit:"datalayer field empty";p.category="vehicle",p.id="datalayer field missing",p.merchEvars={eVar31:P,eVar30:y,eVar32:v,eVar33:h?h.toString():h}}if(s.custom&&s.custom.product&&s.custom.product.length)for(var j=0;j<s.custom.product.length;j++){if(s.custom.product[j].category&&"service"===s.custom.product[j].category.productType){var C=s.custom.product[j].category.productType||"datalayer field empty",w=(s.custom.product[j].category.primaryCategory,s.custom.product[j].category.subCategory1,s.custom.product[j].productInfo.productName,s.custom.product[j].productInfo.productID||"datalayer field empty"),R=s.custom.product[j].attributes.fin.downPayment||"datalayer field empty",x=s.custom.product[j].attributes.fin.monthlyPayment||"datalayer field empty",I=s.custom.product[j].attributes.fin.term||"datalayer field empty",E=s.custom.product[j].attributes.fin.annualMileage||"datalayer field empty";p.category=C,p.id=w,p.merchEvars={eVar84:R?R.toString():R,eVar85:E?E.toString():E,eVar86:x?x.toString():x,eVar87:I?I.toString():I}}if(s.custom.product[j].category&&"vehicle"===s.custom.product[j].category.productType){var T=s.custom.product[j].category.productType||"datalayer field empty",A=s.custom.product[j].category.primaryCategory||"datalayer field empty",L=s.custom.product[j].category.subCategory1||"datalayer field empty",k=s.custom.product[j].productInfo.productName||"datalayer field empty",_=s.custom.product[j].productInfo.productID||"datalayer field empty",O=s.custom.product[j].productInfo.manufacturer||"datalayer field empty",D=s.custom.product[j].attributes.modelCode||"datalayer field empty",S=s.custom.product[j].attributes.hybridVersion||"datalayer field empty",N=s.custom.product[j].attributes.series.replace(/,/g," ")||"datalayer field empty",V=s.custom.product[j].attributes.motorization||"datalayer field empty";if(V){var F=/[0-9]{3}[a-z]{1}/i,M=/xdrive[0-9]{2}[a-z]{1}/i,B=/sdrive[0-9]{2}[a-z]{1}/i,U=V.match(F)||V.match(M)||V.match(B);V.indexOf("i3 (120 ah)")>-1||V.indexOf("i3 (120ah)")>-1||V.indexOf("i3 120ah")>-1?V="i3 (120 ah)":V.indexOf("i3s (120 ah)")>-1||V.indexOf("i3s (120ah)")>-1||V.indexOf("i3s 120ah")>-1?V="i3s (120 ah)":U&&U.length&&(V=U[0].toUpperCase())}g.category=T,g.id=_,g.merchEvars={eVar10:"datalayer field missing",eVar53:A,eVar54:L,eVar52:k,eVar60:O,eVar48:D,eVar57:S,eVar50:N,eVar58:V}}}t.prop44=l,t.prop19=u,t.prop41=b,t.prop42=m,t.prop43=f,t.prop56=o,t.prop57=a,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=i,t.prop52=r,t.eVar34=c,p.append(g),t.products=p.toString(),t.linkTrackVars+="prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLd8a1f431d9c84f2c9e345c03054d0a4b",name:"TPT - IE - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC989f98efb1184a24ab41957f694e635e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8b414513102482b927d1e218b441005",name:"TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4f3279bcc83347e7981583d19dae35fa-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC48e1d320d3ba4217b3885dce406350e8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1ed7f68f3a564e6fa9cad7c8b0468074-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1cba1a8b7c65423c86f935fb03fe600e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd8d1aef21c294007bf58ade00f9882f2",name:"TP2  - ALL - AEM - RFO Local Form Start - p15r[c] - Bandaids",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"local > form started"==_satellite.getVar("getDL",e).get("eventInfo.effect")}},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0},{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_6097222",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf7a3f3f1c1ff48bc860daac10d2daf70-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_7209658",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC365142ab5a3e4f27a69299f2a3ea146d-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_5887265",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbeffc5d19e104c4f92b2119c464ca9d7-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2244593",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6403ad7c1a6c42c6b5f0d6aae4ac33be-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8144033",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC08c613a3b7f446a484f26742259f8293-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5563640",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC23d6f44f83c44c4590f774356828787d-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_1578103",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC11d1dbd17c4e405ab93edda048b2a5a2-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_9458908",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC043c74e6f5a947eaa22fc1674c615f5f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_4961126",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3e58dde412f14cf7b1f9e2a3f9997762-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLd8e9c96f56374296851df9fbf17edc49",name:"TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c9390cec18e44e38a8660fe1fdf75db-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8ed0a5f60f646aebbc9cad12a9ac9fc",name:"TPT - MX - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3b7d4d1ab894f21b2c5e9444680573e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8f46304175549ae930fe148e01bee5b",name:"TPT - GR - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC16a7258505344eaca2f5d838f946678b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd8fd05c4e7004f7c9cedb5f26f62ab5b",name:"TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC97e615067f09499992ccb6b15b200932-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd942ec763e1d4764b601115edbb1640d",name:"TPT - BE - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe4b19b2c19f748d2b514c89a024307ce-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd95b036d78294e9181e6a334342bf3a6",name:"PLR - ALL - NSC - AA - TRON generic event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    // Listener for TRON Custom Events\n    window.addEventListener('TRON: generic event listener', function(e) {\n        _satellite.logger.log(\"TRON PV listener\");\n        var _eventName = Array.isArray(e.detail.event) ? e.detail.event[0].eventInfo.eventName : e.detail.event.eventInfo.eventName\n        _satellite.logger.log(\"DEBUG:\",\"LISTENER:GENERIC\",\"eventName:\"+_eventName,\"eventEffect:\"+e.detail.event.eventInfo.effect,\"Type:\"+e.detail.type);\n        if (_eventName == 'page view') {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n           //  direct call set to trigger tron pageview rule\n            _satellite.track('tron_pageview', {\n                'webDL': dlParam\n            });\n        } else {\n            delete e.detail.custom; // to delete the custom object from object\n            var dlParam = e.detail;\n\n            // direct call set to trigger tron event rule\n            _satellite.track('tron_event', {\n                'webDL': dlParam\n            });\n\n        }\n    });\n\n\n    //Capture the events sent by iframe\n    window.addEventListener('message', function(e) {\n        //_satellite.logger.log(e, \"TRON POST MESSAGE LISTENER INTERCEPTED\");\n        if (e.data && typeof e.data == 'string' && e.data.indexOf('TRON:') > -1) {\n            if (e.origin.indexOf(window.location.host) < 0) {\n                //_satellite.logger.log(\"TRON POST MESSAGE LISTENER\");\n                //_satellite.logger.log('TRON POST MESSAGE', e.data.origin);\n                var eventCaptured = JSON.parse(e.data).detail;\n                var _eventName = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.eventName : eventCaptured.event.eventInfo.eventName;\n                var _eventEffect = (Array.isArray(eventCaptured.event)) ? eventCaptured.event[0].eventInfo.effect : eventCaptured.event.eventInfo.effect;\n                _satellite.logger.log(\"DEBUG:\",\"LISTENER:POSTMESSAGE\",\"eventName:\"+_eventName,\"eventEffect:\"+_eventEffect);\n                // Delete keys which are available in page datalayer\n                delete eventCaptured.custom;\n                delete eventCaptured.cart;\n                delete eventCaptured.transaction;\n                delete eventCaptured.dealer;\n                delete eventCaptured.user;\n                delete eventCaptured.page;\n                delete eventCaptured.product;\n\n                //Datalayer from parent page  \n                var oldDL = _satellite.getVar('webDL');\n\n                //Datalayer from tron which is in iframe\n                var newDL = eventCaptured;\n\n                var dlParam = Object.assign(oldDL, newDL);\n                if (_eventName != \"page view\") {\n                    // direct call set to trigger tron event rule\n                    _satellite.track('tron_event', {\n                        'webDL': dlParam\n                    });\n                } else if (_eventName == 'page view') {\n                    // direct call set to trigger tron pageview rule\n                    _satellite.track('tron_pageview', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n\n        }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"TRON: Event listener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLd95eba9caf1f420f873a018d5f55e435",name:"TPT - HU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC428aabb479a6422681701adaaa49e77a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd9756aa868d3400d878912b23223e47d",name:"TPT - CA - AEM - Facebook - Multiple Tagging points/pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC45e7e2dfccb2474cbadce4274a7c4497-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd986e3f1b4344781bb09a15037d13738",name:"TPT - RO - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC07ac44fe44444a008faeb8838716421d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd9f1194b9ca94feca7c81db9a57f5036",name:"TPT - NZ - AEM - Floodlight - TDA Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32a22d500e1144a9881d67033c8dc32e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd9f3dd153b60488fb01caf4310f389c8",name:"ACDL GROUP - GR - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5a2ba83e3c6142b19c202fc3596a88cc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLd9f5d5306fb1479cb7642193343a8c2c",name:"ACDL GROUP - ALL - ANY - DLP - 0020 - prefixing",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:20}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9018129",code:'const prefixList = ["con > ","stock > ","sales > ","fin > ","rent > ","nsc > ","special > ","local > "]\n\nlet pageName = dl.get(\'page.pageInfo.pageName\')\nlet eventEffect = dl.get(\'eventInfo.effect\')\nlet env = dl.get("page.pageInfo.websiteEnv")\n\nconst isEventFromTron = dl.get(\'eventInfo.origin.isFromTron\') || false // if coming from tron or not\nconst isPageFromTron = dl.get(\'page.origin.isFromTron\') || false // or false depending upon who creates the page launch or tron\n\nconst prefixIfNotExists = (str, env) => (str?.includes(env + " > ") ? str : `${env} > ${str}`);\nconst prefixIfNeeded = (str, env) => prefixList.some(k => str?.includes(k)) ? str : prefixIfNotExists(str, env);\n\nif(dl.get(\'page.category.pageType\') != \'errorPage\'){\n  const pageNameFinal = isEventFromTron ? (isPageFromTron ? pageName : prefixIfNeeded(pageName, env)) : prefixIfNeeded(pageName, env);\n  dl.assign("page.pageInfo.pageName", pageNameFinal)\n}\n\nconst eventEffectFinal = isEventFromTron ? eventEffect : prefixIfNeeded(eventEffect, env);\ndl.assign("eventInfo.effect", eventEffectFinal)\n',path:"",type:"DLP"},timeout:8e3,delayNext:!0}]},{id:"RLda14f9562b9c493693cdfee5c3eae13d",name:"TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe7b74b0fdeda4b0aa5d61b89814047b9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe20d0a57ab0f47bdaba4698dc5f25f61-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda26461afa094bf787b11ae748db4403",name:"TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCed8718c3f34c4d42bc6d308a982886a7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda2d9fe2f5d24647ab3fd2cfb833fb2e",name:"EBR - IT - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5d904f6e3e0c4e4ea577336ffa32edb1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda2de7fcdfdb49cb8c07943afa910913",name:"TPT - PT - AEM - Floodlight - IOS Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Descarregue a app My BMW - IOS"==$(this).taxt()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1cdcd8f654504618b093662866e0813b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLda804e71e8eb4a3fb4deaa619844c9b1",name:"TPT - DE - AEM - Facebook - Reserve Vehicle - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc5474d8884d041baaabd8ba46d89fc4b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLda8c334696b743e68db3ab48c7f7af43",name:"TPT - JP - AEM - Line - TestDrive Campaign Page - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1e89af0b1cdf43b596127b8357a3440c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdadd04905b1546faadcf909528b747cc",name:"DCR - All - AEM - AA - Tech Hub",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_filter"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_series_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_body_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_load_more"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_open"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_close"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_link"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),o=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var i=_satellite.getVar("setDefaultProductVariables");i.category="new vehicle",i.merchEvars.eVar53="new car",
i.merchEvars.eVar54="build to order",s.products=i.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.update("pageName",s.prop1);var r=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42=r.primaryCat||"datalayer field empty",s.prop43=r.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.eventAction"),u=a.get("event.eventInfo.cause");switch(s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop52="default",s.prop53="ux",s.prop54=a.get("event.-1.category.primaryCategory"),s.prop55=c,s.prop56="interaction",s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar34="nsc > "+d,s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 tech_hub",l){case"tech hub filter":default:s.prop51=l,s.prop57="internal click";break;case"tech hub series selection":s.prop51=l,s.prop57="drop-down menu";break;case"tech hub layer open":s.prop51=l,s.prop57="open content";break;case"tech hub series selection":s.prop51=l,s.prop57="close content";break;case"tech hub link":s.prop51=u,s.prop57="internal click"}s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(a){_satellite.getVar("catchblock",t)(s,e)}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Tech Hub",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RLdb0b147dad0f46769089ac277a8fa919",name:"TPT - SG - AEM - Adform - Contact email - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC35daf34b9978483d84ace4ecf4c28387-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdb20f7d5654c435a891cdad4c40cec2a",name:"TPT - BG - FORMS - DoubleClick - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5498bdd5a821432693d53fb87dd7c1a5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdb6da914cc294415ad687c550dfa4b3f",name:"TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC941fd4072cd8413e84f7ae953f0757b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c86c9f8147e4ff1aa8aca64dd203a47-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0fedf413422f4de4931816d3157b63d6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdb946594ef9a41dababd5e039901fd59",name:"TPT - CH - AEM - Floodlight - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Jetzt online reservieren"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC085ac44ccaff40b3b5f151735dbb6e4b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdbaf1502cdab45ddaad208cc9e8cd81d",name:"EBR - DE - All Pages - Custom Script - New Visitor Reco Script",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"},timeout:5e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2048d91ad3104e5989d1e79e421e9b2e-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLdbaf2b26cc324c15a5e891e1db41e407",name:"TPT - BE - FORMS - DoubleClick - Adobe Forms - ACDL- p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdc52de2e95c64160b73465b294af29bc-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLdbb762533ea84802b095fabc2e7f530d",name:"TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n",e)}}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4a46fc3db76348429867a49a447b6e0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdbbf4bc2a8ac4bcea61a233743bdfea7",name:"TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC49328802d2af47b0bc38ad68b29b727b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdc612344a5824ed98b2f6f9001dc4551",name:"TPT - PT - AEM - Facebook - Reserve Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".webcom-cta-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Reservar"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce9b8f01ccbe4df19d889769ae244f43-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdc638276abb94ec583f684065807343f",name:"TPT - HU - AEM - Facebook - Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf0272126155a496e9aecf273d902f3de-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdc68b1cbbee946ff9f80560879d8f6d3",name:"TPT - BG - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC742b4e552fd9474199cd4af80ee1d6d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcbd40eb63c246eba84b94de920bb140",name:"TPT - SI - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC04c0defae3c14600968497dbff61f1c0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcd487bd6a0c406a9064e4772a304bfb",name:"TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC659d624087d44ba097b6b2bc3ab1a302-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdcdf99160a4c4a1183e579e8f0d828ac",name:"TPT - BE - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC610b476a008846c2a0c5b82538f26398-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdd200896479945fc94eed5264f576d5c",name:"TPT - GR - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7d08e2c911c042a6968f5cacb4cc477f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdd4c8f2d23f04db68c9d337594ecefb2",name:"HT - All - NSC - Multiple - Fire Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return Boolean(_satellite.getVar("AT-property"))||new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname)}catch(a){var s={from:"Condition",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,s)}}},timeout:8e3},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.navigator.userAgent",value:"Googlebot",valueIsRegex:!0},negate:!0,timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'var PII_keywords = ["firstname=", "lastname=", "vin=", "name=", "loginid=", "password=", "registrationpassword=", "confirmationpassword=", "confirmregistrationpassword=", "registrationid=", "passwordconfirmation=", "username=", "enname=", "token=", "telephone=", "email="];\nvar enableAT = true;\nconst URLparams = new URLSearchParams(window.location.search);\n\nPII_keywords.forEach(function(keyword){\n    if(URLparams.has(keyword)){\n      enableAT = false;\n    }\n});\n\nwindow.targetGlobalSettings = { \n    telemetryEnabled: false,\n    enabled: enableAT,\n};',language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}",language:"javascript"},timeout:8e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body{opacity:0px}",bodyHidingEnabled:!1},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLdd6c18000eba43d7be84cb404d91a89a",name:"TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC563cb69dd0fc4ff5a27bbd3c553dbcb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLddb188b789b4459eaaf8a01540380124",name:"TPT - RO - AEM - Adwords - Localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC68cc4f8f78334c39ac3f8acaa67aa981-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLddb303bb006e4718bc4df73862b4bde9",name:"TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeaf0433db4af4a309ba0976df3ebc5d4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLddcc74ce442344ffa94ca500bfb75398",name:"TPT - SI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf88fb74b9f924df8885d2bd9857af163-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLddea7dcdbe6847c08530f4b9a92f9ff8",name:"TPT - FR - AEM - Facebook - Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd32bee69d04a4ba5aada5b91880994dd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLde11754631c649c290ed241515c812c3",name:"TP2  - ALL - AEM - Add To Wishlist - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"stock > user clicked on wishlist heart add",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_7107821",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC13260b23a1e443ca91bf1feed431c117-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLde13885bec044a01b8c958bdb5b7bd34",name:"ACDL GROUP - ALL - CAR STOCK LOCATOR - DLP - 0050 - general",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:100}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,market:!1,component:!0}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_1922497",code:'    const effect = dl.get(\'eventInfo.effect\')\n    let userClickedPattern = /^stock > user clicked on (.*)/ // pattern to match those effect which have finish type//\n    let userFinishedPattern = /^stock > user finished the stock locator with cta (.*)/ // pattern to set finish type captured from previous event//\n\n    if (effect.match(userClickedPattern)) {\n        adobeDataLayer.extEvntData.cache.assign("eventInfo.extra.stocklocator.stockFinishType", effect.match(userClickedPattern)[1]) // setting it in cache\n    }\n\n    if (effect.match(userFinishedPattern)) {\n        let stockFinishType = adobeDataLayer.extEvntData.cache.get("eventInfo.extra.stocklocator.stockFinishType") // fetching from cache\n        if (stockFinishType) {\n            dl.assign(\'eventInfo.stocklocator.effect.stock_locator_finish.stockFinishType\', stockFinishType)\n            adobeDataLayer.extEvntData.cache.remove("eventInfo.extra.stocklocator.stockFinishType") // removing the field from cache\n        }\n    }\n\n',path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RLde64e2be51794d84991a7977254c479b",name:"TPT - FI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC613fa1f12ef349d4a00481c2669389c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLde9fd2cb27ff412fb22a58cc411e0c4b",name:"TPT - UK - AEM - Floodlight - Sign Up Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Sign up now"==$(this).text()}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe34c975eeaa546e89ca8bd6d39e96416-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdea13a5862314663ad775ea130238545",name:"PLR - AT - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb043db41a13e4ca48b497c3ab9a21e18-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdeb6459a3c7e49b48aa9d9366e739b03",name:"TPT - ZA - AEM - Adform - All Models TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.secondary.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6a8b9126c85e48c89d02cd31529a32df-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdefe411c9da3489a9a9b2a2332560b3a",name:"TPT - CZ - AEM - Zeta/IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC713bd4af77e14622a36558ed18cd1ea1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLdf012a295df94ba3a1121a48757fd9d5",name:"TPT - MY- AEM - Affle - RFI Forms Submit - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/keep-me-informed-confirmation.html"},{value:"/en/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0c2ae4b212a347cf806c7427c5888744-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe07ae1632b8848a99a76187527c1a801",name:"TPT - NL - AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd8636a3c22064d798a491149f6ed23ac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe07b7d85532d4bb6ab61c184692bed1d",name:"TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb6e84cc567d848da88a3bd16a2c7e092-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe087115079624db58b2bd69ae431ea11",name:"TPT - NL - AEM - Adwords - Form Navigation Submit Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){console.log("Reading Message - Executed");var s=JSON.parse(t.data),a=s.args[1];console.log("Reading Message - DataArg"+s),console.log("Reading Message - DataArg"+a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},
timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5d5878b3a05d4f1db5ddd1ed4d80e006-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe0a852ca0d51432d8e85bf0a4fa9c2d9",name:"TPT - TH - AEM - TikTok - Test Drive Form Interaction - event-cleansed - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_2183254",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4ee1b03be3b740ad80c0517f48e23e18-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TikTokPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLe0bf91c1c3154ffcbb48705e8abd0eb9",name:"TPT - UK - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC11650e985f5942e384e558b7a1a9769d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe11d516a298d4e64a59cd64a43d7d58b",name:"TPT - LU - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC752c03f20cd2453fbe5d37f4cdbd8b30-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe14dd81e3b9c42598b8a24857ab59f79",name:"TPT - FI - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb5d251a1affc42dab28f4560a928e47b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe15001dec4ca4e24a8bfaf59445c6c8d",name:"TPT - NZ - AEM - Adform - eBroch Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8d2813460154d2b9fd2c1a71885baaa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe26553785dc140d4b43a1def39323b38",name:"TPT - SE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4192be734fdf4bbea7ce70acb52f5041-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe288a13e7e5346fcab635b7c66be0b06",name:"ACDL GROUP - NZ - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8d58e5c9e30645c38f23c26bb26ea095-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe2b5e30c45dc42b88dde1149c0f5b874",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_finance_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbea1080f03a04291b486693fd213c0a3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe2c709d92c8b4616afe738eea48b951a",name:"TPT - SK - FORMS - Facebook - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa7d7e5b78b2241c796be346b0f4fde3d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe2e8f41d3b2140669bffe0390ccb4755",name:"TPT - NO - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC51838d0163114396bed6c40805f5b024-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe308f2052814432bac1fe8a88becef2c",name:"TPT - AU - AEM - MathTag - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1d6ff701660545419f769d04ab1706ee-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe318ab0fa5134d5aa3840890d1fd1be1",name:"TPT - NL - AEM - Facebook - Sign In/Register - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCec3aeddd67bd436a9f1c8e5e5fc14769-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe31ac1c23bfd4ef4a3ab47e1e845603b",name:"TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5f23b62a746e40719822521a9ab5227f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe361b59efd714950b434e07bb8df3a8f",name:"TPT - BE - AEM - Adform - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb6aed7feea28409993792a1689c36f1c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3654f5a4c2546af908a2bae57874c16",name:"TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb2ed46cef8ee4d55a93f7f2e2b44b879-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3768e0d2a034cd2949195dad2704952",name:"TPT - FI - AEM - Adform - Make Appointment - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/fi/aiheet/j\xe4lleenmyyj\xe4t-locator.html|/fi/aiheet/j%C3%A4lleenmyyj%C3%A4t-locator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa3c1b395697a4e3da658e8021cd0b057-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe38fbbe920e147aa8bd5cbd008effed2",name:"TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8603307aabc24059a59e778374a3ccf2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe3bed053889c4a92aa2a9d82d844e132",name:"TPT - BE - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4d6ec2f49c4e49f3a5106dedec8a00d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3c376f38a994008ba08fbd47585a1db",name:"TPT - RU - AEM - DoubleClick - Started TDA - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7103544f108d45178781639a2193af32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe3fc9641c8b44120b03263374298a472",name:"TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("bmw.it")>=0)return!0}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC72c3927a7b1c41c5be19bf8fe3782e04-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe40068b4b40249dca4984b25587cdce9",name:"TPT - UK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf5ec9ae386414dcba86ca60b31f22531-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe4015253bed441cfacbf977826d16e85",name:"TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC65e55ea591354f07bef90f976ef66841-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe426ad81338f480c83674529f3380855",name:"TPT - AT - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC91a6c3f405e5439cbe500812f6a80f3f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe42d74cdf0bc4086b6e7f0dc63e736b2",name:"TPT - BG - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeef444ce73cb464d81b4c05e61a64024-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe45985d105614fc48cedd22cf994725c",name:"TPT - DE - AEM - Criteo - Reserve Vehicle - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#hCaptchaInvBtn",elementProperties:[{name:"data-callback",value:"onHCaptchaCallback"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["bmw.de"]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9445a28e99c24007ae88b1a8d807a4f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe4bf36c256424aab9e0eaccf8a5657c2",name:"TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/topics/details/bmw-ukl.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC062543fe09b84a4b9c51695477c5332d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe4dcec26f59549f685979ae5d65cf0e5",name:"TPT - IE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd46a58fea619405dbc5a03564673ec63-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe507ff3ac85448a1a125bbc3d07649f6",name:"TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33e34905d5b5406fb67f5d0848c31369-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe51308f7cb5f4481b09084c4a95662ac",name:"TPT - PL - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pl/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b9e0c62498c49e6b3a073aa0b77505e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe52b786f5e5145ee96477e5b89cf7b53",name:"PLR - All - AEM - Custom Code - Performance timing",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){try{if("hidden"!=document.visibilityState){window.perfTime=window.perfTime||[];var e=a();if("ok"==e||"unavailable"==e)o();else var t=0,s=setInterval((function(){t++,"ok"==(e=a())||"unavailable"==e?(clearInterval(s),o()):t>100&&clearInterval(s)}),50);function a(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return"unavailable"!=(e||"unavailable")?e.getEntriesByType("navigation")[0].duration>0?"ok":"wait":"unavailable"}catch(e){var t={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,t)}}function o(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;_satellite.logger.info(e);var t,s,a,o,n,i,r,c,d,l={};"unavailable"!=(e||"unavailable")&&(t="ok",_satellite.logger.info("SATELLITE : performance tracking : "+t),s=document.location.protocol+"//"+document.location.hostname+document.location.pathname,a=document.location.search,o=document.location.hash,n=e.getEntriesByType("navigation")[0].requestStart,i=e.getEntriesByType("navigation")[0].responseStart,r=e.getEntriesByType("navigation")[0].domInteractive,c=e.getEntriesByName("first-contentful-paint")[0].startTime,(d=e.getEntriesByType("navigation")[0].duration)<0&&(d=0),l={status:t,path:s,query:a,hash:o,timeServer:n,timeServerReact:i,timeDOM:r,timeContent:c,timePageReady:d},(n<0||n>6e4||i<0||i>6e4||r<1||d<0||c<0||r>1e5||c>1e5||d>2e5)&&(l.status="error"),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&window.epaas.api.setPersistence("bmwdtm_hq_perf",JSON.stringify(l)))}catch(e){var u={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,u)}}}else"hidden"==document.visibilityState&&_satellite.logger.log("khubruy performance timing hidden!!")}catch(i){var n={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(i,n)}}},trackerProperties:{}},timeout:8e3,delayNext:!0}]},{id:"RLe547d856c9e64cca98dfe0b24740230b",name:"TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCae5636a60fac41b29534067408409b47-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb8b3310521394073bc20da9db84effcd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe54915b32fe94fa1889c713d7588f7ff",name:"TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbe743a049c3241bdbcecb4edf30aad84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe54f8764d3ea407da1efbec54e94d692",name:"TPT - IT - AEM - Adwords - Form Submit - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/success-page",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC32cd6d25f6fa4b2ca4b65cd3691da42e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5644fac23664037968fdc8e1035fb88",name:" TPT - IE - AEM - Gtag_DC - iX3 Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.buttonLarge.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/bmw-ix3-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC69d2f297f95f4b25bf8665ebc0009918-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5881c62a512427fbbc7f0efad609cfa",name:"ACDL GROUP - LU - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC381f2afa69f1441aa377181000088000-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe59a3335f6b0472591ab22bb9ec37f0f",name:"TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCea4ee941fe134e20b5792b8993fe32bb-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLe59cdb5e993b484c960e67213d1f018a",name:"TPT - RO - AEM - DoubleClick - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3035022518e44270866338576aebbdac-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5d725d804fa441ea03bf878f90a81af",name:"TPT - RO - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC926faac70aed44dbb4eac5dc48f6deff-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe5db9cd4d09745799471fc9ac32b2746",name:"TPT - CZ - AEM - Webchat Initiate - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6353a54689194e04b7eabc46dd974973-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe5f8ac772ee84c6f83956853081a2097",name:"TPT - CH - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1cb5f2961a484ea490f42231e968a0fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe63763d916ce40acaca868226cba4604",name:"TPT - UK - AEM - GTagDC - RFI Form View - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC836e811ee97e46ad94e6adfa34783ef2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe681a9cac19145df90d42345deca1b3f",name:"ACDL GROUP - ALL - ANY - DLP - 0080 - Event - Set Fix Values For Pageview event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:80}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"pageview",operator:"equals"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_9171073",code:"const compKey = dl.get('eventInfo.reference.linkedComponent')\n\ndl.assign('eventInfo.category.primaryCategory',dl.get(`component.${compKey}.componentInfo.componentName`)) //for prop54\ndl.assign('eventInfo.category.subCategory1',dl.get('page.category.subCategory1')) // for prop55\ndl.assign('eventInfo.category.subCategory2',dl.get('page.category.subCategory2')) // for prop51\n"},timeout:8e3,delayNext:!0}]},{id:"RLe690454277e742fa9bc8e441c06dc54d",name:"ACDL BMW - DE,GB,ES,FR,IT,BE,LU,IT,NL,SE,BE,LU,AT,PT - ANY - DLP - 0100 - Page - visitor score and vibe segment cluster",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7dcb442b5f734a53afea3aa3ff2196d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe6970bbdbef1487faa8e3cd8051ad3f0",name:"TPT - NL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5dcbde2837d04ebaa562e6d9ffa4ae88-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe6bd6ee59dc94b058c5b19cccd8741b5",name:"TPT - HU - AEM - Facebook - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/hu/konfigurator.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5a13ef26adf645d991d2a9803f55876b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe70959c3b0f04c45b85912c3f4fcdc03",name:"TPT - MX - AEM - Adwords - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC89ab4d91c7cb4b9fadc7c76667d4e161-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc150f6cc216c45fdb563a152943f0f48-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLe7162389c90f4fc085e8219228a35343",name:"TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".phone>.tw-font-bmw-light.tw-text-grey-900",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/neuwagensuche.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC33f539d8d5874ddb8e78be8d1a629228-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe76e8c507e754124bc1cef14e2e026a8",name:"TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f902bb63b3444d1a8433c8212f34f06-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1eaa0bd427bd4605a7827b6d9e33fad7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe7973ec5d26f4f9da725ea5186e46a55",name:"TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:5e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6dfbad172e9343c09a1557b777f5e984-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1510d1da9d134cb09ed31cf2357b0650-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC758e03e6b9614c6facf67a27062e1115-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCf6216b364a7d4d68b3abf856457dc15c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe7fa6ae6972f46eb96ced5bdde99c924",name:"TPT - IE - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCccd0b3c46ab04f549c61f3c38a53fcbd-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe8074d7dee644c2cacd800ae2b8b5ee9",name:"TPT - PT - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5ae75eb31d6744308f37ea133068a052-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe821eafe652f4541bca3ac487c91ef85",name:"TPT - NL - AEM - Adform - Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc6ec308f61304aea98f435d3442db9d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe8494789563245fa8795733a3f7f4470",name:"TPT - ZA - All Pages - Set Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc0fb4523375c449c9ddb60b940f93124-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe86bccdf39124c31997ba55c9571bf1f",name:"TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[bm-safe-click="downloadPDFPrint($event)"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd482d518846d44f49a145f11d8803ee0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe8884256cd524164a6c57c1ea98d8695",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_general"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return 1==_satellite.getVar("isregulation")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdb13a80de44b48c08d09e72fd0f3f670-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe89921c8943e488ba922cf6b2a733475",name:"TPT - TH - AEM - Facebook - RFO Form Thank you page - EN - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCedc4df99277142e0a3bf2aafcf6f1343-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe911f4c8cc6c4402a1e8e87f32a2d01d",name:"TPT - RO - AEM - Facebook - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC49133f265efb475ea4ef998f92adcc96-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLe91eacf7c66c4fa6b3ba0006b755f80b",name:"TPT - NL - AEM - Adwords - Service Inclusive Form Start - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC302dc9dd2c1e4439b51e6c87bc52aef1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe967cf8d703a4e739d6618e0119a532b",name:"TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1f5784a2c7b046f2bd485c8fc7931ba5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe98de135faac437dabcacc1f9f32af6a",name:"TPT - TH - AEM - TikTok - RFO Form Thank you page - EN - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcbc136ca14d840d4926b1c44184fa427-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe990e969e5fd405da3cbc224deb3d81a",name:"TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f01ec2a82fc4f67984de48d46311163-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe996de6cf41e4d689f780898f75a0a45",name:"TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb8b5a0d087ad4f85bf461ffdf11df808-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9abfc2e1ca44f0c9b84b5caa5bb5248",name:"TPT - RO - AEM - Adwords - Site search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ro/search-results.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC78043388d4a041f198670f964e43c3a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC612deff4fb8745e6a1160f545fb72bd2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9b48f9f5d5e4026be42fe212d9955cd",name:"TPT - RO - AEM - DoubleClick - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbdeda987823f44d58d514cdcb01b385e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9f82a34007e493bb8a85179a4a07917",name:"TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8725d9a783304424824db4700b830e09-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe9fffd61088445ce8102cb436ad86113",name:"TPT - ES - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7bfdce53f4574f3e93b58b287282fa2b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLea49f4f97647419881b5c530e614cb8e",name:"TPT - TH - AEM - Line - Test Drive Form Submit Button - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC63a15abc706a426d98cacb750e1f5b38-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeacd431e0c9041959dc80b7ad01e5e49",name:"TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC12db73d83a3a4024aecd5ce110be9f6f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeaf7d3e1111343ecac8d91d3f4c25199",name:"ACDL GROUP - ALL - ANY - DLP - 0010 - Page - geoRegion and language",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:10}],conditions:[],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4743658",code:'    const regionMap = {\n        \'COM\': \'global\',\n        \'UK\': \'GB\',\n        \'BMWWELT\': \'DE\',\n        "WL": "DE",\n        "MS": "DE",\n        "CLOUD": a12r.util.getMarket.bind(a12r.util)\n    }\n\n    const regionMapPerBrand = {\n        "MINI": {\n            \'MS\': \'MS\'\n        }\n    }\n\n    const workaround = ["NORDICS", "LATAM", "ASIA", "CSREG"] //BMWWEB-70112\n\n    let geoRegion = dl.get(\'page.pageInfo.geoRegion\');\n    let brand = dl.get(\'page.attributes.brand\', \'\');\n    if (!geoRegion) {\n        geoRegion = document.location.hostname.split(\'.\').pop().toUpperCase();\n    }\n\n    if (regionMapPerBrand[brand] && regionMapPerBrand[brand][geoRegion]) {\n        geoRegion = regionMapPerBrand[brand][geoRegion]\n    } else if (regionMap[geoRegion]) {\n        if (typeof regionMap[geoRegion] === \'function\') {\n          geoRegion = regionMap[geoRegion]()\n        } else {\n          geoRegion = regionMap[geoRegion]\n        }\n    } else {\n        if (geoRegion.length > 2) {\n            if (workaround.indexOf(geoRegion) > -1) {\n                geoRegion = document.location.hostname.split(\'.\').pop().toUpperCase();\n            } else {\n                geoRegion = \'global\';\n            }\n\n        }\n    }\n    dl.assign("page.pageInfo.geoRegion", geoRegion);\n\n    let language = dl.get("page.pageInfo.language")\n    let lang = document.querySelector("html").lang\n    const langWorkaround = [\'ms\', \'MS\']\n\n    if (!language) {\n        language = lang ? lang.substring(0, 2) : "en"\n    }\n\n    if (langWorkaround.indexOf(language) > -1) {\n        language = lang\n    }\n    dl.assign("page.pageInfo.language", language)\n\n    /* to remove "-" from language */\n    if (dl.get("page.pageInfo.language", "").indexOf(\'-\') > -1) {\n        let lang = dl.get("page.pageInfo.language").split(\'-\')[0];\n        dl.assign("page.pageInfo.language", lang)\n    }\n',path:"base/regionAndLang",type:"DLP"},timeout:5e3,delayNext:!0}]},{id:"RLeaf8bffe70374613919fea4598d9d768",name:"TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2587642a9c1745b5876df23c96bfec69-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb0a608013f049ffbbdc3ef2e0be60e5",name:"TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe39080fcfe1549328d303070f3af9ea4-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb20ef0b98584b5182804b6275aba5e9",name:"TPT - NL - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa5814c3ca97c422a86f704387c9854e3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb278e19cadc457a9964b8aa0693af79",name:"TPT - PT - AEM - GTagDC - Stock Locator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ede41b2bc3d4a0fa39d8de4ba1e2621-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb3b339d25f046ef991fc2a60ea0a17e",name:"TPT - TH - AEM - TikTok - Test Drive Form Submit Button - event-cleansed - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa052dd6f76da4643b7db7ecac118d0ea-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeb45d68fe73b4c9682bdc30214262d2b",name:"TPT - GR - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2ab9afd1db2c4d7aa767a4c200dfb8d9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb5e6bfd26e847c89f37196b54c5e45f",name:"TPT - CZ - AEM - GtagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb77c81e34a7e444d8996f6e7e06e34e9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeb93ca48d25f4d5aaec260e7d696c86b",name:"TPT - CH - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc5d6742d82934aad97ccf1b9872e5eef-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebaf9725c3d348589a5b10d85d9cab4e",name:"TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCce2733d46edb44ba974e45a267e7e847-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebb6c8433f8b41e9876e129bd22b159d",name:"TPT - PT - AEM - Adform - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC149a6cb94e494c8ca6bfc4a86f1f6a1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebca38e98fad42969f42be9834e407ec",name:"TPT - LU - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC43a2dee53fdc48e9ae520eafa087856e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebe05bc1bf2b47e8b2354366fe6e885c",name:"PLR - All - AEM - AA - DCS Event Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"},timeout:5e3,delayNext:!0}]},{id:"RLebec648e2acb4dfe9a6a645cbebc13f1",name:"TPT - GR - AEM - Adwords - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8bd9a2f3f879431aa36d6438933cc574-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLebed7b0186d840438466eabd93e6d1e8",name:"TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8989ba41d0f6414ab8373dd62af1405a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec302447cf6847518915d3261dbbb33b",name:"TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC0336bece8bf0440f9a7c73c97088b089-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLec40579f295a4ff2bdcd28365ffe5e75",name:"TPT - PT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6b36266f4a8448d9b2b4f4065c133782-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLecbab5e63575428aa6907aa4fa366a94",name:"ACDL BMW - ALL - ANY - Qualtrics Survey View and Submit - ACDL Push",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"div.QSIPopOverShadowBox"},ruleOrder:50},{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:"div.QSIWebResponsiveShadowBox"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{
comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%qualtrics_randomizer%",rightOperand:"Adhoc"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa615d96189104824a0dfe09d4431f858-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9856849f6a4242fa96ee6fe9eab83ef5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLecbc80b9c2fa40c4b7097850c78f8e4e",name:"TPT - SK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc4cc759586444c54a3102a2d3c7bd552-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLece4928afdb9498893f71ed7a3718268",name:"TPT - UK - AEM - GTagDC - iframe_forms_auc - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_auc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd550dddfcbb4b908640b5249cf9cc9c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLecf5e4de970d4525ba4f2c4d9cbd63aa",name:"TPT - BE - AEM - Facebook - RFI - Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c317bf9dfa7449ba7c4fa62dba28770-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed11f6f04c8a4ceb891feb7a96832858",name:"TPT - DK - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc789d62a51bf4c69a1d59f8da1d46e6d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed2bbd52c2094e59b9016979eb57eac9",name:"TPT - IT - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.col-sm-3 a.car-version,div.col-sm-3 a.car-version span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/test-drive-now/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCeb09b5dd2e30420b9b3a4c305134dda1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed2e393a2f2644d29920adaf3283f3ed",name:"TPT - RU - AEM - DoubleClick - Started DLO - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC956289fa7b0b494d943e2466e1510424-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLed8840c3af5e417f8398fff9f794dac8",name:"TPT - AR - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/solicitud-de-contacto.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb236c806ea6f42d7ad07e77314aa0004-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLedbce9c672f64d31bef0af2b8a754269",name:"TPT - AU - AEM - Adform - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1c9d6d6f15d844b5ace0fcb48426bcee-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLedd0ede718bd4c0fb7fe8d646b2fdd9b",name:"TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC86bb297d5f2848038de49e8034e0a46d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeded7038f60d4b32b21da731623254a9",name:"TPT - GR - AEM - Facebook - Make Appointment - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbcdc4c67dd5846e9973eaf2406beda1b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee06c3ca74d5432c85c3d5d276765519",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC140d17078c7848999399400cb56468e0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee3cf6c5540f468780325875ee816e4f",name:"TPT - BG - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbdc67cefe5094133ae57399b62b6b9d0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLee8a665e92d1437e96ab2dacc1fe66a4",name:"DCR - All - AEM - AA - LCI",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"new_pre_configuration"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_image"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),i=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"))),r=+new Date,c=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");if("small_teaser"!=n&&"multicontent"!=n&&"new_pre_configuration"!=n&&"offers"!=n&&"line_component"!=n&&"new_gallery"!=n&&"highlight"!=n&&"uxs-highlight"!=n&&"micro_story"!=n)return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t),"Close image"==o||"Open layer"==o||"Open navigation"==o||"Open showroom"==o||"Internal click"==o||"Open image"==o||"Open content"==o||"Outbound click"==o||"Download"==o?(t.events=t.apl(t.events,""),t.linkTrackEvents=t.apl(t.linkTrackEvents,"")):"Download"==o?(t.events=t.apl(t.events,"event903"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903")):"Contact Form"==a?(t.events=t.apl(t.events,"event1,event2"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event1,event2")):"Call Center"==a?(t.events=t.apl(t.events,"event913"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event913")):"Start video"==o&&(t.events=t.apl(t.events,"event351"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event351")),t.prop19="virtual page"===c?"new car stock locator":s.get("component.-1.componentInfo.componentName"),t.prop56="interaction",t.prop53="ux",t.eVar34="nsc > "+a+" clicked",t.prop52="default",t.prop1=t.pageName=-1==i.indexOf("nsc >")?"nsc > "+i:i,t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28="virtual"==s.get("page.category.pageType")?"virtual page":"",t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp",r),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop50=s.get("event.-1.eventInfo.element"),t.prop54=s.get("event.-1.category.primaryCategory"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop55=s.get("component.-1.category.subCategory01"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID",s.get("component.-1.componentInfo.componentID")),"multicontent"==t.prop19?t.eVar136="2020 - 06- 15 multi_content":"new_pre_configuration"==t.prop19?t.eVar136="2020 - 06- 15 new_pre_configuration":"offers"==t.prop19?t.eVar136="2020 - 06- 15 showroom":"line_component"==t.prop19?t.eVar136="2020 - 06- 15 line_component":"highlight"==t.prop19||"uxs-highlight"==t.prop19?t.eVar136="2020 - 06- 15 uxs-highlight":"new_gallery"==t.prop19&&(t.eVar136="2020 - 06- 15 new_gallery");var d=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("event.-1.category.mmdr"))),l=_satellite.getVar("setDefaultProductVariables");l.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("product.-1.productInfo.productID"))),l.category="new vehicle",l.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName",s.get("product.-1.productInfo.productName"))),l.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),l.merchEvars.eVar10=d,l.merchEvars.eVar53="new car",t.prop51=s.get("event.-1.eventInfo.eventPoints"),t.products=l.toString(),t.prop74="bmw .next - nsc|dcr - all - aem - aa - lci","download"==e.identifier&&(t.events=t.apl(t.events,"event903"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903")),t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LCI",linkType:"o"},timeout:5e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:5e3,delayNext:!0}]},{id:"RLee9b951378924e36bb5b84cfb0c3c191",name:"TP2  - ALL - AEM - Adobe Form Start - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.effect",value:"nsc > form started",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_91461",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC10b74819f1a94c20bc6f4a0df7a4d8c5-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!0,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5508319",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC20275f78e9a94d3bb8ea067ad17df272-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_3696166",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc4be25612edc444aa011a276815d0f05-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7686182",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC20563fce05944c8f84e2856670faa3a3-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_297951",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC072cb1d2b2064df2ba36bfdd79517a48-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_5480290",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50b521e934434d449867628eb0d218ed-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_1550144",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8ad51e92b9a44d9284d45a449a07db26-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_6111140",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9db97f6b78f94be4b1a6d8599bc52a36-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_486997",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7e46497428d242118407204cfd782b78-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLeea37d3b04154cbf87feee68ab3f8617",name:"TPT - NZ - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC91de2db810e94d409f56d91ec19e0fb0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeea7eead22364f97b6cde5ce6bc54d03",name:"TPT - UK - AEM - GTagDC - Download App Button Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//b.mw/mybmwapp",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/bmw-apps/my-bmw-app-overview.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCebe0ff0b4fbd4c67935b627e0f4d982b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeeaf09ac35bd458d9f5619c00d36d47a",name:"TPT - TH - AEM - Floodlight - RFO Form Submit Button - EN - event-cleansed - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#guideContainer-rootPanel-toolbar-submit___widget",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC802d6a887f044555a661ae18d6da7d58-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLeee6a2f1c30840cfb220c2f4375b88af",name:"TPT - AT - AEM - AdWords - Multiple - PLR",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc27fe7419c96413b8d2c179cd81b7cb8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeeefeb9d83564fefaff0c9034b8698fa",name:"TPT - IN - AEM - Facebook - Form_Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC26161aaea46e44ba9158c4f651733b5f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLeef9428158a84ce883ae6a973db581ec",name:"TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Usabilla_vs_IgnitionOne%",rightOperand:"IgnitionOne"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC854328ad2fe24a8f83178a7ba89b682e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLef1706b6ece74d6b87383e32cbb880c9",name:"TPT - MY - AEM - Gtag_DC - Multiple pages -  PLR  - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3a59a627172a4f599a4778942527a9d1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLef638d8f8b8b455d9d804788626a99da",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc20c541a66414e61980cc0afe540063f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLef6769d58ab143c2acf2980178f99dec",name:"TPT - TH - AEM - Adform - Test Drive ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/th/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.co.th/en/form/request-test-drive.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8776748fe0424b1381eb1bbfef7a837a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLef9921d7a8cf45a185c59599a863fd94",name:"TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Register your interest']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc72324855d5f4ba890813b10f9f4e6ed-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLefa77d965d084b27bd3f20297e7f2ea6",name:"TPT - SI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCecbcc22370464fb694effe22427a18af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLeff1ec4c366f47828e048ac51b2be111",name:"TPT - IT - AEM - Xcally Chat - Multiple- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe0b2d3d8a8804860b6fce3b284481806-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf02d69d4e7014bf0b10298451b0b0bd3",name:"TP2  - ALL - AEM - PageView - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:30}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventAction",value:"page load",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_7548301",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc636ecfa0af74838a2223fb76d2fd1fc-code.min.js",path:"",type:"TP2",vars:{std:!0,page:!0,thisTool:!0,mainProduct:!0,processingID:!1,page_category:!1,page_pageInfo:!0,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_4935894",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC478096058e524f03be2737b42afea690-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2024882",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC39fe110506bb467b8e50ac9772a82087-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"GoogleAdvertising",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_4045188",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8c8e2bb26e694ca0826fff56df952e12-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"AdformRetargeting",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_8832052",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbf2b124c3db6445f8b622565b483e1f1-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"CriteoPixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_8775413",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbca8b8a3fb7e49c8873b7109278a4610-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Outbrain_Pxl",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2011850",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC703eb730b1cd4d11ba2705f569a4850f-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"LinkedInAds",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_2360369",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4edb97dd65b3470eb0cc8a61c6876d9a-code.min.js",path:"",type:"TP2",vars:{
std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"TaboolaProcessing",toolsProcessingId:!0},timeout:2e3,delayNext:!0},{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_4152103",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC8593f71bc25b461daeaee307b291b229-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"Pinterest",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLf02e343e05b14acdb1242c9efa613954",name:"TPT - SG - AEM - Teads Pixel - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/ssl/contact-pml.html",valueIsRegex:!0},{value:"/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0},{value:"/servicebooking",valueIsRegex:!0},{value:"/topics/offers-and-services/original-bmw-accessories/ace3pro.html",valueIsRegex:!0},{value:"/ace3pro",valueIsRegex:!0},{value:"/offers-and-services/special-offers/bmw-joy-electrified.html",valueIsRegex:!0},{value:"/offers-and-services/current-offers.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCfab321af655349db9c0100ad4c01ed9d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf057e10cbe3f4b0399d8d4ffe050ebd3",name:"TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC647499f751924b7d9de3187e0fae1f32-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9f03bd0d09a94358a718ae0491ea73af-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf089679e4b8240428bb966a9bfef8747",name:"TPT - DE - FORMS - Adform - Adobe form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/success-pool/success-page-rfi.business-forms.html",valueIsRegex:!0}]},negate:!0,timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC554180cd3600424fb5dace19e1e933c9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf0b738de3cc1459fa10aa2ddbfcd1f30",name:"TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC04fcac08c94540a7891d11acb13c87e0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf0d72f1ec92249438b0b4a2e6484b084",name:"TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6bd0431a4eee474f825295c97c701b62-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf0d9a1befc044b5e8d8af5aa02dbe7da",name:"TPT - AU - AEM - Facebook - Finance Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)|/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa51b6766fcab46b0a76ae69b0cebedf1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf0ecf1b18cfe401e812337d5edb7135f",name:"TPT - DE - FORMS - Adform - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36d2ecff14604b978d9e5233b7c7d960-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf13116eda9634c1dab43eb1ed2f6d098",name:"TPT - LU - AEM - Adwords - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2d235b9ec9ac4396b2c3062699bac414-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf14526fef3e8430a925ffe03b8921346",name:"TPT - DK - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3c23b1f5c424101a3561343814735b6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf15fb2709f0846329cb563d62e71df8f",name:"Adobe Target ttMETA Plugin",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:101}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0},{value:"bmw.it",valueIsRegex:!0},{value:"bmw.fr",valueIsRegex:!0},{value:"bmw.es",valueIsRegex:!0},{value:"bmw.de",valueIsRegex:!0},{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'/*document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function (e) {\n    window.ttMETA = typeof window.ttMETA != "undefined" ? window.ttMETA : [];\n    var tokens = e.detail.responseTokens;\n    if (isEmpty(tokens)) {\n        return;\n    }\n    var uniqueTokens = distinct(tokens);\n    uniqueTokens.forEach(function (token) {\n        window.ttMETA.push({\n            CampaignName: token["activity.name"],\n            CampaignId: token["activity.id"],\n            RecipeName: token["experience.name"],\n            RecipeId: token["experience.id"],\n            OfferId: token["option.id"],\n            OfferName: token["option.name"],\n        });\n    });\n});*/\n\ndocument.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function (e) {\n    window.ttMETA= typeof(window.ttMETA)!="undefined" ? window.ttMETA : [];\n\n    var tokens=e.detail.responseTokens;\n\n    if (isEmpty(tokens)) {\n      return;\n    }\n\n    var uniqueTokens = distinct(tokens);\n\n    uniqueTokens.forEach(function(token) {\n      window.ttMETA.push({\n        \'CampaignName\': token["activity.name"],\n        \'CampaignId\' : token["activity.id"],\n        \'RecipeName\': token["experience.name"],\n        \'RecipeId\': token["experience.id"],\n        \'OfferId\': token["offer.id"],\n        \'OfferName\': token["offer.name"],\n        \'MboxName\': e.detail.mbox});\n      console.log(ttMETA);\n    });\n  });\n\n  function isEmpty(val){\n    return (val === undefined || val == null || val.length <= 0) ? true : false;\n  }\n\n  function key(obj) {\n     return Object.keys(obj)\n    .map(function(k) { return k + "" + obj[k]; })\n    .join("");\n  }\n\n  function distinct(arr) {\n    var result = arr.reduce(function(acc, e) {\n      acc[key(e)] = e;\n      return acc;\n    }, {});\n\n    return Object.keys(result)\n    .map(function(k) { return result[k]; });\n  }',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLf183f787b07d469bbdf9f55f6432ed5b",name:"TPT - AU - AEM - GTagDC - Finance Offer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)|/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC54900e0d69ff4261b42d5a198fa67a6b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf19bec05f3794006895fbf6dc35935d9",name:"TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaea6c4991c3a4facb0247a87cd4652f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf1aee3eb0f474d8caa746ae736c10159",name:"TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd9c383b544314b39940ef9c77e6de5fc-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf1db4b1efb964dc7bf1a2c03b62dcb1e",name:"TPT - IT - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd40d51ba478240ba803ec520ea59c922-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf1f6e4e6543641ffbf6f0d8765e6659a",name:"TPT - BE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC66371014c19f4938839244f6cc163c15-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf21db2ea21c74600b36ff5c58bc3f75c",name:"TPT - PT - AEM - Adwords - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd0436b1bfb9743f98caa0fc8646de966-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf2596525b4954f0f82fad626bd4f4fed",name:"TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC641f7dcd542044bea178f073fad3c100-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf294a6cffb4e41e28f586cbf92aefbf7",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"},timeout:8e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa95f4eb8e10e4ef68ea6a0c6b59c687a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf2cd418846a14737aeb2ebfa7bc5ed60",name:"TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd3bbc22530a74a7cbdbafa14939d2d58-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf303f61617654afbbd4db098cd78814d",name:"TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC80bf0410c3794016a9a8362f435eef0e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf356433fca8143ae8c452deb2091d2bb",name:"TPT - TH - AEM - TikTok - Link to Get Offer - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e816fa4324.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1c5e00bc58.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-34b68eab88.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-22dc2eba79.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-a4108a1b41.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d51c080e6e.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-7de27fff4a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-1d54728eec.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-e9ab7843c1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-5ca1a864a1.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-d48d976970.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-2963aad3b7.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-28495b733a.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#button-ddbab81cb0.cmp-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2c465fd353464baa816c3410f3d10f09-source.min.js",language:"javascript",isExternal:!0},timeout:50,delayNext:!0}]},{id:"RLf39aa186ccf04209b715cd05c81b4d72",name:"TPT - NL - AEM - GtagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC45fb0dbaaced43159f83a8a35ffe5dc6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf39e7b5170e7427eaa229b8bca1f3e19",name:"TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC663a42d753844b9fba474594cfeaef42-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCef49fe382909478abfbea9526653df93-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3baa96b45ed466fa6e9273420433680",name:"TPT - RO - AEM - Facebook - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC36b81ddd3e9042ae81f6c5d13401415a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3db637bd1f84995b7bb0a999261df4a",name:"TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC27b41a0ba1494e2b98a60918549b1ce2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3f6a05b7cce42bb959177886cd3c6aa",name:"TPT - IE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7a8de1ea074045babfb93d1555699aa5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3f79d4a6fbf4f2bb4400f707d5de29e",name:"TPT - KR - AEM - Mathtag - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc56ff25d52504740a5f000120b9669c1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf3fb02349c7241a78e661cc534d6c8a8",name:"TPT - SK - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdbc245662b3e43cc8ba1fb7af4544125-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf410c4111fa744eb8eaebfc969117e49",name:"TPT - RO - FORMS - Facebook - Adobe Form - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2df17a60d5a24dd0b923acd17b1818a9-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf413fa5cc5c4453a94bdc4d4c4d03873",name:"TPT - SE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC704a57e2a3104649adafd00e11156aa6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf482649a2b6448dc8caee4a344b1407d",name:"TPT - LU - AEM - Adwords - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC87cb3be73de14f8eb10484823e2c4381-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf485fa9796414f2a9fc546e35a958ce4",name:"TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC50c3b244f5ac41b89711ac2d01d7d239-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf48b4a38a031477e975fc9ab3e82bde1",name:"TPT - JP- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2b5d67c5a0944ba0a7389503a6597544-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf490746da841403e8d154030b50f3088",name:"TPT - UK - AEM - Adform - iFrame Motability Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2662_rfc.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC29e18d87d2784016a47c6136606ead84-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf4b6bddd83bf4a199aa7d70c8193d7b6",name:"ACDL GROUP - ALL - ANY - DLP - 0015 - Tron Version Workaround WL 1 | AAAA - 7027",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:15}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"version",value:"tron",operator:"includes"}},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/dlpExec.js",settings:{ID:"DLP_action_4286282",code:"  if(!dl.get('eventInfo.version')){\n     dl.assign('eventInfo.version',dl.get('version')) \n  } \n",path:"",type:"DLP"},timeout:2e3,delayNext:!0}]},{id:"RLf4e6fa35d1e24844a239999992593515",name:"TPT - BG - AEM - Facebook - Download - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdcb1b6042dd7480e96faa80f6b84a601-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf5140b796df54063968e6f76172d39de",name:"ACDL GROUP - ALL - ANY - DLP - 0060 - Page - hashed visitor ID",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9ebcd8ccb11f42f98c4e5062a8eef98b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf5444cc62d9a4abe98c0c0a927abb11c",name:"TPT - GR - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa7119714fad74ce99464d41ff387ce86-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,
delayNext:!0}]},{id:"RLf577af96f3164068a038d028936e1476",name:"TPT - FI - AEM - Adform - Brochure Download - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC2f8d1f2ed2f54d2e81602bcc8a95226f-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf591a0338f3043d5b6a713fab5cfaa66",name:"TPT - TH - AEM - Facebook - Test Drive Form Interaction - event-cleansed - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"PaE_action_4391330",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbaf027d450794786b428e98aeb46d67c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLf5ea16f455dc44d0b36fc0040e2b9597",name:"TPT - UK - AEM - Adform - iFrame TDA/RFI Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCda7c1c0472174464b1d2a92175a171fe-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:2e3,delayNext:!0}]},{id:"RLf62851fca08d4339ab7bf51fa0633d31",name:"TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC94b7762062c84db486f4d09174b1583b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf6462e16968a4428a671f052070282e3",name:"TPT - ZA - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-financial-services",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/buy-bmw",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-finance-instalment-sale",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-select-edge",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-charter"},{value:"/en/topics/offers-and-services/bmw-financial-services/find-my-finance",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/calculator.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/tyre-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/top-up-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-comprehensive-cover.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/care-cosmetic",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/extended-warranty-cover",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-solar-financing",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/insurance/bmw-insurance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/select-offers",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/bmw-vehicle-return",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/corporate",valueIsRegex:!0},{value:"/en/topics/offers-and-services/bmw-financial-services/auction",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-repair-and-care-overview.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/roadside-assistance/on-call",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-service-hub",valueIsRegex:!0},{value:"/en/shop/ls/cp/online-appointment",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-motorplan",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-my-vehicle-dashboard",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/my-bmw-plans",valueIsRegex:!0},{value:"/en/service-portal/bmw-proactive-care",valueIsRegex:!0},{value:"/en/more-bmw/parts-and-accessoires/original-bmw-parts",valueIsRegex:!0},{value:"/en/topics/offers-and-services/accessories/bmw-wheels-tyres",valueIsRegex:!0},{value:"/en/topics/offers-and-services/original-bmw-accessories1/bmw-autumn-winter-accessories",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCc1eeb96b25f14b81829af4168dcac0a9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf64b8e58d21c4ef68c545c0b0d690b0b",name:"TPT - RO - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC056ab52819b64387a2c41617bc583767-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf65e4f77a34f425e83fae18fb8a83f4a",name:"TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7f8d660f04dd476399ed1b4c37e29861-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf67ec9afaa2a4f0d835c70006f618eb0",name:"TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC605eab9d2ed0411bb38ecb44d610356a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf6fc7bfea69543cc83f803088cfac91f",name:"TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9c85ec5283564f85924fee970ad9c8f8-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCdf37354ac0f04897bb2b9f04970cf507-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf70e058d0342485da64b2b162f407ce6",name:"PLR - BE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"},timeout:8e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models/",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.be"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC64a601b70eb3498fb8c38d296cb4a88e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf722a6fedf3e421093032ef9a56a1bbd",name:"TPT - JP - AEM - YDN - TestdriveCampaign - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa9ef315a7a2844a89947afe9c1c1a752-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf73979d2cd8e49dda215eda4dd02bbb0",name:"TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCafcdc99a02b2456f8c34f2a5e64c8fd5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf73f208704de4ca29fa561e81d0e5ef9",name:"TPT - DE- AEM - Adform - Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC679a6e25d2e1475fb09dd12b09b9c3bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf74c723f2cde4a8a8eaabb16d1a013bb",name:"ACDL GROUP - FR - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6af57166dc6341faa0430e0d275bf679-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf79d19f891e6472d80bc70dcc44bce66",name:"TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6814d5c828f94d7fbf2387269a796c50-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7a07c6710cb4d43a63676b3cc37b509",name:"TPT - LU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"button next-best-action ds2-dlo-dealer-details--button dlo-button ng-binding ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC71cb4bc6206749e5909f781039fd7ec7-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7c80800dda249b6a82ec0b9617463dc",name:"TPT - LU - AEM - GTagDC - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7c9bd465d9e54f578b90d54479246e7a-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf7e7206cd4814965816fd24a30bdfd49",name:"TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC40fe3ee7656c42f3bba8aa56710bc947-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf81c954d5a0c48308e447dc7792dfe3e",name:"TPT - MY - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC424c4b8feee84cc79b1ca508442eb1dd-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC4cba8ea2084f43fca5d3529977075d8a-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCed07871bc5b647848979d5b1e086ef53-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd61bc3b714974b92bc82f8921fec8a4f-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLf830294134ba4920b29f1d0f14305c4d",name:"ACDL GROUP - ALL - AEM - ADPT - TRON page view connector",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron page view"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC93e9faea479046b6b9f4acb5d5dedf3e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf84cce77b29946e0909587b04b8dc79d",name:"TPT - IT - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC7daf4852a83c4844a9740bb44948222d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf85279d648bd413a93c0befa46778f98",name:"TPT - PL - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaa268b26fac14437a01c7970c119a3f0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3f510f5f4536455a89ef8af03be9f631-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8beee5dcdd04cfe84bc45937d422f05",name:"TPT - RO - AEM - Zeta/IgnitionOne - TDA/RFO Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCaca1548592d942f8b1cd57697b3c19d0-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8cb0fe3f0c44c73b053d46a4d19a86e",name:"TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC1131d1a37fcf4c3d83d8eff8e57d93be-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf8fbaa6377bf437ca50b091294bbbbb6",name:"TPT - NZ - AEM - DoubleClick - BMWX5 - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"modules.bmw.co.nz",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC38fc0f1173344249b9fa0d2bfaed7343-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf9168051a68f438c9af5ba79c522fdeb",name:"TPT - BG - AEM - Adwords - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9cc450b36f604f819914915bfb61648b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLf92430b36af645e3b780d3ed3b790c02",name:"DCR - ALL - NSC - AA - Visualizer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_interactions"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),i="",r="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="configuration",t.prop19=t.prop54="visualizer",t.prop56="interaction",t.prop53="ux","visualizer start"==a.toLowerCase()||"visualizer finish"==a.toLowerCase()?t.prop53="success":"inactivity"==a.toLowerCase()||"error"==a.toLowerCase()?t.prop53="3rd party backend":"buildability conflict"==a.toLowerCase()&&(t.prop53="automatic"),t.eVar134="web",t.eVar34=a&&"object"!=typeof a?a:"datalayer field missing",t.eVar34.indexOf(r)<0&&(t.eVar34=r+t.eVar34),["change roof top color","change interior trims","change interior upholstery","change exterior mirror caps","change exterior wheels","change exterior color","change view","visualizer finish","visualizer start"].indexOf(a.toLowerCase())>-1?t.eVar34=s.get("event.-1.eventInfo.effect"):["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())>-1&&(t.eVar34=s.get("event.-1.eventInfo.cause")),t.prop55=s.get("event.-1.category.subCategory01"),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop55=s.get("event.-1.category.subCategory01"),"360 rotate"==a.toLowerCase()||"roof top close"==a.toLowerCase()||"roof top open"==a.toLowerCase()?t.prop51=s.get("event.-1.eventInfo.effect"):t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf(r)<0&&(t.prop1=r+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version"),t.linkTrackVars+="prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29","visualizer"==n&&(i+=",event313,event314"),"visualizer finish"==a&&(i+=",event315,event316"),"visualizer start"==a.toLowerCase()&&(i+=",event311,event312"),["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())<0&&(i+=",event313,event314"),["Inactivity","Error"].indexOf(a)>-1&&["Page","Popup","Inline message"].indexOf(o)>-1&&(i="event931"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.events="",t.events=t.apl(t.events,i),t.linkTrackEvents=t.apl(t.linkTrackEvents,i),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}},timeout:8e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"},timeout:8e3,delayNext:!0},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null},timeout:8e3,delayNext:!0}]},{id:"RLf94d86e4550b4f0fbd0dcaf14bc8ce1f",name:"TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5d089c41c0824b54bb9c728ce0b1def8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfa4cdb42ba9743b4a88fc7d0846b034d",name:"TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.hu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC3007d752073644fcb6f4a2e94b55077b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfa8944034efc41cda405c1557f5fa6d8",name:"TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb9532579b8924e0989c44b60673ba991-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb1a0fe2343b4aefa6921c87ebafe02f",name:"TPT - AU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5b53c62ddd654b2e84478c0c27550545-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb43b342755c4af9825f6e74034b463a",name:"TPT - CA - AEM - DoubleClick - ButtonClick (Connect with Us (Live chat)) - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#di-proactive-header-minimized",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa79eca19faaf4e7baf7cbe1cf7e067d6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb55f0b07bb441d68de27b56f376be30",name:"TPT - DK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".yp-grid-element-container.col-xs-6.col-sm-4.col-md-4.col-lg-4",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC08409cf0be724cff9f9820ab3e8be6cb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb6a9fad4d9d45958dc83e616363889d",name:"TPT - NL - FORMS - Adwords - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5ebfad58f12047bd9e23fd739e4367bb-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfb87c98aaafe4f61bd867a0a59b8c861",name:"TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6ec3079b882645538cae4efb4ffb8e96-source.min.js",language:"javascript",isExternal:!0},timeout:5e3,delayNext:!0}]},{id:"RLfba04e7ee4284cdf93181da7fe98f434",name:"TPT - PT - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{
modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCef3649c5e3af4ccd8e0387fe068045f3-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfbc03147452943968ef48a8c1764df39",name:"ACDL GROUP - DE,UK - ANY - DLP - 0060 - Page - hashed visitor ID",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC652f98f000804cd7bdddc3d2d6421925-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfbc46d42379a40928a68fb611e8ebf60",name:"TPT - ZA - AEM - Adform - Price List and Brochure CTA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"#Price-List-and-Brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC97d782e3b9e54eb08c5bef99cd8048e3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfbea4ec6ace447aabd458952107fa388",name:"TPT - TH - AEM - GtagAW - Link to Shop Online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC5f29d523cf854376a6bfbdc8e20ede4d-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc5bab6fab5244bca8f439ea61b98dfe",name:"TPT - BE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCcd66c8099a804101a8722df058883bb6-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc77e4e99cf143d58a8bbf96f90b82d3",name:"TPT - BE - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/success-page-rfid.business-forms.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6f1d7ecd704d4c1592d17bcc1ec2c03c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc8408e4ccd64b06bf08daa45f9ac01d",name:"TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[data-bm-safe-click="saveVehicleToGarage()"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC6328abba2d4a49dcbeeb65e2d4795d79-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc92f6511d8a43e1971bbbc7c51541ea",name:"TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){new Promise((function(t,s){var a=!1;(window.consentcontroller&&window.consentcontroller.api||window).addEventListener("consentcontroller.api.initialized",(function(){a=!0,console.log("epaas promise is resolved"),document.getElementsByTagName("epaas-consent-drawer-shell").length||window.epaas.api.showDisclaimer()?(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.drawerhidden",(()=>{t(!0),e()})):(t(!0),e())})),setTimeout((function(){a||s()}),5e3)})).catch((function(){console.log("epaas promise is rejected")}))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it$",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC22d68bde5d3a435f8a79bd027c8e1905-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfc998122419f45389f43e115fcad9c25",name:"TP2  - ALL - AEM - Add To Wishlist AIA - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TP2"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/stocklocator",valueIsRegex:!0},{value:"/neuwagensuche",valueIsRegex:!0},{value:"/garageonline",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"#/details",valueIsRegex:!0},{value:"#/results",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/tp2Exec.js",settings:{ID:"TP2_action_3073053",code:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC58f116ed10e44076beb1a76aff83891c-code.min.js",path:"",type:"TP2",vars:{std:!1,page:!1,thisTool:!0,mainProduct:!1,processingID:!1,page_category:!1,page_pageInfo:!1,linkedProducts:!1,page_attributes:!1},useEPaaS:!1,processingID:"fbPagePixel",toolsProcessingId:!0},timeout:2e3,delayNext:!0}]},{id:"RLfca1f09b5c264ab082795b712833f917",name:"TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd1d8ec05c1684cdaa0251d98c35e3d7e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfcd942255f624e3594f4a3a393613ecb",name:"TPT - SI - AEM - GtagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCea0ed4fd2af64c0cb58d4959aabdf06b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfda5e230b8db45968f25d7eb254cbb63",name:"TPT - NZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC490e1a5de2784552b1cff07f6b166260-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfdc4ee192cdb4f118d90f3c406a530c9",name:"TPT - JP - AEM - Adform - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe5a727ca48a448dfbd06c67b93213037-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfddd1473fd64424d90ed1e8358392374",name:"TPT - CH - FORMS - GtagDC - Adobe Forms(TDA) - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC95fbd10e6c5b49f09beab44554ebbaa5-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfde4d59ef9104281bd2c03b40b7239b7",name:"TPT - BR - AEM - TikTok - RFO Form Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var s=JSON.parse(t.data),a=s.args[1];"addEventTracking"==s.methodName&&(_satellite.setVar("eventtracking",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCd33dcd5be44b4768b420d9c7ecbac331-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe02ce2f89bf448ea327159079bc7762",name:"TPT - GR - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9fde67c81e5142cc98e0caace7683328-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe12c15ea8ff42209895ce9043dc38ab",name:"TPT - BG - FORMS - GtagDC - Adobe Forms - ACDL - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCbf78a5c8d15c4b63b855866a3e222400-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe321b2bce804694b35e6cbf8bed9357",name:"TPT - SK - FORMS - Facebook - Adobe Form - RFC View - ACDL - p15r[l]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"tron event-cleansed"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!1,withComponent:!0})}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC9312ecdb8060433e945240e26fe465d2-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe4e9d7fa8a34039ae3bafaf97c61f9f",name:"TPT - SG - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe0b6865f6b1e4f24886159466a662b77-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfe8ffe570f5e43e6b00aca29772f3d53",name:"TPT - FI - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC65cb8ea80083477bad5fae7341ee90b1-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfed52e991cfa4984bb5081deef387e1f",name:"TPT - ES - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"gcoe-adobe-client-data-layer/src/lib/events/datalayerPushListener.js",settings:{scope:"all",method:"specificEvent",eventKey:"pageview-cleansed"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TPT page view"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC604472cb3c0843a4b9c1d49708d6f8ae-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfef6048fcad0468883b99a7c9f2c63ea",name:"TPT - HU - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]},timeout:5e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCe05d62f63e29439aab433939b885f759-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfef84b5bfc834a05ad86b6db6d9a42ff",name:"ACDL GROUP - ALL - AEM - ADPT - TRON connector",events:[{modulePath:"bmw-launch-core/src/lib/events/promising.js",settings:{eventRegex:"^(tron|bounce|launch) event$",withConsent:"",afterPageView:!0,afterNoPageView:!1},ruleOrder:30}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC010d08102ea4482aba4580833c33eb8e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLfefbd968450c4931ac55b8584de2e7fb",name:"TPT - JP - AEM - Yahoo - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC58882f999690463ca5b146b5d17c3cb1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLff14c7d664c24ba391997949b9428c8a",name:"TPT - PT - AEM - Facebook - Checkout Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return document.URL.includes("bmw.pt/pt/shop/dcs/comprarbmwonline/checkout")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCb1191bfe6e0d44948872eacb1153842c-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff437d0578e54de78a7ea024ad2a0950",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCebdd0bd7550641ba9f06c79fa1d1a10e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff4b065101894333b5699387229ed5ae",name:"TPT - ES - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa8c3f91252834bd0926e795d1e41d05b-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff74ae00fe83416791e0df26dce127df",name:"TPT - AT - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RC093f58d06402453ea160866d4772c638-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLff905bcb32f842b0987957150cdae6a8",name:"AA GROUP - ALL - ANY - 1000 - eoOC, send event beacon",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"AA"},ruleOrder:1e3}],conditions:[{modulePath:"bmw-launch-core/src/lib/conditions/conditioner.js",settings:{conditions:{app:!1,brand:!1,market:!1,component:!1}},timeout:8e3},{modulePath:"bmw-launch-core/src/lib/conditions/nodeCompare.js",settings:{condition:{node:"eventInfo.eventTrigger",value:"pageview",operator:"notequals"}},timeout:8e3}],actions:[{modulePath:"bmw-launch-core/src/lib/actions/analyticsMapAndSend.js",settings:{flags:{withPV:!1}},timeout:8e3,delayNext:!0}]},{id:"RLffcfd7feeaca43beba469c8e75aa2b6b",name:"ACDL GROUP - TH - ANY - DLP - 0060 - tools setup",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"DLP"},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return adobeDataLayer.condition.fitsWithRuleName({event:e,withMarket:!0,withApp:!0})}},timeout:8e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/f06b00fbcde1/RCa261be4d602f4ee4ab5912860d514502-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){var s,a;return!1!==t(e)&&(void 0===(s=e.constructor)||!1!==t(a=s.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf"))}function a(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function o(e){return e.substr(0,e.indexOf("["))}function n(e,t,s){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var r=e.slice(1);if(!a(i))return n(r,t[i],s);var c=t[i=o(i)];Array.isArray(c)&&c.forEach((function(e){return n(r,e,s)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=s(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=document,c=Object.assign,d=window,l=d,u=function(e,t,s,a){var o,n=Boolean(t&&Array.isArray(s)),i=Boolean(n&&e),r=document.createElement("a");if(n){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?r.href=l.location.protocol+e:r.href=e),r.hostname||c(),-1===s.indexOf(r.hostname)){var d=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw d.code="dynamic_host_not_allowed",d}}var u=function(){if(null!=o)return o;if(i){var e=r.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),o=r.protocol+"//"+e}else o="";return o},b=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:u,decorateWithDynamicHost:b,get isDynamicEnforced(){return n}};return l&&a.onDebugChanged((function(e){e?l.dynamicHostResolver=m:delete l.dynamicHostResolver})),m},b=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(s){t.push({rule:e,event:s})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},m="debug",f=function(e,t){var s=function(){return"true"===e.getItem(m)},a=function(t){e.setItem(m,t)},o=[],n=function(e){o.push(e)};return t.outputEnabled=s(),{onDebugChanged:n,getDebugEnabled:s,setDebugEnabled:function(e){s()!==e&&(a(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},p="Module did not export a function.",g=function(e,t,s){return function(a,o,n){n=n||[];var i=e.getModuleExports(a.modulePath);if("function"!=typeof i)throw new Error(p);var r=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&r.filePaths&&(s(c,r.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var d=t(c,o);return i.bind(null,d).apply(null,n)}},v=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},h={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},P="\ud83d\ude80",y=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":P,j=!1,C=function(e){if(j&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(y),e!==h.DEBUG||window.console[e]||(e=h.INFO),window.console[e].apply(window.console,t)}},w=C.bind(null,h.LOG),R=C.bind(null,h.INFO),x=C.bind(null,h.DEBUG),I=C.bind(null,h.WARN),E=C.bind(null,h.ERROR),T=function(){var e=j;j=!0,C.apply(null,Array.prototype.concat(h.WARN,Array.prototype.slice.call(arguments))),e||(j=!1)},A={log:w,info:R,debug:x,warn:I,error:E,deprecation:T,get outputEnabled(){return j},set outputEnabled(e){j=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:w.bind(null,t),info:R.bind(null,t),debug:x.bind(null,t),warn:I.bind(null,t),error:E.bind(null,t)}}},L=d,k="com.adobe.reactor.",_=function(e,t){var s=k+(t||"");return{getItem:function(t){try{return L[e].getItem(s+t)}catch(e){return null}},setItem:function(t,a){try{return L[e].setItem(s+t,a),!0}catch(e){return!1}}}},O=_,D="dataElements.",S=O("sessionStorage",D),N=O("localStorage",D),V={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},F={},M=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},B=v,U=A,G={setValue:function(e,t,s){var a;switch(t){case V.PAGEVIEW:return void(F[e]=s);case V.SESSION:return void((a=M(s))&&S.setItem(e,a));case V.VISITOR:return void((a=M(s))&&N.setItem(e,a))}},getValue:function(e,t){var s;switch(t){case V.PAGEVIEW:return F.hasOwnProperty(e)?F[e]:null;case V.SESSION:return null===(s=S.getItem(e))?s:JSON.parse(s);case V.VISITOR:return null===(s=N.getItem(e))?s:JSON.parse(s)}}},K=function(e,t,s,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+s+(a?"\n"+a:"")},H=function(e,t,s,a,o){return function(n,i){var r=t(n);if(!r)return a?"":void 0;var c,d,l=r.storageDuration;try{c=e.getModuleExports(r.modulePath),d=e.getModuleDefinition(r.modulePath)}catch(e){return void U.error(K(r,n,e.message,e.stack))}if("function"==typeof c){var u,b=r.settings||{};!r.hasTransformedFilePaths&&d.filePaths&&(o(b,d.filePaths,r.modulePath),r.hasTransformedFilePaths=!0);try{u=c(s(b,i),i)}catch(e){return void U.error(K(r,n,e.message,e.stack))}return l&&(null!=u?G.setValue(n,l,u):u=G.getValue(n,l)),null==u&&null!=r.defaultValue&&(u=r.defaultValue),"string"==typeof u&&(r.cleanText&&(u=B(u)),r.forceLowerCase&&(u=u.toLowerCase())),u}U.error(K(r,n,"Module did not export a function."))}},W=v,q={text:function(e){return e.textContent},cleanText:function(e){return W(e.textContent)}},z=function(e,t,s){for(var a,o=e,n=0,i=t.length;n<i;n++){if(null==o)return;var r=t[n];if(s&&"@"===r.charAt(0)){var c=r.slice(1);o=q[c](o)}else if(o.getAttribute&&(a=r.match(/^getAttribute\((.+)\)$/))){var d=a[1];o=o.getAttribute(d)}else o=o[r]}return o},$=function(e,t,s){return function(a,o){var n;if(t(a))n=s(a,o);else{var i=a.split("."),r=i.shift();"this"===r?o&&(n=z(o.element,i,!0)):"event"===r?o&&(n=z(o,i)):"target"===r?o&&(n=z(o.target,i)):n=z(e[r],i)}return n}},Y=function(e,t){return function(s){var a=s.split(".")[0];return Boolean(t(s)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},Z=function(e,t,s){var a={exports:{}};return e.call(a.exports,a,a.exports,t,s),a.exports},J=Z,Q=A,X=function(){var e={},t=function(t){var s=e[t];if(!s)throw new Error("Module "+t+" not found.");return s},s=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(s){var t="Error initializing module "+e+". "+s.message+(s.stack?"\n"+s.stack:"");Q.error(t)}}))},a=function(e){var s=t(e);return s.hasOwnProperty("exports")||(s.exports=J(s.definition.script,s.require,s.turbine)),s.exports};return{registerModule:function(t,s,a,o,n){var i={definition:s,extensionName:a,require:o,turbine:n};i.require=o,e[t]=i},hydrateCache:s,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=A,te=!1,se=function(e){return function(t,s){var a=e._monitors;a&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),a.forEach((function(e){e[t]&&e[t](s)})))}},ae=A,oe=function(e,t,s){var a,o,n,i,r=[],c=function(a,o,n){if(!e(o))return a;r.push(o);var i=t(o,n);return r.pop(),null==i&&s?"":i};return a=function(e,t){var s=/^%([^%]+)%$/.exec(e);return s?c(e,s[1],t):e.replace(/%(.+?)%/g,(function(e,s){return c(e,s,t)}))},o=function(e,t){for(var s={},a=Object.keys(e),o=0;o<a.length;o++){var n=a[o],r=e[n];s[n]=i(r,t)}return s},n=function(e,t){for(var s=[],a=0,o=e.length;a<o;a++)s.push(i(e[a],t));return s},i=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?n(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return r.length>10?(ae.error("Data element circular reference detected: "+r.join(" -> ")),e):i(e,t)}},ne=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var s in t)e[s]=t[s]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,re=ie,ce=function(e,t,s){return function(a,o,n,i){return i.then((function(){var i,r=a.delayNext;return new re((function(t,s){var o=e(a,n,[n]);if(!r)return t();var c=a.timeout,d=new re((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));re.race([o,d]).then(t,s)})).catch((function(e){return clearTimeout(i),e=t(e),s(a,o,e),re.reject(e)})).then((function(){clearTimeout(i)}))}))}},de=ie,le=function(e,t,s,a,o){return function(n,i,r,c){return c.then((function(){var c;return new de((function(t,s){var a=e(n,r,[r]),o=n.timeout,i=new de((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));de.race([a,i]).then(t,s)})).catch((function(e){return clearTimeout(c),e=t(e),a(n,i,e),de.reject(e)})).then((function(e){if(clearTimeout(c),!s(n,e))return o(n,i),de.reject()}))}))}},ue=ie.resolve(),be=function(e,t,s){return function(a,o){return a.conditions&&a.conditions.forEach((function(t){ue=e(t,a,o,ue)})),a.actions&&a.actions.forEach((function(e){ue=t(e,a,o,ue)})),ue=(ue=ue.then((function(){s(a)}))).catch((function(){}))}},me=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},fe=function(e,t,s,a){return function(o,n){var i;if(o.conditions)for(var r=0;r<o.conditions.length;r++){i=o.conditions[r];try{var c=e(i,n,[n]);if(me(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return s(i,o),!1}catch(e){return a(i,o,e),!1}}return!0}},pe=function(e,t){return function(s,a){e(s,a)&&t(s,a)}},ge=function(e){return function(t){var s=e.getModuleDefinition(t.modulePath);return s&&s.displayName||t.modulePath}},ve=function(e){return function(t){var s=t.rule,a=t.event,o=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+o,$rule:{id:s.id,name:s.name}}}},he=function(e,t,s,a,o,n){return function(i,r){var c=r.rule,d=r.event;d.settings=d.settings||{};try{var l=o(r);t(d,null,[function(t){var a=s(l,t);i((function(){e(a,c)}))}])}catch(e){n.error(a(d,c,e))}}},Pe=function(e,t,s,a){return function(o,n,i){var r=t(o);s.error(e(r,n.name,i)),a("ruleActionFailed",{rule:n,action:o})}},ye=function(e,t,s,a){return function(o,n,i){var r=t(o);s.error(e(r,n.name,i)),a("ruleConditionFailed",{rule:n,condition:o})}},je=function(e,t,s){return function(a,o){var n=e(a);t.log('Condition "'+n+'" for rule "'+o.name+'" was not met.'),s("ruleConditionFailed",{rule:o,condition:a})}},Ce=function(e,t){
return function(s){e.log('Rule "'+s.name+'" fired.'),t("ruleCompleted",{rule:s})}},we=function(e,t,s){return function(a,o){var n;if(a.actions)for(var i=0;i<a.actions.length;i++){n=a.actions[i];try{e(n,o,[o])}catch(e){return void t(n,a,e)}}s(a)}},Re=function(e,t,s,a){return function(o,n){a("ruleTriggered",{rule:n}),e?s(n,o):t(n,o)}},xe=function(e,t,s){return'Failed to execute "'+e+'" for "'+t+'" rule. '+s.message+(s.stack?"\n"+s.stack:"")},Ie=function(e,t){return t&&!e.negate||!t&&e.negate},Ee=[],Te=!1,Ae=function(e){Te?e():Ee.push(e)},Le=function(e,t,s){e(t).forEach((function(e){s(Ae,e)})),Te=!0,Ee.forEach((function(e){e()})),Ee=[]},ke=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},_e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.isPlainObject=s;var Oe,De=A,Se=c,{isPlainObject:Ne}=_e,Ve=function(e,t){return Ne(t=t||{})?t=Se({},t,e):Se(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return De.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Fe=function(e,t){return function(s,a){var o=e[s];if(o){var n=o.modules;if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var c=i[r],d=n[c];if(d.shared&&d.name===a)return t.getModuleExports(c)}}}},Me=function(e,t){return function(){return t?e(t):{}}},Be=function(e,t,s){return function(a){if(s){var o=a.split(".");o.splice(o.length-1||1,0,"min"),a=o.join(".")}return e(t)+a}},Ue=".js",Ge=function(e){return e.substr(0,e.lastIndexOf("/"))},Ke=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){Ke(t,Ue)||(t+=Ue);var s=t.split("/"),a=Ge(e).split("/");return s.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},We={exports:{}};Oe=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var a in s)t[a]=s[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function s(a){function o(){}function n(t,s,n){if("undefined"!=typeof document){"number"==typeof(n=e({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(s);/^[\{\[]/.test(i)&&(s=i)}catch(e){}s=a.write?a.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var c in n)n[c]&&(r+="; "+c,!0!==n[c]&&(r+="="+n[c].split(";")[0]));return document.cookie=t+"="+s+r}}function i(e,s){if("undefined"!=typeof document){for(var o={},n=document.cookie?document.cookie.split("; "):[],i=0;i<n.length;i++){var r=n[i].split("="),c=r.slice(1).join("=");s||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(r[0]);if(c=(a.read||a)(c,d)||t(c),s)try{c=JSON.parse(c)}catch(e){}if(o[d]=c,e===d)break}catch(e){}}return e?o[e]:o}}return o.set=n,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,s){n(t,"",e(s,{expires:-1}))},o.defaults={},o.withConverter=s,o}return s((function(){}))},We.exports=Oe();var qe=We.exports,ze={get:qe.get,set:qe.set,remove:qe.remove},$e=ie,Ye=function(e,t){return new $e((function(s,a){t.onload=function(){s(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},Ze=function(e){var t={};if(!e||"string"!=typeof e)return t;var s=e.trim().replace(/^[?#&]/,""),a=new URLSearchParams(s),o=a.keys();do{var n=o.next(),i=n.value;if(i){var r=a.getAll(i);1===r.length?t[i]=r[0]:t[i]=r}}while(!1===n.done);return t},Je=function(e){var t="{{space}}",s=new URLSearchParams;return Object.keys(e).forEach((function(a){var o=e[a];"string"==typeof e[a]?o=o.replace(/ /g,t):["object","undefined"].includes(typeof o)&&!Array.isArray(o)&&(o=""),Array.isArray(o)?o.forEach((function(e){s.append(a,e)})):s.append(a,o)})),s.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Qe="@adobe/reactor-",Xe={cookie:ze,document:r,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var s=Ye(e,t);return document.getElementsByTagName("head")[0].appendChild(t),s},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Ze(e)},stringify:function(e){return Je(e)}},window:d},et=function(e){return function(t){if(0===t.indexOf(Qe)){var s=t.substr(Qe.length),a=Xe[s];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Fe,st=Me,at=Be,ot=A,nt=He,it=et,rt=function(e,t,s,a,o,n,i){var r=e.extensions,c=e.buildInfo,d=e.environment,l=e.property.settings;if(r){var u=tt(r,t);Object.keys(r).forEach((function(b){var m=r[b],f=m.settings;Array.isArray(m.filePaths)&&(f=n(f,m.filePaths));var p=st(a,f);if(m.modules){var g=ot.createPrefixedLogger(m.displayName),v=at(i,m.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:d,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:p,getHostedLibFileUrl:v,getSharedModule:u,logger:g,propertySettings:l,replaceTokens:a,onDebugChanged:s.onDebugChanged,get debugEnabled(){return s.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var s=m.modules[e],a=it((function(s){var a=nt(e,s);return t.getModuleExports(a)}));t.registerModule(e,s,b,a,h)}))}})),t.hydrateCache()}return t},ct=ze,dt=A,lt=function(e,t,s,a,o){var n=dt.createPrefixedLogger("Custom Script");e.track=function(e){dt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=n,e.notify=function(e,t){switch(dt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:n.info(e);break;case 4:n.warn(e);break;case 5:n.error(e);break;default:n.log(e)}},e.getVar=a,e.setVar=o,e.setCookie=function(e,t,s){var a="",o={};s&&(a=", { expires: "+s+" }",o.expires=s);var n='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";dt.deprecation(n),ct.set(e,t,o)},e.readCookie=function(e){return dt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){dt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=s;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(dt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=_e,bt=r,mt=c,ft=u,pt=b,gt=f,vt=g,ht=H,Pt=$,yt=Y,jt=X,Ct=se,wt=oe,Rt=ne,xt=ce,It=le,Et=be,Tt=fe,At=pe,Lt=ge,kt=ve,_t=he,Ot=Pe,Dt=ye,St=je,Nt=Ce,Vt=we,Ft=Re,Mt=xe,Bt=Ie,Ut=Le,Gt=ke,Kt=Ve,Ht=_,Wt=rt,qt=lt,zt=function(e,t){return function(s,a,o){return e&&ut(s)&&Object.keys(s).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!s.isExternal||n(e.split("."),s,t)})),s):s}},$t=A,Yt=window._satellite;if(Yt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Zt=Yt.container;delete Yt.container;var Jt=mt({},Zt.buildInfo);Object.defineProperty(Jt,"environment",{get:function(){return $t.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Zt.environment.stage}}),Zt.buildInfo=Jt;var Qt,Xt=gt(Ht("localStorage"),$t),es="";bt.currentScript&&bt.currentScript.getAttribute("src")&&(es=bt.currentScript.getAttribute("src"));try{Qt=ft(es,Boolean(Zt.company.dynamicCdnEnabled),Zt.company.cdnAllowList,Xt)}catch(e){throw $t.warn("Please review the following error:"),e}var ts,ss=zt(Qt.isDynamicEnforced,Qt.decorateWithDynamicHost),as=jt(),os=Zt.property.settings.undefinedVarsReturnEmpty,ns=Zt.property.settings.ruleComponentSequencingEnabled,is=Zt.dataElements||{},rs=function(e){return is[e]},cs=function(){return ts.apply(null,arguments)},ds=ht(as,rs,cs,os,ss),ls={},us=Rt(ls),bs=yt(ls,rs),ms=Pt(ls,rs,ds);ts=wt(bs,ms,os),qt(Yt,Zt,Xt.setDebugEnabled,ms,us),Wt(Zt,as,Xt,ts,ds,ss,Qt.decorateWithDynamicHost);var fs=Ct(Yt),ps=vt(as,ts,ss),gs=Lt(as),vs=St(gs,$t,fs),hs=Dt(Mt,gs,$t,fs),Ps=Ot(Mt,gs,$t,fs),ys=Nt($t,fs),js=_t(Ft(ns,At(Tt(ps,Bt,vs,hs),Vt(ps,Ps,ys)),Et(It(ps,Gt,Bt,hs,vs),xt(ps,Gt,Ps),ys),fs),ps,Kt,Mt,kt(as),$t);Ut(pt,Zt.rules||[],js)}return e(Yt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();